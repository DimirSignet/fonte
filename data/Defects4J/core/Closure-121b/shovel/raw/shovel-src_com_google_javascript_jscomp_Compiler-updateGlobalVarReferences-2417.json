{
  "origin": "codeshovel",
  "repositoryName": "Closure-121b",
  "repositoryPath": "/tmp/Closure-121b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "Compiler.java",
  "functionName": "updateGlobalVarReferences",
  "functionId": "updateGlobalVarReferences___refMapPatch-Map__Var,ReferenceCollection____collectionRoot-Node",
  "sourceFilePath": "src/com/google/javascript/jscomp/Compiler.java",
  "functionAnnotation": "@Override",
  "functionDoc": "",
  "functionStartLine": 2417,
  "functionEndLine": 2426,
  "numCommitsSeen": 177,
  "timeTaken": 8404,
  "changeHistory": [
    "ec324a9bb23eb78c76f537f4c4170ba88d542f1c",
    "841090b66ef01a81101d8a6917f274b6cdaf1de7",
    "75a9013e3907e5db97f10578227497d7b018caf5"
  ],
  "changeHistoryShort": {
    "ec324a9bb23eb78c76f537f4c4170ba88d542f1c": "Ybodychange",
    "841090b66ef01a81101d8a6917f274b6cdaf1de7": "Ybodychange",
    "75a9013e3907e5db97f10578227497d7b018caf5": "Yintroduced"
  },
  "changeHistoryDetails": {
    "ec324a9bb23eb78c76f537f4c4170ba88d542f1c": {
      "type": "Ybodychange",
      "commitMessage": "\nReplace the bulk of the Node.getType() \u003d\u003d Token.XXX calls with\nNode.isXXX calls.\n\nR\u003dnicksantos\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d3677\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@1582 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "11/10/11, 8:36 AM",
      "commitName": "ec324a9bb23eb78c76f537f4c4170ba88d542f1c",
      "commitAuthor": "johnlenz@google.com",
      "commitDateOld": "11/3/11, 8:48 AM",
      "commitNameOld": "56b80409782adba1f2e29c66ad808098a8edcf51",
      "commitAuthorOld": "nicksantos@google.com",
      "daysBetweenCommits": 7.03,
      "commitsBetweenForRepo": 32,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nvoid updateGlobalVarReferences(Map\u003cVar, ReferenceCollection\u003e refMapPatch, Node collectionRoot) {\n    Preconditions.checkState(collectionRoot.isScript() || collectionRoot.isBlock());\n    if (globalRefMap \u003d\u003d null) {\n        globalRefMap \u003d new GlobalVarReferenceMap(getInputsInOrder(), getExternsInOrder());\n    }\n    globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);\n}",
      "path": "src/com/google/javascript/jscomp/Compiler.java",
      "functionStartLine": 2087,
      "functionName": "updateGlobalVarReferences",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,8 +1,8 @@\n @Override\n void updateGlobalVarReferences(Map\u003cVar, ReferenceCollection\u003e refMapPatch, Node collectionRoot) {\n-    Preconditions.checkState(collectionRoot.getType() \u003d\u003d Token.SCRIPT || collectionRoot.getType() \u003d\u003d Token.BLOCK);\n+    Preconditions.checkState(collectionRoot.isScript() || collectionRoot.isBlock());\n     if (globalRefMap \u003d\u003d null) {\n         globalRefMap \u003d new GlobalVarReferenceMap(getInputsInOrder(), getExternsInOrder());\n     }\n     globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "841090b66ef01a81101d8a6917f274b6cdaf1de7": {
      "type": "Ybodychange",
      "commitMessage": "\nProcess Extens in GlobalVarReferencesMap so that we can deal with the newly supported reference collecting in Externs added in other places in the compiler.\n\nR\u003dbashir,acleung\nDELTA\u003d59  (49 added, 0 deleted, 10 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d2706\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@1286 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "7/22/11, 12:38 PM",
      "commitName": "841090b66ef01a81101d8a6917f274b6cdaf1de7",
      "commitAuthor": "tylerg@google.com",
      "commitDateOld": "7/20/11, 8:08 AM",
      "commitNameOld": "ae5ae60fb49108d4daa3f3e5dd2e1b135d305e9a",
      "commitAuthorOld": "nicksantos@google.com",
      "daysBetweenCommits": 2.19,
      "commitsBetweenForRepo": 11,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nvoid updateGlobalVarReferences(Map\u003cVar, ReferenceCollection\u003e refMapPatch, Node collectionRoot) {\n    Preconditions.checkState(collectionRoot.getType() \u003d\u003d Token.SCRIPT || collectionRoot.getType() \u003d\u003d Token.BLOCK);\n    if (globalRefMap \u003d\u003d null) {\n        globalRefMap \u003d new GlobalVarReferenceMap(getInputsInOrder(), getExternsInOrder());\n    }\n    globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);\n}",
      "path": "src/com/google/javascript/jscomp/Compiler.java",
      "functionStartLine": 2036,
      "functionName": "updateGlobalVarReferences",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,8 +1,8 @@\n @Override\n void updateGlobalVarReferences(Map\u003cVar, ReferenceCollection\u003e refMapPatch, Node collectionRoot) {\n     Preconditions.checkState(collectionRoot.getType() \u003d\u003d Token.SCRIPT || collectionRoot.getType() \u003d\u003d Token.BLOCK);\n     if (globalRefMap \u003d\u003d null) {\n-        globalRefMap \u003d new GlobalVarReferenceMap(getInputsInOrder());\n+        globalRefMap \u003d new GlobalVarReferenceMap(getInputsInOrder(), getExternsInOrder());\n     }\n     globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "75a9013e3907e5db97f10578227497d7b018caf5": {
      "type": "Yintroduced",
      "commitMessage": "\nmade checkVariableReferences hot-swappable and to do this added the\nfunctionality to keep lists of all global var references in Compiler\n\nR\u003dnicksantos\nDELTA\u003d478  (417 added, 8 deleted, 53 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d1999\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@1128 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "5/24/11, 10:36 AM",
      "commitName": "75a9013e3907e5db97f10578227497d7b018caf5",
      "commitAuthor": "bashir@google.com",
      "diff": "@@ -0,0 +1,8 @@\n+@Override\n+void updateGlobalVarReferences(Map\u003cVar, ReferenceCollection\u003e refMapPatch, Node collectionRoot) {\n+    Preconditions.checkState(collectionRoot.getType() \u003d\u003d Token.SCRIPT || collectionRoot.getType() \u003d\u003d Token.BLOCK);\n+    if (globalRefMap \u003d\u003d null) {\n+        globalRefMap \u003d new GlobalVarReferenceMap(getInputsInOrder());\n+    }\n+    globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);\n+}\n\\ No newline at end of file\n",
      "actualSource": "@Override\nvoid updateGlobalVarReferences(Map\u003cVar, ReferenceCollection\u003e refMapPatch, Node collectionRoot) {\n    Preconditions.checkState(collectionRoot.getType() \u003d\u003d Token.SCRIPT || collectionRoot.getType() \u003d\u003d Token.BLOCK);\n    if (globalRefMap \u003d\u003d null) {\n        globalRefMap \u003d new GlobalVarReferenceMap(getInputsInOrder());\n    }\n    globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);\n}",
      "path": "src/com/google/javascript/jscomp/Compiler.java",
      "functionStartLine": 1993,
      "functionName": "updateGlobalVarReferences",
      "functionAnnotation": "@Override",
      "functionDoc": ""
    }
  }
}