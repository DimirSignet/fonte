{
  "origin": "codeshovel",
  "repositoryName": "Closure-2b",
  "repositoryPath": "/tmp/Closure-2b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "TypedScopeCreator.java",
  "functionName": "build",
  "functionId": "$build",
  "sourceFilePath": "src/com/google/javascript/jscomp/TypedScopeCreator.java",
  "functionAnnotation": "",
  "functionDoc": "Traverse the scope root and build it.\n",
  "functionStartLine": 1878,
  "functionEndLine": 1899,
  "numCommitsSeen": 117,
  "timeTaken": 9245,
  "changeHistory": [
    "b675d1da9d5f8b36849db4943f580969105901a4",
    "b5a15f856546dca1c5d923db54d5a5bc301c8e98",
    "81af563b02f3b2694a227963a1d5a8dede7eefbd",
    "dff730a3759cad9c491f72d9905eee93962d3d35",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3"
  ],
  "changeHistoryShort": {
    "b675d1da9d5f8b36849db4943f580969105901a4": "Ybodychange",
    "b5a15f856546dca1c5d923db54d5a5bc301c8e98": "Ybodychange",
    "81af563b02f3b2694a227963a1d5a8dede7eefbd": "Ybodychange",
    "dff730a3759cad9c491f72d9905eee93962d3d35": "Ybodychange",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "b675d1da9d5f8b36849db4943f580969105901a4": {
      "type": "Ybodychange",
      "commitMessage": "\nAdd a heuristic for figuring out the type of an inferred variable\nthat is read across multiple scopes. This isn\u0027t perfect, but it should\ncatch a lot of common cases.\nFixes issue 726\n\nTested:\nyes\n\nQA: yes\n\nR\u003djohnlenz,dimvar\nDELTA\u003d254  (211 added, 17 deleted, 26 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d5338\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@2137 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/10/12, 12:49 PM",
      "commitName": "b675d1da9d5f8b36849db4943f580969105901a4",
      "commitAuthor": "nicksantos@google.com",
      "commitDateOld": "8/9/12, 11:13 AM",
      "commitNameOld": "c9262165386f6c4fa5713f618bb4083c91710420",
      "commitAuthorOld": "nicksantos@google.com",
      "daysBetweenCommits": 1.07,
      "commitsBetweenForRepo": 4,
      "commitsBetweenForFile": 1,
      "actualSource": "void build() {\n    NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n    AstFunctionContents contents \u003d getFunctionAnalysisResults(scope.getRootNode());\n    if (contents !\u003d null) {\n        for (String varName : contents.getEscapedVarNames()) {\n            Var v \u003d scope.getVar(varName);\n            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n            v.markEscaped();\n        }\n        for (Multiset.Entry\u003cString\u003e entry : contents.getAssignedNameCounts().entrySet()) {\n            Var v \u003d scope.getVar(entry.getElement());\n            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n            if (entry.getCount() \u003d\u003d 1) {\n                v.markAssignedExactlyOnce();\n            }\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/TypedScopeCreator.java",
      "functionStartLine": 1864,
      "functionName": "build",
      "functionAnnotation": "",
      "functionDoc": "Traverse the scope root and build it.\n",
      "diff": "@@ -1,11 +1,18 @@\n void build() {\n     NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n     AstFunctionContents contents \u003d getFunctionAnalysisResults(scope.getRootNode());\n     if (contents !\u003d null) {\n         for (String varName : contents.getEscapedVarNames()) {\n             Var v \u003d scope.getVar(varName);\n             Preconditions.checkState(v.getScope() \u003d\u003d scope);\n             v.markEscaped();\n         }\n+        for (Multiset.Entry\u003cString\u003e entry : contents.getAssignedNameCounts().entrySet()) {\n+            Var v \u003d scope.getVar(entry.getElement());\n+            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n+            if (entry.getCount() \u003d\u003d 1) {\n+                v.markAssignedExactlyOnce();\n+            }\n+        }\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "b5a15f856546dca1c5d923db54d5a5bc301c8e98": {
      "type": "Ybodychange",
      "commitMessage": "\nAutomated g4 rollback\n\n*** Reason for rollback ***\n\nbreaks tests\n\n*** Original change description ***\n\nAdd a heuristic for figuring out the type of an inferred variable\nthat is read across multiple scopes. This isn\u0027t perfect, but it should\ncatch a lot of common cases.\nFixes issue 726\n\nTested:\nyes\n\nDELTA\u003d249  (9 added, 221 deleted, 19 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d5333\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@2132 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/8/12, 7:01 PM",
      "commitName": "b5a15f856546dca1c5d923db54d5a5bc301c8e98",
      "commitAuthor": "nicksantos@google.com",
      "commitDateOld": "8/8/12, 4:37 PM",
      "commitNameOld": "81af563b02f3b2694a227963a1d5a8dede7eefbd",
      "commitAuthorOld": "nicksantos@google.com",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "void build() {\n    NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n    AstFunctionContents contents \u003d getFunctionAnalysisResults(scope.getRootNode());\n    if (contents !\u003d null) {\n        for (String varName : contents.getEscapedVarNames()) {\n            Var v \u003d scope.getVar(varName);\n            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n            v.markEscaped();\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/TypedScopeCreator.java",
      "functionStartLine": 1863,
      "functionName": "build",
      "functionAnnotation": "",
      "functionDoc": "Traverse the scope root and build it.\n",
      "diff": "@@ -1,18 +1,11 @@\n void build() {\n     NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n     AstFunctionContents contents \u003d getFunctionAnalysisResults(scope.getRootNode());\n     if (contents !\u003d null) {\n         for (String varName : contents.getEscapedVarNames()) {\n             Var v \u003d scope.getVar(varName);\n             Preconditions.checkState(v.getScope() \u003d\u003d scope);\n             v.markEscaped();\n         }\n-        for (Multiset.Entry\u003cString\u003e entry : contents.getAssignedNameCounts().entrySet()) {\n-            Var v \u003d scope.getVar(entry.getElement());\n-            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n-            if (entry.getCount() \u003d\u003d 1) {\n-                v.markAssignedExactlyOnce();\n-            }\n-        }\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "81af563b02f3b2694a227963a1d5a8dede7eefbd": {
      "type": "Ybodychange",
      "commitMessage": "\nAdd a heuristic for figuring out the type of an inferred variable\nthat is read across multiple scopes. This isn\u0027t perfect, but it should\ncatch a lot of common cases.\nFixes issue 726\n\nTested:\nyes\n\nR\u003djohnlenz,dimvar\nDELTA\u003d249  (221 added, 9 deleted, 19 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d5332\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@2131 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/8/12, 4:37 PM",
      "commitName": "81af563b02f3b2694a227963a1d5a8dede7eefbd",
      "commitAuthor": "nicksantos@google.com",
      "commitDateOld": "7/30/12, 3:33 PM",
      "commitNameOld": "6588923bf1f47ee23764ea41f3e73febb92e3053",
      "commitAuthorOld": "nicksantos@google.com",
      "daysBetweenCommits": 9.04,
      "commitsBetweenForRepo": 18,
      "commitsBetweenForFile": 1,
      "actualSource": "void build() {\n    NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n    AstFunctionContents contents \u003d getFunctionAnalysisResults(scope.getRootNode());\n    if (contents !\u003d null) {\n        for (String varName : contents.getEscapedVarNames()) {\n            Var v \u003d scope.getVar(varName);\n            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n            v.markEscaped();\n        }\n        for (Multiset.Entry\u003cString\u003e entry : contents.getAssignedNameCounts().entrySet()) {\n            Var v \u003d scope.getVar(entry.getElement());\n            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n            if (entry.getCount() \u003d\u003d 1) {\n                v.markAssignedExactlyOnce();\n            }\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/TypedScopeCreator.java",
      "functionStartLine": 1864,
      "functionName": "build",
      "functionAnnotation": "",
      "functionDoc": "Traverse the scope root and build it.\n",
      "diff": "@@ -1,11 +1,18 @@\n void build() {\n     NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n     AstFunctionContents contents \u003d getFunctionAnalysisResults(scope.getRootNode());\n     if (contents !\u003d null) {\n         for (String varName : contents.getEscapedVarNames()) {\n             Var v \u003d scope.getVar(varName);\n             Preconditions.checkState(v.getScope() \u003d\u003d scope);\n             v.markEscaped();\n         }\n+        for (Multiset.Entry\u003cString\u003e entry : contents.getAssignedNameCounts().entrySet()) {\n+            Var v \u003d scope.getVar(entry.getElement());\n+            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n+            if (entry.getCount() \u003d\u003d 1) {\n+                v.markAssignedExactlyOnce();\n+            }\n+        }\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "dff730a3759cad9c491f72d9905eee93962d3d35": {
      "type": "Ybodychange",
      "commitMessage": "\nBreak out basic function analysis into a separate pass, rather\nthan trying to do it as we go.\nThere should be no functional change, but this should make it\na lot easier to move things around in the future.\n\nR\u003dacleung\nDELTA\u003d332  (224 added, 89 deleted, 19 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d3318\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@1460 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "9/21/11, 5:18 PM",
      "commitName": "dff730a3759cad9c491f72d9905eee93962d3d35",
      "commitAuthor": "nicksantos@google.com",
      "commitDateOld": "9/14/11, 2:04 PM",
      "commitNameOld": "87a4a3c27a5e60e95df3ec398272d499d9915b56",
      "commitAuthorOld": "tylerg@google.com",
      "daysBetweenCommits": 7.13,
      "commitsBetweenForRepo": 16,
      "commitsBetweenForFile": 1,
      "actualSource": "void build() {\n    NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n    AstFunctionContents contents \u003d getFunctionAnalysisResults(scope.getRootNode());\n    if (contents !\u003d null) {\n        for (String varName : contents.getEscapedVarNames()) {\n            Var v \u003d scope.getVar(varName);\n            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n            v.markEscaped();\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/TypedScopeCreator.java",
      "functionStartLine": 1735,
      "functionName": "build",
      "functionAnnotation": "",
      "functionDoc": "Traverse the scope root and build it.\n",
      "diff": "@@ -1,3 +1,11 @@\n void build() {\n     NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n+    AstFunctionContents contents \u003d getFunctionAnalysisResults(scope.getRootNode());\n+    if (contents !\u003d null) {\n+        for (String varName : contents.getEscapedVarNames()) {\n+            Var v \u003d scope.getVar(varName);\n+            Preconditions.checkState(v.getScope() \u003d\u003d scope);\n+            v.markEscaped();\n+        }\n+    }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": {
      "type": "Yintroduced",
      "commitMessage": "Initial commit.\n\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@2 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "11/3/09, 3:51 PM",
      "commitName": "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3",
      "commitAuthor": "nicholas.j.santos@gmail.com",
      "diff": "@@ -0,0 +1,3 @@\n+void build() {\n+    NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n+}\n\\ No newline at end of file\n",
      "actualSource": "void build() {\n    NodeTraversal.traverse(compiler, scope.getRootNode(), this);\n}",
      "path": "src/com/google/javascript/jscomp/TypedScopeCreator.java",
      "functionStartLine": 1185,
      "functionName": "build",
      "functionAnnotation": "",
      "functionDoc": "Traverse the scope root and build it.\n"
    }
  }
}