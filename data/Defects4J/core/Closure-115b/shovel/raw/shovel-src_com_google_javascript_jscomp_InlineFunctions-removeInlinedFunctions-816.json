{
  "origin": "codeshovel",
  "repositoryName": "Closure-115b",
  "repositoryPath": "/tmp/Closure-115b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "InlineFunctions.java",
  "functionName": "removeInlinedFunctions",
  "functionId": "removeInlinedFunctions",
  "sourceFilePath": "src/com/google/javascript/jscomp/InlineFunctions.java",
  "functionAnnotation": "",
  "functionDoc": "Removed inlined functions that no longer have any references.\n",
  "functionStartLine": 816,
  "functionEndLine": 832,
  "numCommitsSeen": 43,
  "timeTaken": 2364,
  "changeHistory": [
    "4ff5d0b989360d785c63978faf8eed6284e030e1",
    "8676b938a4311b0330abcbe12ab338983cb31d2b",
    "44e59948342527c9d8ffc6f2b01d86af72aaef54",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3"
  ],
  "changeHistoryShort": {
    "4ff5d0b989360d785c63978faf8eed6284e030e1": "Ybodychange",
    "8676b938a4311b0330abcbe12ab338983cb31d2b": "Ybodychange",
    "44e59948342527c9d8ffc6f2b01d86af72aaef54": "Ybodychange",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "4ff5d0b989360d785c63978faf8eed6284e030e1": {
      "type": "Ybodychange",
      "commitMessage": "Make Peephole and UnreachableCodeElimination only work on functions that have changed since the last run.\n-------------\nCreated by MOE: http://code.google.com/p/moe-java\nMOE_MIGRATED_REVID\u003d44109570\n",
      "commitDate": "3/20/13, 9:48 AM",
      "commitName": "4ff5d0b989360d785c63978faf8eed6284e030e1",
      "commitAuthor": "Ben Lickly",
      "commitDateOld": "1/10/13, 4:31 PM",
      "commitNameOld": "9bf6d8db973a4691ad1551bdcbc559a86ba60532",
      "commitAuthorOld": "johnlenz@google.com",
      "daysBetweenCommits": 68.68,
      "commitsBetweenForRepo": 144,
      "commitsBetweenForFile": 1,
      "actualSource": "void removeInlinedFunctions() {\n    for (FunctionState fs : fns.values()) {\n        if (fs.canRemove()) {\n            Function fn \u003d fs.getFn();\n            Preconditions.checkState(fs.canInline());\n            Preconditions.checkState(fn !\u003d null);\n            verifyAllReferencesInlined(fs);\n            if (specializationState !\u003d null) {\n                specializationState.reportRemovedFunction(fn.getFunctionNode(), fn.getDeclaringBlock());\n            }\n            fn.remove();\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/InlineFunctions.java",
      "functionStartLine": 818,
      "functionName": "removeInlinedFunctions",
      "functionAnnotation": "",
      "functionDoc": "Removed inlined functions that no longer have any references.\n",
      "diff": "@@ -1,15 +1,14 @@\n void removeInlinedFunctions() {\n     for (FunctionState fs : fns.values()) {\n         if (fs.canRemove()) {\n             Function fn \u003d fs.getFn();\n             Preconditions.checkState(fs.canInline());\n             Preconditions.checkState(fn !\u003d null);\n             verifyAllReferencesInlined(fs);\n             if (specializationState !\u003d null) {\n                 specializationState.reportRemovedFunction(fn.getFunctionNode(), fn.getDeclaringBlock());\n             }\n             fn.remove();\n-            compiler.reportCodeChange();\n         }\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "8676b938a4311b0330abcbe12ab338983cb31d2b": {
      "type": "Ybodychange",
      "commitMessage": "\nMove dummy declaration in specialization to the end of the declaring block.\n\nR\u003dnicksantos\nDELTA\u003d65  (47 added, 6 deleted, 12 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d205500\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@399 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/31/10, 5:48 PM",
      "commitName": "8676b938a4311b0330abcbe12ab338983cb31d2b",
      "commitAuthor": "acleung@google.com",
      "commitDateOld": "8/12/10, 11:58 AM",
      "commitNameOld": "44e59948342527c9d8ffc6f2b01d86af72aaef54",
      "commitAuthorOld": "dcc@google.com",
      "daysBetweenCommits": 19.24,
      "commitsBetweenForRepo": 44,
      "commitsBetweenForFile": 1,
      "actualSource": "void removeInlinedFunctions() {\n    for (FunctionState fs : fns.values()) {\n        if (fs.canRemove()) {\n            Function fn \u003d fs.getFn();\n            Preconditions.checkState(fs.canInline());\n            Preconditions.checkState(fn !\u003d null);\n            verifyAllReferencesInlined(fs);\n            if (specializationState !\u003d null) {\n                specializationState.reportRemovedFunction(fn.getFunctionNode(), fn.getDeclaringBlock());\n            }\n            fn.remove();\n            compiler.reportCodeChange();\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/InlineFunctions.java",
      "functionStartLine": 785,
      "functionName": "removeInlinedFunctions",
      "functionAnnotation": "",
      "functionDoc": "Removed inlined functions that no longer have any references.\n",
      "diff": "@@ -1,15 +1,15 @@\n void removeInlinedFunctions() {\n     for (FunctionState fs : fns.values()) {\n         if (fs.canRemove()) {\n             Function fn \u003d fs.getFn();\n             Preconditions.checkState(fs.canInline());\n             Preconditions.checkState(fn !\u003d null);\n             verifyAllReferencesInlined(fs);\n             if (specializationState !\u003d null) {\n-                specializationState.reportRemovedFunction(fn.getFunctionNode());\n+                specializationState.reportRemovedFunction(fn.getFunctionNode(), fn.getDeclaringBlock());\n             }\n             fn.remove();\n             compiler.reportCodeChange();\n         }\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "44e59948342527c9d8ffc6f2b01d86af72aaef54": {
      "type": "Ybodychange",
      "commitMessage": "\nExperimental initial module specialization.\n\nThis optimization replaces functions in the initial module with specialized\nversions that are only safe in the initial module.\nThe original, general, versions of the functions are \"fixed up\" in later\nmodules.\nThis optimization can shrink the initial module significantly but the fixup code\nin later modules increases overall code size.\n\nSee SpecializeModule.java for more details.\n\nThis change modifies three existing passes: DevirtualizePrototyMethods, InlineFunctions, and\nRemoveUnusedPrototypeProperties, to be specialization-aware.\nWhen running under specialization, these modules now ask before modifying or\nremoving a function and report\nwhat functions they have modified or removed.\n\nFiles meriting extra scrutiny:\n- DevirtualizePrototypeMethods.java\n- RemoveUnusedPrototypeProperties.java\n- InlineFunctions.java\n- DefaultPassConfig.java\n\nR\u003dacleung\nDELTA\u003d1820  (1810 added, 0 deleted, 10 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d103003\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@353 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/12/10, 11:58 AM",
      "commitName": "44e59948342527c9d8ffc6f2b01d86af72aaef54",
      "commitAuthor": "dcc@google.com",
      "commitDateOld": "8/12/10, 6:02 PM",
      "commitNameOld": "15acafb00636f99295b394145b9b60a5e624ddfa",
      "commitAuthorOld": "Nicholas.J.Santos",
      "daysBetweenCommits": -0.25,
      "commitsBetweenForRepo": 0,
      "commitsBetweenForFile": 0,
      "actualSource": "void removeInlinedFunctions() {\n    for (FunctionState fs : fns.values()) {\n        if (fs.canRemove()) {\n            Function fn \u003d fs.getFn();\n            Preconditions.checkState(fs.canInline());\n            Preconditions.checkState(fn !\u003d null);\n            verifyAllReferencesInlined(fs);\n            if (specializationState !\u003d null) {\n                specializationState.reportRemovedFunction(fn.getFunctionNode());\n            }\n            fn.remove();\n            compiler.reportCodeChange();\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/InlineFunctions.java",
      "functionStartLine": 785,
      "functionName": "removeInlinedFunctions",
      "functionAnnotation": "",
      "functionDoc": "Removed inlined functions that no longer have any references.\n",
      "diff": "@@ -1,12 +1,15 @@\n void removeInlinedFunctions() {\n     for (FunctionState fs : fns.values()) {\n         if (fs.canRemove()) {\n             Function fn \u003d fs.getFn();\n             Preconditions.checkState(fs.canInline());\n             Preconditions.checkState(fn !\u003d null);\n             verifyAllReferencesInlined(fs);\n+            if (specializationState !\u003d null) {\n+                specializationState.reportRemovedFunction(fn.getFunctionNode());\n+            }\n             fn.remove();\n             compiler.reportCodeChange();\n         }\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": {
      "type": "Yintroduced",
      "commitMessage": "Initial commit.\n\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@2 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "11/3/09, 3:51 PM",
      "commitName": "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3",
      "commitAuthor": "nicholas.j.santos@gmail.com",
      "diff": "@@ -0,0 +1,12 @@\n+void removeInlinedFunctions() {\n+    for (FunctionState fs : fns.values()) {\n+        if (fs.canRemove()) {\n+            Function fn \u003d fs.getFn();\n+            Preconditions.checkState(fs.canInline());\n+            Preconditions.checkState(fn !\u003d null);\n+            verifyAllReferencesInlined(fs);\n+            fn.remove();\n+            compiler.reportCodeChange();\n+        }\n+    }\n+}\n\\ No newline at end of file\n",
      "actualSource": "void removeInlinedFunctions() {\n    for (FunctionState fs : fns.values()) {\n        if (fs.canRemove()) {\n            Function fn \u003d fs.getFn();\n            Preconditions.checkState(fs.canInline());\n            Preconditions.checkState(fn !\u003d null);\n            verifyAllReferencesInlined(fs);\n            fn.remove();\n            compiler.reportCodeChange();\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/InlineFunctions.java",
      "functionStartLine": 704,
      "functionName": "removeInlinedFunctions",
      "functionAnnotation": "",
      "functionDoc": "Removed inlined functions that no longer have any references.\n"
    }
  }
}