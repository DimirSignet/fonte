{
  "origin": "codeshovel",
  "repositoryName": "Closure-48b",
  "repositoryPath": "/tmp/Closure-48b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FunctionTypeBuilder.java",
  "functionName": "inferThisType",
  "functionId": "inferThisType___info-JSDocInfo__type-JSType",
  "sourceFilePath": "src/com/google/javascript/jscomp/FunctionTypeBuilder.java",
  "functionAnnotation": "",
  "functionDoc": "Infers the type of {@code this}.\n\n@param type The type of this if the info is missing.\n",
  "functionStartLine": 369,
  "functionEndLine": 381,
  "numCommitsSeen": 42,
  "timeTaken": 1823,
  "changeHistory": [
    "a2dd1662d90524a12a99a9fa7d4308568938d963",
    "2ea78e73e6ace693e18d535560606dfd49c3f9bc",
    "a2d8936fae3eb0e3873c7f7c0233344c81436404",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3"
  ],
  "changeHistoryShort": {
    "a2dd1662d90524a12a99a9fa7d4308568938d963": "Ymultichange(Ybodychange,Ydocchange)",
    "2ea78e73e6ace693e18d535560606dfd49c3f9bc": "Ybodychange",
    "a2d8936fae3eb0e3873c7f7c0233344c81436404": "Ybodychange",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "a2dd1662d90524a12a99a9fa7d4308568938d963": {
      "type": "Ymultichange(Ybodychange,Ydocchange)",
      "commitMessage": "\nDo much better at \"this\" inference.\n\n\nTested:\nyes\n\nR\u003dacleung\nDELTA\u003d119  (64 added, 37 deleted, 18 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d3171\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@1399 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/31/11, 8:11 AM",
      "commitName": "a2dd1662d90524a12a99a9fa7d4308568938d963",
      "commitAuthor": "nicksantos@google.com",
      "subchanges": [
        {
          "type": "Ybodychange",
          "commitMessage": "\nDo much better at \"this\" inference.\n\n\nTested:\nyes\n\nR\u003dacleung\nDELTA\u003d119  (64 added, 37 deleted, 18 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d3171\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@1399 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
          "commitDate": "8/31/11, 8:11 AM",
          "commitName": "a2dd1662d90524a12a99a9fa7d4308568938d963",
          "commitAuthor": "nicksantos@google.com",
          "commitDateOld": "8/18/11, 3:46 PM",
          "commitNameOld": "bd9c7b620384fe5a98772729001ed56304459bc6",
          "commitAuthorOld": "nicksantos@google.com",
          "daysBetweenCommits": 12.68,
          "commitsBetweenForRepo": 31,
          "commitsBetweenForFile": 1,
          "actualSource": "FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n    inferThisType(info);\n    if (thisType \u003d\u003d null) {\n        ObjectType objType \u003d ObjectType.cast(type);\n        if (objType !\u003d null \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n            thisType \u003d objType;\n        }\n    }\n    return this;\n}",
          "path": "src/com/google/javascript/jscomp/FunctionTypeBuilder.java",
          "functionStartLine": 402,
          "functionName": "inferThisType",
          "functionAnnotation": "",
          "functionDoc": "Infers the type of {@code this}.\n\n@param type The type of this if the info is missing.\n",
          "diff": "@@ -1,10 +1,10 @@\n FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n-    inferThisType(info, (Node) null);\n+    inferThisType(info);\n     if (thisType \u003d\u003d null) {\n         ObjectType objType \u003d ObjectType.cast(type);\n         if (objType !\u003d null \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n             thisType \u003d objType;\n         }\n     }\n     return this;\n }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Ydocchange",
          "commitMessage": "\nDo much better at \"this\" inference.\n\n\nTested:\nyes\n\nR\u003dacleung\nDELTA\u003d119  (64 added, 37 deleted, 18 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d3171\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@1399 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
          "commitDate": "8/31/11, 8:11 AM",
          "commitName": "a2dd1662d90524a12a99a9fa7d4308568938d963",
          "commitAuthor": "nicksantos@google.com",
          "commitDateOld": "8/18/11, 3:46 PM",
          "commitNameOld": "bd9c7b620384fe5a98772729001ed56304459bc6",
          "commitAuthorOld": "nicksantos@google.com",
          "daysBetweenCommits": 12.68,
          "commitsBetweenForRepo": 31,
          "commitsBetweenForFile": 1,
          "actualSource": "FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n    inferThisType(info);\n    if (thisType \u003d\u003d null) {\n        ObjectType objType \u003d ObjectType.cast(type);\n        if (objType !\u003d null \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n            thisType \u003d objType;\n        }\n    }\n    return this;\n}",
          "path": "src/com/google/javascript/jscomp/FunctionTypeBuilder.java",
          "functionStartLine": 402,
          "functionName": "inferThisType",
          "functionAnnotation": "",
          "functionDoc": "Infers the type of {@code this}.\n\n@param type The type of this if the info is missing.\n",
          "diff": "@@ -1,10 +1,10 @@\n FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n-    inferThisType(info, (Node) null);\n+    inferThisType(info);\n     if (thisType \u003d\u003d null) {\n         ObjectType objType \u003d ObjectType.cast(type);\n         if (objType !\u003d null \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n             thisType \u003d objType;\n         }\n     }\n     return this;\n }\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldValue": "Infers the type of {@code this}.\n\n@param type The type of this.\n",
            "newValue": "Infers the type of {@code this}.\n\n@param type The type of this if the info is missing.\n"
          }
        }
      ]
    },
    "2ea78e73e6ace693e18d535560606dfd49c3f9bc": {
      "type": "Ybodychange",
      "commitMessage": "\nClean up type discovery by refactoring to the following algorithm.\n1) When we see a function literal, create the authoritative\ntype for it.\n2) When we see an object literal, create the authoritative\ntype for it.\n3) When we declare a symbol, check to see if it\u0027s assigned to\nan object or function literal, and use that type if it\nmake sense to do so. Otherwise, fall back on the JSDoc info.\nThis should make it a lot easier to give accurate types to object\nliteral properties.\nI didn\u0027t intend to create any functional changes in this CL,\nbut some minor ones were inevitable.\n\nR\u003djohnlenz\nDELTA\u003d618  (320 added, 249 deleted, 49 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d392\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@739 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "1/31/11, 8:08 AM",
      "commitName": "2ea78e73e6ace693e18d535560606dfd49c3f9bc",
      "commitAuthor": "nicksantos@google.com",
      "commitDateOld": "1/26/11, 8:30 AM",
      "commitNameOld": "043a352c2e85815a90a1926d112902d924bab6c1",
      "commitAuthorOld": "nicksantos@google.com",
      "daysBetweenCommits": 4.98,
      "commitsBetweenForRepo": 8,
      "commitsBetweenForFile": 1,
      "actualSource": "FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n    inferThisType(info, (Node) null);\n    if (thisType \u003d\u003d null) {\n        ObjectType objType \u003d ObjectType.cast(type);\n        if (objType !\u003d null \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n            thisType \u003d objType;\n        }\n    }\n    return this;\n}",
      "path": "src/com/google/javascript/jscomp/FunctionTypeBuilder.java",
      "functionStartLine": 398,
      "functionName": "inferThisType",
      "functionAnnotation": "",
      "functionDoc": "Infers the type of {@code this}.\n\n@param type The type of this.\n",
      "diff": "@@ -1,7 +1,10 @@\n FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n-    ObjectType objType \u003d ObjectType.cast(type);\n-    if (objType !\u003d null \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n-        thisType \u003d objType;\n+    inferThisType(info, (Node) null);\n+    if (thisType \u003d\u003d null) {\n+        ObjectType objType \u003d ObjectType.cast(type);\n+        if (objType !\u003d null \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n+            thisType \u003d objType;\n+        }\n     }\n     return this;\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "a2d8936fae3eb0e3873c7f7c0233344c81436404": {
      "type": "Ybodychange",
      "commitMessage": "Add warnings for functions that are ambiguously defined on different\nbrowsers.\n\nAdd better support for Caja.\n\nRollback the change to CoalesceVariableNames, because it had problems.\n\nInternal type system refactoring.\n\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@33 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "12/15/09, 1:52 PM",
      "commitName": "a2d8936fae3eb0e3873c7f7c0233344c81436404",
      "commitAuthor": "nicholas.j.santos@gmail.com",
      "commitDateOld": "11/11/09, 11:05 AM",
      "commitNameOld": "6a36f04485599820ff86441accee002b4deec2eb",
      "commitAuthorOld": "nicholas.j.santos@gmail.com",
      "daysBetweenCommits": 34.12,
      "commitsBetweenForRepo": 18,
      "commitsBetweenForFile": 1,
      "actualSource": "FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n    ObjectType objType \u003d ObjectType.cast(type);\n    if (objType !\u003d null \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n        thisType \u003d objType;\n    }\n    return this;\n}",
      "path": "src/com/google/javascript/jscomp/FunctionTypeBuilder.java",
      "functionStartLine": 258,
      "functionName": "inferThisType",
      "functionAnnotation": "",
      "functionDoc": "Infers the type of {@code this}.\n\n@param type The type of this.\n",
      "diff": "@@ -1,6 +1,7 @@\n FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n-    if (type instanceof ObjectType \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n-        thisType \u003d (ObjectType) type;\n+    ObjectType objType \u003d ObjectType.cast(type);\n+    if (objType !\u003d null \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n+        thisType \u003d objType;\n     }\n     return this;\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": {
      "type": "Yintroduced",
      "commitMessage": "Initial commit.\n\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@2 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "11/3/09, 3:51 PM",
      "commitName": "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3",
      "commitAuthor": "nicholas.j.santos@gmail.com",
      "diff": "@@ -0,0 +1,6 @@\n+FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n+    if (type instanceof ObjectType \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n+        thisType \u003d (ObjectType) type;\n+    }\n+    return this;\n+}\n\\ No newline at end of file\n",
      "actualSource": "FunctionTypeBuilder inferThisType(JSDocInfo info, JSType type) {\n    if (type instanceof ObjectType \u0026\u0026 (info \u003d\u003d null || !info.hasType())) {\n        thisType \u003d (ObjectType) type;\n    }\n    return this;\n}",
      "path": "src/com/google/javascript/jscomp/FunctionTypeBuilder.java",
      "functionStartLine": 262,
      "functionName": "inferThisType",
      "functionAnnotation": "",
      "functionDoc": "Infers the type of {@code this}.\n\n@param type The type of this.\n"
    }
  }
}