{
  "origin": "codeshovel",
  "repositoryName": "Closure-21b",
  "repositoryPath": "/tmp/Closure-21b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "CodePrinter.java",
  "functionName": "startSourceMapping",
  "functionId": "$startSourceMapping___node-Node",
  "sourceFilePath": "src/com/google/javascript/jscomp/CodePrinter.java",
  "functionAnnotation": "@Override",
  "functionDoc": "Starts the source mapping for the given\nnode at the current position.\n",
  "functionStartLine": 90,
  "functionEndLine": 106,
  "numCommitsSeen": 30,
  "timeTaken": 1134,
  "changeHistory": [
    "9320feca198878ca9464aae089399a8891c314d7",
    "7d6ca28dda13c58829bb7b07cceab46dbe7a1510",
    "c1c31ef4cad0af0c8f3524ff85a48053d00f97fb",
    "114620510958121ebec3dd8d037d70571fb7da20",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3"
  ],
  "changeHistoryShort": {
    "9320feca198878ca9464aae089399a8891c314d7": "Ybodychange",
    "7d6ca28dda13c58829bb7b07cceab46dbe7a1510": "Ybodychange",
    "c1c31ef4cad0af0c8f3524ff85a48053d00f97fb": "Ybodychange",
    "114620510958121ebec3dd8d037d70571fb7da20": "Ybodychange",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "9320feca198878ca9464aae089399a8891c314d7": {
      "type": "Ybodychange",
      "commitMessage": "\nMake StaticSourceFile a property of Node\n\nR\u003djohnlenz\nDELTA\u003d183  (102 added, 25 deleted, 56 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d2496\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@1236 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "6/30/11, 1:25 PM",
      "commitName": "9320feca198878ca9464aae089399a8891c314d7",
      "commitAuthor": "nicksantos@google.com",
      "commitDateOld": "4/12/11, 12:15 PM",
      "commitNameOld": "f322be0e576d5e2114cb59c0a6537197997b9c59",
      "commitAuthorOld": "johnlenz@google.com",
      "daysBetweenCommits": 79.05,
      "commitsBetweenForRepo": 230,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nvoid startSourceMapping(Node node) {\n    Preconditions.checkState(sourceMapDetailLevel !\u003d null);\n    Preconditions.checkState(node !\u003d null);\n    if (createSrcMap \u0026\u0026 node.getSourceFileName() !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n        int line \u003d getCurrentLineIndex();\n        int index \u003d getCurrentCharIndex();\n        Preconditions.checkState(line \u003e\u003d 0);\n        Mapping mapping \u003d new Mapping();\n        mapping.node \u003d node;\n        mapping.start \u003d new FilePosition(line, index);\n        mappings.push(mapping);\n        allMappings.add(mapping);\n    }\n}",
      "path": "src/com/google/javascript/jscomp/CodePrinter.java",
      "functionStartLine": 90,
      "functionName": "startSourceMapping",
      "functionAnnotation": "@Override",
      "functionDoc": "Starts the source mapping for the given\nnode at the current position.\n",
      "diff": "@@ -1,15 +1,15 @@\n @Override\n void startSourceMapping(Node node) {\n     Preconditions.checkState(sourceMapDetailLevel !\u003d null);\n     Preconditions.checkState(node !\u003d null);\n-    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCENAME_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n+    if (createSrcMap \u0026\u0026 node.getSourceFileName() !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n         int line \u003d getCurrentLineIndex();\n         int index \u003d getCurrentCharIndex();\n         Preconditions.checkState(line \u003e\u003d 0);\n         Mapping mapping \u003d new Mapping();\n         mapping.node \u003d node;\n         mapping.start \u003d new FilePosition(line, index);\n         mappings.push(mapping);\n         allMappings.add(mapping);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "7d6ca28dda13c58829bb7b07cceab46dbe7a1510": {
      "type": "Ybodychange",
      "commitMessage": "\nTweak the shared source mapping library, and update JSC to use it.\nThis paves the way for sharing the source with other compilers as well and makes it easy to experiment with new source formats.\n\nR\u003djschorr\nDELTA\u003d1466  (215 added, 1059 deleted, 192 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d640\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@809 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "2/22/11, 5:24 PM",
      "commitName": "7d6ca28dda13c58829bb7b07cceab46dbe7a1510",
      "commitAuthor": "johnlenz@google.com",
      "commitDateOld": "2/17/11, 11:23 AM",
      "commitNameOld": "817b76b372d0f071dc1965b47e8134c0e3511f91",
      "commitAuthorOld": "johnlenz@google.com",
      "daysBetweenCommits": 5.25,
      "commitsBetweenForRepo": 12,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nvoid startSourceMapping(Node node) {\n    Preconditions.checkState(sourceMapDetailLevel !\u003d null);\n    Preconditions.checkState(node !\u003d null);\n    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCENAME_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n        int line \u003d getCurrentLineIndex();\n        int index \u003d getCurrentCharIndex();\n        Preconditions.checkState(line \u003e\u003d 0);\n        Mapping mapping \u003d new Mapping();\n        mapping.node \u003d node;\n        mapping.start \u003d new FilePosition(line, index);\n        mappings.push(mapping);\n        allMappings.add(mapping);\n    }\n}",
      "path": "src/com/google/javascript/jscomp/CodePrinter.java",
      "functionStartLine": 89,
      "functionName": "startSourceMapping",
      "functionAnnotation": "@Override",
      "functionDoc": "Starts the source mapping for the given\nnode at the current position.\n",
      "diff": "@@ -1,15 +1,15 @@\n @Override\n void startSourceMapping(Node node) {\n     Preconditions.checkState(sourceMapDetailLevel !\u003d null);\n     Preconditions.checkState(node !\u003d null);\n     if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCENAME_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n         int line \u003d getCurrentLineIndex();\n         int index \u003d getCurrentCharIndex();\n         Preconditions.checkState(line \u003e\u003d 0);\n         Mapping mapping \u003d new Mapping();\n         mapping.node \u003d node;\n-        mapping.start \u003d new Position(line, index);\n+        mapping.start \u003d new FilePosition(line, index);\n         mappings.push(mapping);\n         allMappings.add(mapping);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "c1c31ef4cad0af0c8f3524ff85a48053d00f97fb": {
      "type": "Ybodychange",
      "commitMessage": "\nAs agreed, remove the redundant SOURCEFILE_PROP with the original\nSOURCENAME_PROP.\n\nR\u003dbowdidge\nDELTA\u003d30  (0 added, 7 deleted, 23 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d162003\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@366 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/17/10, 5:25 PM",
      "commitName": "c1c31ef4cad0af0c8f3524ff85a48053d00f97fb",
      "commitAuthor": "johnlenz@google.com",
      "commitDateOld": "8/12/10, 6:02 PM",
      "commitNameOld": "15acafb00636f99295b394145b9b60a5e624ddfa",
      "commitAuthorOld": "Nicholas.J.Santos",
      "daysBetweenCommits": 4.97,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nvoid startSourceMapping(Node node) {\n    Preconditions.checkState(sourceMapDetailLevel !\u003d null);\n    Preconditions.checkState(node !\u003d null);\n    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCENAME_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n        int line \u003d getCurrentLineIndex();\n        int index \u003d getCurrentCharIndex();\n        Preconditions.checkState(line \u003e\u003d 0);\n        Mapping mapping \u003d new Mapping();\n        mapping.node \u003d node;\n        mapping.start \u003d new Position(line, index);\n        mappings.push(mapping);\n        allMappings.add(mapping);\n    }\n}",
      "path": "src/com/google/javascript/jscomp/CodePrinter.java",
      "functionStartLine": 90,
      "functionName": "startSourceMapping",
      "functionAnnotation": "@Override",
      "functionDoc": "Starts the source mapping for the given\nnode at the current position.\n",
      "diff": "@@ -1,15 +1,15 @@\n @Override\n void startSourceMapping(Node node) {\n     Preconditions.checkState(sourceMapDetailLevel !\u003d null);\n     Preconditions.checkState(node !\u003d null);\n-    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n+    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCENAME_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n         int line \u003d getCurrentLineIndex();\n         int index \u003d getCurrentCharIndex();\n         Preconditions.checkState(line \u003e\u003d 0);\n         Mapping mapping \u003d new Mapping();\n         mapping.node \u003d node;\n         mapping.start \u003d new Position(line, index);\n         mappings.push(mapping);\n         allMappings.add(mapping);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "114620510958121ebec3dd8d037d70571fb7da20": {
      "type": "Ybodychange",
      "commitMessage": "\nFiltering what is presented in the source map is independent of the\nsource map format so lets default to a more limited set of nodes by\ndefault now.\n\nR\u003djschorr\nDELTA\u003d200  (170 added, 11 deleted, 19 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d85017\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@340 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/5/10, 4:13 PM",
      "commitName": "114620510958121ebec3dd8d037d70571fb7da20",
      "commitAuthor": "johnlenz@google.com",
      "commitDateOld": "7/15/10, 1:03 PM",
      "commitNameOld": "4d09ce45270187fa65a891e56081960a0ae449e5",
      "commitAuthorOld": "Nicholas.J.Santos",
      "daysBetweenCommits": 21.13,
      "commitsBetweenForRepo": 61,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nvoid startSourceMapping(Node node) {\n    Preconditions.checkState(sourceMapDetailLevel !\u003d null);\n    Preconditions.checkState(node !\u003d null);\n    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n        int line \u003d getCurrentLineIndex();\n        int index \u003d getCurrentCharIndex();\n        Preconditions.checkState(line \u003e\u003d 0);\n        Mapping mapping \u003d new Mapping();\n        mapping.node \u003d node;\n        mapping.start \u003d new Position(line, index);\n        mappings.push(mapping);\n        allMappings.add(mapping);\n    }\n}",
      "path": "src/com/google/javascript/jscomp/CodePrinter.java",
      "functionStartLine": 90,
      "functionName": "startSourceMapping",
      "functionAnnotation": "@Override",
      "functionDoc": "Starts the source mapping for the given\nnode at the current position.\n",
      "diff": "@@ -1,14 +1,15 @@\n @Override\n void startSourceMapping(Node node) {\n-    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0) {\n+    Preconditions.checkState(sourceMapDetailLevel !\u003d null);\n+    Preconditions.checkState(node !\u003d null);\n+    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0 \u0026\u0026 sourceMapDetailLevel.apply(node)) {\n         int line \u003d getCurrentLineIndex();\n         int index \u003d getCurrentCharIndex();\n-        if (index \u003e\u003d 0) {\n-            Mapping mapping \u003d new Mapping();\n-            mapping.node \u003d node;\n-            mapping.start \u003d new Position(line, index);\n-            mappings.push(mapping);\n-            allMappings.add(mapping);\n-        }\n+        Preconditions.checkState(line \u003e\u003d 0);\n+        Mapping mapping \u003d new Mapping();\n+        mapping.node \u003d node;\n+        mapping.start \u003d new Position(line, index);\n+        mappings.push(mapping);\n+        allMappings.add(mapping);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": {
      "type": "Yintroduced",
      "commitMessage": "Initial commit.\n\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@2 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "11/3/09, 3:51 PM",
      "commitName": "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3",
      "commitAuthor": "nicholas.j.santos@gmail.com",
      "diff": "@@ -0,0 +1,14 @@\n+@Override\n+void startSourceMapping(Node node) {\n+    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0) {\n+        int line \u003d getCurrentLineIndex();\n+        int index \u003d getCurrentCharIndex();\n+        if (index \u003e\u003d 0) {\n+            Mapping mapping \u003d new Mapping();\n+            mapping.node \u003d node;\n+            mapping.start \u003d new Position(line, index);\n+            mappings.push(mapping);\n+            allMappings.add(mapping);\n+        }\n+    }\n+}\n\\ No newline at end of file\n",
      "actualSource": "@Override\nvoid startSourceMapping(Node node) {\n    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0) {\n        int line \u003d getCurrentLineIndex();\n        int index \u003d getCurrentCharIndex();\n        if (index \u003e\u003d 0) {\n            Mapping mapping \u003d new Mapping();\n            mapping.node \u003d node;\n            mapping.start \u003d new Position(line, index);\n            mappings.push(mapping);\n            allMappings.add(mapping);\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/CodePrinter.java",
      "functionStartLine": 82,
      "functionName": "startSourceMapping",
      "functionAnnotation": "@Override",
      "functionDoc": "Starts the source mapping for the given\nnode at the current position.\n"
    }
  }
}