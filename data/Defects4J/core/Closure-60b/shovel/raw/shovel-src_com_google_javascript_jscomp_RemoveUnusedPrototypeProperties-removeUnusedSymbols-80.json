{
  "origin": "codeshovel",
  "repositoryName": "Closure-60b",
  "repositoryPath": "/tmp/Closure-60b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RemoveUnusedPrototypeProperties.java",
  "functionName": "removeUnusedSymbols",
  "functionId": "removeUnusedSymbols___allNameInfo-Collection__NameInfo__",
  "sourceFilePath": "src/com/google/javascript/jscomp/RemoveUnusedPrototypeProperties.java",
  "functionAnnotation": "",
  "functionDoc": "Remove all properties under a given name if the property name is\nnever referenced.\n",
  "functionStartLine": 80,
  "functionEndLine": 113,
  "numCommitsSeen": 11,
  "timeTaken": 359,
  "changeHistory": [
    "8676b938a4311b0330abcbe12ab338983cb31d2b",
    "44e59948342527c9d8ffc6f2b01d86af72aaef54",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3"
  ],
  "changeHistoryShort": {
    "8676b938a4311b0330abcbe12ab338983cb31d2b": "Ybodychange",
    "44e59948342527c9d8ffc6f2b01d86af72aaef54": "Ybodychange",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "8676b938a4311b0330abcbe12ab338983cb31d2b": {
      "type": "Ybodychange",
      "commitMessage": "\nMove dummy declaration in specialization to the end of the declaring block.\n\nR\u003dnicksantos\nDELTA\u003d65  (47 added, 6 deleted, 12 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d205500\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@399 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/31/10, 5:48 PM",
      "commitName": "8676b938a4311b0330abcbe12ab338983cb31d2b",
      "commitAuthor": "acleung@google.com",
      "commitDateOld": "8/12/10, 11:58 AM",
      "commitNameOld": "44e59948342527c9d8ffc6f2b01d86af72aaef54",
      "commitAuthorOld": "dcc@google.com",
      "daysBetweenCommits": 19.24,
      "commitsBetweenForRepo": 44,
      "commitsBetweenForFile": 1,
      "actualSource": "private void removeUnusedSymbols(Collection\u003cNameInfo\u003e allNameInfo) {\n    boolean changed \u003d false;\n    for (NameInfo nameInfo : allNameInfo) {\n        if (!nameInfo.isReferenced()) {\n            for (Symbol declaration : nameInfo.getDeclarations()) {\n                boolean canRemove \u003d false;\n                if (specializationState \u003d\u003d null) {\n                    canRemove \u003d true;\n                } else {\n                    Node specializableFunction \u003d getSpecializableFunctionFromSymbol(declaration);\n                    if (specializableFunction !\u003d null) {\n                        specializationState.reportRemovedFunction(specializableFunction, null);\n                        canRemove \u003d true;\n                    }\n                }\n                if (canRemove) {\n                    declaration.remove();\n                    changed \u003d true;\n                }\n            }\n            logger.fine(\"Removed unused prototype property: \" + nameInfo.name);\n        }\n    }\n    if (changed) {\n        compiler.reportCodeChange();\n    }\n}",
      "path": "src/com/google/javascript/jscomp/RemoveUnusedPrototypeProperties.java",
      "functionStartLine": 82,
      "functionName": "removeUnusedSymbols",
      "functionAnnotation": "",
      "functionDoc": "Remove all properties under a given name if the property name is\nnever referenced.\n",
      "diff": "@@ -1,27 +1,27 @@\n private void removeUnusedSymbols(Collection\u003cNameInfo\u003e allNameInfo) {\n     boolean changed \u003d false;\n     for (NameInfo nameInfo : allNameInfo) {\n         if (!nameInfo.isReferenced()) {\n             for (Symbol declaration : nameInfo.getDeclarations()) {\n                 boolean canRemove \u003d false;\n                 if (specializationState \u003d\u003d null) {\n                     canRemove \u003d true;\n                 } else {\n                     Node specializableFunction \u003d getSpecializableFunctionFromSymbol(declaration);\n                     if (specializableFunction !\u003d null) {\n-                        specializationState.reportRemovedFunction(specializableFunction);\n+                        specializationState.reportRemovedFunction(specializableFunction, null);\n                         canRemove \u003d true;\n                     }\n                 }\n                 if (canRemove) {\n                     declaration.remove();\n                     changed \u003d true;\n                 }\n             }\n             logger.fine(\"Removed unused prototype property: \" + nameInfo.name);\n         }\n     }\n     if (changed) {\n         compiler.reportCodeChange();\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "44e59948342527c9d8ffc6f2b01d86af72aaef54": {
      "type": "Ybodychange",
      "commitMessage": "\nExperimental initial module specialization.\n\nThis optimization replaces functions in the initial module with specialized\nversions that are only safe in the initial module.\nThe original, general, versions of the functions are \"fixed up\" in later\nmodules.\nThis optimization can shrink the initial module significantly but the fixup code\nin later modules increases overall code size.\n\nSee SpecializeModule.java for more details.\n\nThis change modifies three existing passes: DevirtualizePrototyMethods, InlineFunctions, and\nRemoveUnusedPrototypeProperties, to be specialization-aware.\nWhen running under specialization, these modules now ask before modifying or\nremoving a function and report\nwhat functions they have modified or removed.\n\nFiles meriting extra scrutiny:\n- DevirtualizePrototypeMethods.java\n- RemoveUnusedPrototypeProperties.java\n- InlineFunctions.java\n- DefaultPassConfig.java\n\nR\u003dacleung\nDELTA\u003d1820  (1810 added, 0 deleted, 10 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d103003\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@353 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/12/10, 11:58 AM",
      "commitName": "44e59948342527c9d8ffc6f2b01d86af72aaef54",
      "commitAuthor": "dcc@google.com",
      "commitDateOld": "8/12/10, 6:02 PM",
      "commitNameOld": "15acafb00636f99295b394145b9b60a5e624ddfa",
      "commitAuthorOld": "Nicholas.J.Santos",
      "daysBetweenCommits": -0.25,
      "commitsBetweenForRepo": 0,
      "commitsBetweenForFile": 0,
      "actualSource": "private void removeUnusedSymbols(Collection\u003cNameInfo\u003e allNameInfo) {\n    boolean changed \u003d false;\n    for (NameInfo nameInfo : allNameInfo) {\n        if (!nameInfo.isReferenced()) {\n            for (Symbol declaration : nameInfo.getDeclarations()) {\n                boolean canRemove \u003d false;\n                if (specializationState \u003d\u003d null) {\n                    canRemove \u003d true;\n                } else {\n                    Node specializableFunction \u003d getSpecializableFunctionFromSymbol(declaration);\n                    if (specializableFunction !\u003d null) {\n                        specializationState.reportRemovedFunction(specializableFunction);\n                        canRemove \u003d true;\n                    }\n                }\n                if (canRemove) {\n                    declaration.remove();\n                    changed \u003d true;\n                }\n            }\n            logger.fine(\"Removed unused prototype property: \" + nameInfo.name);\n        }\n    }\n    if (changed) {\n        compiler.reportCodeChange();\n    }\n}",
      "path": "src/com/google/javascript/jscomp/RemoveUnusedPrototypeProperties.java",
      "functionStartLine": 82,
      "functionName": "removeUnusedSymbols",
      "functionAnnotation": "",
      "functionDoc": "Remove all properties under a given name if the property name is\nnever referenced.\n",
      "diff": "@@ -1,15 +1,27 @@\n private void removeUnusedSymbols(Collection\u003cNameInfo\u003e allNameInfo) {\n     boolean changed \u003d false;\n     for (NameInfo nameInfo : allNameInfo) {\n         if (!nameInfo.isReferenced()) {\n             for (Symbol declaration : nameInfo.getDeclarations()) {\n-                declaration.remove();\n-                changed \u003d true;\n+                boolean canRemove \u003d false;\n+                if (specializationState \u003d\u003d null) {\n+                    canRemove \u003d true;\n+                } else {\n+                    Node specializableFunction \u003d getSpecializableFunctionFromSymbol(declaration);\n+                    if (specializableFunction !\u003d null) {\n+                        specializationState.reportRemovedFunction(specializableFunction);\n+                        canRemove \u003d true;\n+                    }\n+                }\n+                if (canRemove) {\n+                    declaration.remove();\n+                    changed \u003d true;\n+                }\n             }\n             logger.fine(\"Removed unused prototype property: \" + nameInfo.name);\n         }\n     }\n     if (changed) {\n         compiler.reportCodeChange();\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": {
      "type": "Yintroduced",
      "commitMessage": "Initial commit.\n\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@2 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "11/3/09, 3:51 PM",
      "commitName": "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3",
      "commitAuthor": "nicholas.j.santos@gmail.com",
      "diff": "@@ -0,0 +1,15 @@\n+private void removeUnusedSymbols(Collection\u003cNameInfo\u003e allNameInfo) {\n+    boolean changed \u003d false;\n+    for (NameInfo nameInfo : allNameInfo) {\n+        if (!nameInfo.isReferenced()) {\n+            for (Symbol declaration : nameInfo.getDeclarations()) {\n+                declaration.remove();\n+                changed \u003d true;\n+            }\n+            logger.fine(\"Removed unused prototype property: \" + nameInfo.name);\n+        }\n+    }\n+    if (changed) {\n+        compiler.reportCodeChange();\n+    }\n+}\n\\ No newline at end of file\n",
      "actualSource": "private void removeUnusedSymbols(Collection\u003cNameInfo\u003e allNameInfo) {\n    boolean changed \u003d false;\n    for (NameInfo nameInfo : allNameInfo) {\n        if (!nameInfo.isReferenced()) {\n            for (Symbol declaration : nameInfo.getDeclarations()) {\n                declaration.remove();\n                changed \u003d true;\n            }\n            logger.fine(\"Removed unused prototype property: \" + nameInfo.name);\n        }\n    }\n    if (changed) {\n        compiler.reportCodeChange();\n    }\n}",
      "path": "src/com/google/javascript/jscomp/RemoveUnusedPrototypeProperties.java",
      "functionStartLine": 70,
      "functionName": "removeUnusedSymbols",
      "functionAnnotation": "",
      "functionDoc": "Remove all properties under a given name if the property name is\nnever referenced.\n"
    }
  }
}