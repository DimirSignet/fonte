{
  "origin": "codeshovel",
  "repositoryName": "Closure-60b",
  "repositoryPath": "/tmp/Closure-60b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "CodePrinter.java",
  "functionName": "endSourceMapping",
  "functionId": "$endSourceMapping___node-Node",
  "sourceFilePath": "src/com/google/javascript/jscomp/CodePrinter.java",
  "functionAnnotation": "@Override",
  "functionDoc": "Finishes the source mapping for the given\nnode at the current position.\n",
  "functionStartLine": 113,
  "functionEndLine": 121,
  "numCommitsSeen": 25,
  "timeTaken": 969,
  "changeHistory": [
    "7d6ca28dda13c58829bb7b07cceab46dbe7a1510",
    "114620510958121ebec3dd8d037d70571fb7da20",
    "4d09ce45270187fa65a891e56081960a0ae449e5",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3"
  ],
  "changeHistoryShort": {
    "7d6ca28dda13c58829bb7b07cceab46dbe7a1510": "Ybodychange",
    "114620510958121ebec3dd8d037d70571fb7da20": "Ybodychange",
    "4d09ce45270187fa65a891e56081960a0ae449e5": "Ybodychange",
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "7d6ca28dda13c58829bb7b07cceab46dbe7a1510": {
      "type": "Ybodychange",
      "commitMessage": "\nTweak the shared source mapping library, and update JSC to use it.\nThis paves the way for sharing the source with other compilers as well and makes it easy to experiment with new source formats.\n\nR\u003djschorr\nDELTA\u003d1466  (215 added, 1059 deleted, 192 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d640\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@809 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "2/22/11, 5:24 PM",
      "commitName": "7d6ca28dda13c58829bb7b07cceab46dbe7a1510",
      "commitAuthor": "johnlenz@google.com",
      "commitDateOld": "2/17/11, 11:23 AM",
      "commitNameOld": "817b76b372d0f071dc1965b47e8134c0e3511f91",
      "commitAuthorOld": "johnlenz@google.com",
      "daysBetweenCommits": 5.25,
      "commitsBetweenForRepo": 12,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nvoid endSourceMapping(Node node) {\n    if (createSrcMap \u0026\u0026 !mappings.isEmpty() \u0026\u0026 mappings.peek().node \u003d\u003d node) {\n        Mapping mapping \u003d mappings.pop();\n        int line \u003d getCurrentLineIndex();\n        int index \u003d getCurrentCharIndex();\n        Preconditions.checkState(line \u003e\u003d 0);\n        mapping.end \u003d new FilePosition(line, index);\n    }\n}",
      "path": "src/com/google/javascript/jscomp/CodePrinter.java",
      "functionStartLine": 112,
      "functionName": "endSourceMapping",
      "functionAnnotation": "@Override",
      "functionDoc": "Finishes the source mapping for the given\nnode at the current position.\n",
      "diff": "@@ -1,10 +1,10 @@\n @Override\n void endSourceMapping(Node node) {\n     if (createSrcMap \u0026\u0026 !mappings.isEmpty() \u0026\u0026 mappings.peek().node \u003d\u003d node) {\n         Mapping mapping \u003d mappings.pop();\n         int line \u003d getCurrentLineIndex();\n         int index \u003d getCurrentCharIndex();\n         Preconditions.checkState(line \u003e\u003d 0);\n-        mapping.end \u003d new Position(line, index);\n+        mapping.end \u003d new FilePosition(line, index);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "114620510958121ebec3dd8d037d70571fb7da20": {
      "type": "Ybodychange",
      "commitMessage": "\nFiltering what is presented in the source map is independent of the\nsource map format so lets default to a more limited set of nodes by\ndefault now.\n\nR\u003djschorr\nDELTA\u003d200  (170 added, 11 deleted, 19 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d85017\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@340 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "8/5/10, 4:13 PM",
      "commitName": "114620510958121ebec3dd8d037d70571fb7da20",
      "commitAuthor": "johnlenz@google.com",
      "commitDateOld": "7/15/10, 1:03 PM",
      "commitNameOld": "4d09ce45270187fa65a891e56081960a0ae449e5",
      "commitAuthorOld": "Nicholas.J.Santos",
      "daysBetweenCommits": 21.13,
      "commitsBetweenForRepo": 61,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nvoid endSourceMapping(Node node) {\n    if (createSrcMap \u0026\u0026 !mappings.isEmpty() \u0026\u0026 mappings.peek().node \u003d\u003d node) {\n        Mapping mapping \u003d mappings.pop();\n        int line \u003d getCurrentLineIndex();\n        int index \u003d getCurrentCharIndex();\n        Preconditions.checkState(line \u003e\u003d 0);\n        mapping.end \u003d new Position(line, index);\n    }\n}",
      "path": "src/com/google/javascript/jscomp/CodePrinter.java",
      "functionStartLine": 113,
      "functionName": "endSourceMapping",
      "functionAnnotation": "@Override",
      "functionDoc": "Finishes the source mapping for the given\nnode at the current position.\n",
      "diff": "@@ -1,12 +1,10 @@\n @Override\n void endSourceMapping(Node node) {\n-    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0) {\n+    if (createSrcMap \u0026\u0026 !mappings.isEmpty() \u0026\u0026 mappings.peek().node \u003d\u003d node) {\n+        Mapping mapping \u003d mappings.pop();\n         int line \u003d getCurrentLineIndex();\n         int index \u003d getCurrentCharIndex();\n-        if (index \u003e\u003d 0) {\n-            Preconditions.checkState(!mappings.isEmpty(), \"Mismatch in start and end of mapping\");\n-            Mapping mapping \u003d mappings.pop();\n-            mapping.end \u003d new Position(line, index);\n-        }\n+        Preconditions.checkState(line \u003e\u003d 0);\n+        mapping.end \u003d new Position(line, index);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "4d09ce45270187fa65a891e56081960a0ae449e5": {
      "type": "Ybodychange",
      "commitMessage": "\nChange on 2010/07/14 14:52:38 by nicksantos\n\n        Automated g4 rollback.\n\n        *** Reason for rollback ***\n\n        breaks contentads\n\n        *** Original change description ***\n\n        Replace direct references to stripped types with \u0027void 0\u0027.\n\n        R\u003ddcc\n        DELTA\u003d107  (0 added, 100 deleted, 7 changed)\n\nChange on 2010/07/14 17:36:48 by acleung\n\n        Fix GraphColoringTest for future JDK changes.\n\n        R\u003dnicksantos\n        DELTA\u003d7  (0 added, 6 deleted, 1 changed)\n\nChange on 2010/07/14 18:11:13 by johnlenz\n\n        Minor cleanup of the CodeConsumer interface.\n\n        R\u003dacleung\n        DELTA\u003d180  (14 added, 128 deleted, 38 changed)\n\nChange on 2010/07/14 18:13:53 by johnlenz\n\n        Minor performance improvement for quoted strings that may need to be\n        escaped.\n\n        R\u003dnicksantos\n        DELTA\u003d1  (0 added, 0 deleted, 1 changed)\n\nChange on 2010/07/14 18:34:27 by pkeslin\n\n        Move the Image constructor from deprecated.js to html5 since it seems that\n        it has been formalized as a part of that spec and is the constructor for\n        the HTMLImageElement.\n\n        R\u003dacleung\n        DELTA\u003d27  (7 added, 18 deleted, 2 changed)\n\nChange on 2010/07/14 19:11:18 by pkeslin\n\n        Automated g4 rollback of changelist 16438831.\n\n        *** Reason for rollback ***\n\n          Original change breaks the closure build.\n\n        *** Original change description ***\n\n        Move the Image constructor from deprecated.js to html5 since it seems that\n        it has been formalized as a part of that spec and is the constructor for\n        the HTMLImageElement.\n\n        R\u003dacleung\n        DELTA\u003d27  (18 added, 7 deleted, 2 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION\u003d52001\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@278 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "7/15/10, 1:03 PM",
      "commitName": "4d09ce45270187fa65a891e56081960a0ae449e5",
      "commitAuthor": "Nicholas.J.Santos",
      "commitDateOld": "4/13/10, 2:39 PM",
      "commitNameOld": "de13c3313c05f4449c50c560324389d6905a214d",
      "commitAuthorOld": "Nicholas.J.Santos",
      "daysBetweenCommits": 92.93,
      "commitsBetweenForRepo": 83,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nvoid endSourceMapping(Node node) {\n    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0) {\n        int line \u003d getCurrentLineIndex();\n        int index \u003d getCurrentCharIndex();\n        if (index \u003e\u003d 0) {\n            Preconditions.checkState(!mappings.isEmpty(), \"Mismatch in start and end of mapping\");\n            Mapping mapping \u003d mappings.pop();\n            mapping.end \u003d new Position(line, index);\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/CodePrinter.java",
      "functionStartLine": 107,
      "functionName": "endSourceMapping",
      "functionAnnotation": "@Override",
      "functionDoc": "Finishes the source mapping for the given\nnode at the current position.\n",
      "diff": "@@ -1,12 +1,12 @@\n @Override\n void endSourceMapping(Node node) {\n     if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0) {\n         int line \u003d getCurrentLineIndex();\n         int index \u003d getCurrentCharIndex();\n         if (index \u003e\u003d 0) {\n-            Preconditions.checkState(!mappings.empty(), \"Mismatch in start and end of mapping\");\n+            Preconditions.checkState(!mappings.isEmpty(), \"Mismatch in start and end of mapping\");\n             Mapping mapping \u003d mappings.pop();\n             mapping.end \u003d new Position(line, index);\n         }\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3": {
      "type": "Yintroduced",
      "commitMessage": "Initial commit.\n\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@2 b0f006be-c8cd-11de-a2e8-8d36a3108c74\n",
      "commitDate": "11/3/09, 3:51 PM",
      "commitName": "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3",
      "commitAuthor": "nicholas.j.santos@gmail.com",
      "diff": "@@ -0,0 +1,12 @@\n+@Override\n+void endSourceMapping(Node node) {\n+    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0) {\n+        int line \u003d getCurrentLineIndex();\n+        int index \u003d getCurrentCharIndex();\n+        if (index \u003e\u003d 0) {\n+            Preconditions.checkState(!mappings.empty(), \"Mismatch in start and end of mapping\");\n+            Mapping mapping \u003d mappings.pop();\n+            mapping.end \u003d new Position(line, index);\n+        }\n+    }\n+}\n\\ No newline at end of file\n",
      "actualSource": "@Override\nvoid endSourceMapping(Node node) {\n    if (createSrcMap \u0026\u0026 node.getProp(Node.SOURCEFILE_PROP) !\u003d null \u0026\u0026 node.getLineno() \u003e 0) {\n        int line \u003d getCurrentLineIndex();\n        int index \u003d getCurrentCharIndex();\n        if (index \u003e\u003d 0) {\n            Preconditions.checkState(!mappings.empty(), \"Mismatch in start and end of mapping\");\n            Mapping mapping \u003d mappings.pop();\n            mapping.end \u003d new Position(line, index);\n        }\n    }\n}",
      "path": "src/com/google/javascript/jscomp/CodePrinter.java",
      "functionStartLine": 105,
      "functionName": "endSourceMapping",
      "functionAnnotation": "@Override",
      "functionDoc": "Finishes the source mapping for the given\nnode at the current position.\n"
    }
  }
}