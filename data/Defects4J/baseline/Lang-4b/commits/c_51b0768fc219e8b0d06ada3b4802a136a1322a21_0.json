{"sha": "51b0768fc219e8b0d06ada3b4802a136a1322a21", "log": "Synchronizing the COMMON Map so that getInstance doesn't miss a put from a subclass in another thread. LANG-494  ", "commit": "\n--- a/src/main/java/org/apache/commons/lang3/CharSet.java\n+++ b/src/main/java/org/apache/commons/lang3/CharSet.java\n package org.apache.commons.lang3;\n \n import java.io.Serializable;\n+import java.util.Collections;\n import java.util.HashMap;\n import java.util.HashSet;\n import java.util.Map;\n \n     /**\n      * A Map of the common cases used in the factory.\n-     * Subclasses can add more common patterns if desired.\n-     * @since 2.0\n-     */\n-    protected static final Map<String, CharSet> COMMON = new HashMap<String, CharSet>();\n+     * Subclasses can add more common patterns if desired\n+     * @since 2.0\n+     */\n+    protected static final Map<String, CharSet> COMMON = Collections.synchronizedMap(new HashMap<String, CharSet>());\n     \n     static {\n         COMMON.put(null, EMPTY);", "timestamp": 1263031602, "metainfo": ""}