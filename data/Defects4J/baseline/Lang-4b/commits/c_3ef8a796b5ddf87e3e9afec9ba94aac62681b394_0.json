{"sha": "3ef8a796b5ddf87e3e9afec9ba94aac62681b394", "log": "Applying test and fix for LANG-315  ", "commit": "\n--- a/src/java/org/apache/commons/lang/time/StopWatch.java\n+++ b/src/java/org/apache/commons/lang/time/StopWatch.java\n         if(this.runningState != STATE_RUNNING && this.runningState != STATE_SUSPENDED) {\n             throw new IllegalStateException(\"Stopwatch is not running. \");\n         }\n-        stopTime = System.currentTimeMillis();\n+        if(this.runningState == STATE_RUNNING) {\n+            stopTime = System.currentTimeMillis();\n+        }\n         this.runningState = STATE_STOPPED;\n     }\n \n--- a/src/test/org/apache/commons/lang/time/StopWatchTest.java\n+++ b/src/test/org/apache/commons/lang/time/StopWatchTest.java\n         assertTrue(totalTime < 1300);\n     }\n \n+    public void testLang315() {\n+        StopWatch watch = new StopWatch();\n+        watch.start();\n+            try {Thread.sleep(200);} catch (InterruptedException ex) {}\n+        watch.suspend();\n+        long suspendTime = watch.getTime();\n+            try {Thread.sleep(200);} catch (InterruptedException ex) {}\n+        watch.stop();\n+        long totalTime = watch.getTime();\n+        assertTrue( suspendTime == totalTime );\n+    }\n+\n     // test bad states\n     public void testBadStates() {\n         StopWatch watch = new StopWatch();", "timestamp": 1170802190, "metainfo": ""}