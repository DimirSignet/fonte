{"sha": "1deb966f5622216250c2b01e5fc8273c9d79e022", "log": "reduce number of created arrays  ", "commit": "\n--- a/src/main/java/org/apache/commons/lang3/ArrayUtils.java\n+++ b/src/main/java/org/apache/commons/lang3/ArrayUtils.java\n                 toRemove.add(found++);\n             }\n         }\n-        return removeAll(array, toPrimitive(toRemove.toArray(new Integer[toRemove.size()])));\n+        return removeAll(array, extractIndices(toRemove));\n     }\n \n     /**\n                 toRemove.add(found++);\n             }\n         }\n-        return removeAll(array, toPrimitive(toRemove.toArray(new Integer[toRemove.size()])));\n+        return removeAll(array, extractIndices(toRemove));\n     }\n \n     /**\n                 toRemove.add(found++);\n             }\n         }\n-        return removeAll(array, toPrimitive(toRemove.toArray(new Integer[toRemove.size()])));\n+        return removeAll(array, extractIndices(toRemove));\n     }\n \n     /**\n                 toRemove.add(found++);\n             }\n         }\n-        return removeAll(array, toPrimitive(toRemove.toArray(new Integer[toRemove.size()])));\n+        return removeAll(array, extractIndices(toRemove));\n     }\n \n     /**\n                 toRemove.add(found++);\n             }\n         }\n-        return removeAll(array, toPrimitive(toRemove.toArray(new Integer[toRemove.size()])));\n+        return removeAll(array, extractIndices(toRemove));\n     }\n \n     /**\n                 toRemove.add(found++);\n             }\n         }\n-        return removeAll(array, toPrimitive(toRemove.toArray(new Integer[toRemove.size()])));\n+        return removeAll(array, extractIndices(toRemove));\n     }\n \n     /**\n                 toRemove.add(found++);\n             }\n         }\n-        return removeAll(array, toPrimitive(toRemove.toArray(new Integer[toRemove.size()])));\n+        return removeAll(array, extractIndices(toRemove));\n     }\n \n     /**\n                 toRemove.add(found++);\n             }\n         }\n-        return removeAll(array, toPrimitive(toRemove.toArray(new Integer[toRemove.size()])));\n+        return removeAll(array, extractIndices(toRemove));\n     }\n \n     /**\n                 toRemove.add(found++);\n             }\n         }\n-        return removeAll(array, toPrimitive(toRemove.toArray(new Integer[toRemove.size()])));\n+        return removeAll(array, extractIndices(toRemove));\n     }\n \n     /**\n         return result;\n     }\n \n+    private static int[] extractIndices(HashSet<Integer> coll) {\n+        int[] result = new int[coll.size()];\n+        int i = 0;\n+        for (Integer index : coll) {\n+            result[i++] = index.intValue();\n+        }\n+        return result;\n+    }\n }", "timestamp": 1310863435, "metainfo": ""}