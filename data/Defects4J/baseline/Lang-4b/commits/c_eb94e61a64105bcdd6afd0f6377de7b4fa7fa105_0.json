{"sha": "eb94e61a64105bcdd6afd0f6377de7b4fa7fa105", "log": "Add tests to check for duplicate entries in the conversion tables  ", "commit": "\n--- a/src/test/java/org/apache/commons/lang3/text/translate/EntityArraysTest.java\n+++ b/src/test/java/org/apache/commons/lang3/text/translate/EntityArraysTest.java\n \n package org.apache.commons.lang3.text.translate;\n \n+import java.util.HashSet;\n+import java.util.Set;\n+\n import junit.framework.TestCase;\n \n /**\n     public void testConstructorExists() {\n         new EntityArrays();\n     }\n+    \n+    // LANG-659 - check arrays for duplicate entries\n+    public void testHTML40_EXTENDED_ESCAPE(){\n+        Set<String> col0 = new HashSet<String>();\n+        Set<String> col1 = new HashSet<String>();\n+        String [][] sa = EntityArrays.HTML40_EXTENDED_ESCAPE();\n+        for(int i =0; i <sa.length; i++){\n+            assertTrue(\"Already added entry 0: \"+i+\" \"+sa[i][0],col0.add(sa[i][0]));\n+            assertTrue(\"Already added entry 1: \"+i+\" \"+sa[i][1],col1.add(sa[i][1]));\n+        }\n+    }\n+    \n+   // LANG-658 - check arrays for duplicate entries\n+    public void testISO8859_1_ESCAPE(){\n+        Set<String> col0 = new HashSet<String>();\n+        Set<String> col1 = new HashSet<String>();\n+        String [][] sa = EntityArrays.ISO8859_1_ESCAPE();\n+        boolean success = true;\n+        for(int i =0; i <sa.length; i++){\n+            boolean add0 = col0.add(sa[i][0]);\n+            boolean add1 = col1.add(sa[i][1]);\n+            if (!add0) { \n+                success = false;\n+                System.out.println(\"Already added entry 0: \"+i+\" \"+sa[i][0]+\" \"+sa[i][1]);\n+            }\n+            if (!add1) {\n+                success = false;\n+                System.out.println(\"Already added entry 1: \"+i+\" \"+sa[i][0]+\" \"+sa[i][1]);\n+            }\n+        }\n+        assertTrue(\"One or more errors detected\",success);\n+    }\n+    \n+    \n }", "timestamp": 1289665868, "metainfo": ""}