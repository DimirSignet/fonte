{"sha": "2e82b3295f5bfab41854a16b9d7759747e19e68a", "log": "Refactoring the array of Java ctrl characters to be in EntityArray rather than embedded in their own escape/unescape  ", "commit": "\n--- a/src/java/org/apache/commons/lang/text/translate/EntityArrays.java\n+++ b/src/java/org/apache/commons/lang/text/translate/EntityArrays.java\n     public static String[][] APOS_UNESCAPE() { return APOS_UNESCAPE.clone(); }\n     private static final String[][] APOS_UNESCAPE = invert(APOS_ESCAPE);\n \n+    public static String[][] JAVA_CTRL_CHARS_ESCAPE() { return JAVA_CTRL_CHARS_ESCAPE.clone(); }\n+    private static final String[][] JAVA_CTRL_CHARS_ESCAPE = {\n+        {\"\\b\", \"\\\\b\"},\n+        {\"\\n\", \"\\\\n\"},\n+        {\"\\t\", \"\\\\t\"},\n+        {\"\\f\", \"\\\\f\"},\n+        {\"\\r\", \"\\\\r\"}\n+    };\n+\n+    public static String[][] JAVA_CTRL_CHARS_UNESCAPE() { return JAVA_CTRL_CHARS_UNESCAPE.clone(); }\n+    private static final String[][] JAVA_CTRL_CHARS_UNESCAPE = invert(JAVA_CTRL_CHARS_ESCAPE);\n+\n     /**\n      * Used to invert an escape array into an unescape array\n      * @param array String[][] to be inverted\n--- a/src/java/org/apache/commons/lang/text/translate/EscapeUtils.java\n+++ b/src/java/org/apache/commons/lang/text/translate/EscapeUtils.java\n  */\n public class EscapeUtils {\n \n-    public static final CharSequenceTranslator ESCAPE_JAVA_CTRL_CHARS = \n-          new LookupTranslator(\n-            new String[][] {\n-              {\"\\b\", \"\\\\b\"},\n-              {\"\\n\", \"\\\\n\"},\n-              {\"\\t\", \"\\\\t\"},\n-              {\"\\f\", \"\\\\f\"},\n-              {\"\\r\", \"\\\\r\"}\n-            });\n-\n     public static final CharSequenceTranslator ESCAPE_JAVA = \n           new LookupTranslator(\n             new String[][] { \n               {\"\\\"\", \"\\\\\\\"\"},\n               {\"\\\\\", \"\\\\\\\\\"},\n           }).with(\n-            ESCAPE_JAVA_CTRL_CHARS\n+            new LookupTranslator(EntityArrays.JAVA_CTRL_CHARS_ESCAPE())\n           ).with(\n             UnicodeEscaper.outsideOf(32, 0x7f) \n         );\n                             {\"\\\\\", \"\\\\\\\\\"},\n                             {\"/\", \"\\\\/\"}\n                       }),\n-            ESCAPE_JAVA_CTRL_CHARS,\n+            new LookupTranslator(EntityArrays.JAVA_CTRL_CHARS_ESCAPE()),\n             UnicodeEscaper.outsideOf(32, 0x7f) \n         );\n             \n--- a/src/java/org/apache/commons/lang/text/translate/UnescapeUtils.java\n+++ b/src/java/org/apache/commons/lang/text/translate/UnescapeUtils.java\n  */\n public class UnescapeUtils {\n \n-    public static final CharSequenceTranslator UNESCAPE_JAVA_CTRL_CHARS = \n-            new LookupTranslator(\n-                      new String[][] { \n-                            {\"\\\\b\", \"\\b\"},\n-                            {\"\\\\n\", \"\\n\"},\n-                            {\"\\\\t\", \"\\t\"},\n-                            {\"\\\\f\", \"\\f\"},\n-                            {\"\\\\r\", \"\\r\"}\n-                      });\n-\n     // throw \"illegal character: \\92\" as an Exception if a \\ on the end of the Java (as per the compiler)?\n     public static final CharSequenceTranslator UNESCAPE_JAVA = \n         new AggregateTranslator(\n             new UnicodeUnescaper(),\n-            UNESCAPE_JAVA_CTRL_CHARS,\n+            new LookupTranslator(EntityArrays.JAVA_CTRL_CHARS_UNESCAPE()),\n             new LookupTranslator(\n                       new String[][] { \n                             {\"\\\\\\\\\", \"\\\\\"},", "timestamp": 1248030914, "metainfo": ""}