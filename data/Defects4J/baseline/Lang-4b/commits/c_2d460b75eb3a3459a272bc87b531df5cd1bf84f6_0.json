{"sha": "2d460b75eb3a3459a272bc87b531df5cd1bf84f6", "log": "Document why double exponent (e and E) seems to work even though the index will be wrong  ", "commit": "\n--- a/src/main/java/org/apache/commons/lang3/math/NumberUtils.java\n+++ b/src/main/java/org/apache/commons/lang3/math/NumberUtils.java\n         String dec;\n         String exp;\n         final int decPos = str.indexOf('.');\n-        final int expPos = str.indexOf('e') + str.indexOf('E') + 1; // TODO assumes both not present\n+        final int expPos = str.indexOf('e') + str.indexOf('E') + 1; // assumes both not present\n+        // if both e and E are present, this is caught by the checks on expPos (which prevent IOOBE)\n+        // and the parsing which will detect if e or E appear in a number due to using the wrong offset\n \n         if (decPos > -1) { // there is a decimal point\n \n             if (expPos > -1) { // there is an exponent\n-                if (expPos < decPos || expPos > str.length()) {\n+                if (expPos < decPos || expPos > str.length()) { // prevents double exponent causing IOOBE\n                     throw new NumberFormatException(str + \" is not a valid number.\");\n                 }\n                 dec = str.substring(decPos + 1, expPos);\n             mant = str.substring(0, decPos);\n         } else {\n             if (expPos > -1) {\n-                if (expPos > str.length()) {\n+                if (expPos > str.length()) { // prevents double exponent causing IOOBE\n                     throw new NumberFormatException(str + \" is not a valid number.\");\n                 }\n                 mant = str.substring(0, expPos);", "timestamp": 1364401765, "metainfo": ""}