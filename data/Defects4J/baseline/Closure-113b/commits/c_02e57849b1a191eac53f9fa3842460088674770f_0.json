{"sha": "02e57849b1a191eac53f9fa3842460088674770f", "log": "Don't crash when there's a wrong range in a regexp. ------------- Created by MOE: http://code.google.com/p/moe-java MOE_MIGRATED_REVID=48206373", "commit": "\n--- a/src/com/google/javascript/jscomp/CheckRegExp.java\n+++ b/src/com/google/javascript/jscomp/CheckRegExp.java\n         RegExpTree.parseRegExp(pattern, flags);\n       } catch (IllegalArgumentException ex) {\n         t.report(n, MALFORMED_REGEXP, ex.getMessage());\n+      } catch (IndexOutOfBoundsException ex) {\n+        t.report(n, MALFORMED_REGEXP, ex.getMessage());\n       }\n     }\n   }\n--- a/test/com/google/javascript/jscomp/CheckRegExpTest.java\n+++ b/test/com/google/javascript/jscomp/CheckRegExpTest.java\n     // Local RegExp is ok\n     testReference(\"function f() {var RegExp; RegExp.test();}\", false);\n   }\n+\n+  public void testInvalidRange() {\n+    testSame(\"\\\"asdf\\\".match(/[z-a]/)\", CheckRegExp.MALFORMED_REGEXP);\n+  }\n }", "timestamp": 1371775360, "metainfo": ""}