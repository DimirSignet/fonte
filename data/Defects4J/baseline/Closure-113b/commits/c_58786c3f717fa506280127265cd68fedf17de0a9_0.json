{"sha": "58786c3f717fa506280127265cd68fedf17de0a9", "log": "\"delete\" operator with a boolean result. Fixes issue 364  R=mgoodman DELTA=6  (6 added, 0 deleted, 0 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=697   ", "commit": "\n--- a/src/com/google/javascript/jscomp/NodeUtil.java\n+++ b/src/com/google/javascript/jscomp/NodeUtil.java\n       case Token.INSTANCEOF:\n       // Inversion\n       case Token.NOT:\n+      // delete operator returns a boolean.\n+      case Token.DELPROP:\n         return true;\n       default:\n         return false;\n       case Token.OBJECTLIT:\n         // Literals objects with non-literal children are allowed.\n         return true;\n+      case Token.DELPROP:\n       case Token.IN:\n         // TODO(johnlenz): should IN operator be included in #isSimpleOperator?\n         return true;\n--- a/test/com/google/javascript/jscomp/NodeUtilTest.java\n+++ b/test/com/google/javascript/jscomp/NodeUtilTest.java\n     assertTrue(testLocalValue(\"o.toString()\"));\n \n     assertFalse(testLocalValue(\"o.valueOf()\"));\n+\n+    assertTrue(testLocalValue(\"delete a.b\"));\n   }\n \n   public void testLocalValue2() {\n     assertFalse(NodeUtil.isBooleanResult(getNode(\"a.b()\")));\n     assertFalse(NodeUtil.isBooleanResult(getNode(\"a().b()\")));\n     assertFalse(NodeUtil.isBooleanResult(getNode(\"new a()\")));\n+    assertTrue(NodeUtil.isBooleanResult(getNode(\"delete a\")));\n \n     // Definitely not boolean\n     assertFalse(NodeUtil.isBooleanResult(getNode(\"([true,false])\")));", "timestamp": 1299004256, "metainfo": ""}