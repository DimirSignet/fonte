{"sha": "59a30b48325cccadabae8687fdf603d72e26c157", "log": "Fixes Issue 482 In percent typed counting, ignore the nodes of Enum elements  R=acleung DELTA=13  (13 added, 0 deleted, 0 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=2202   ", "commit": "\n--- a/src/com/google/javascript/jscomp/TypeCheck.java\n+++ b/src/com/google/javascript/jscomp/TypeCheck.java\n         // Object literal keys are handled with OBJECTLIT\n         if (!NodeUtil.isObjectLitKey(n, n.getParent())) {\n           ensureTyped(t, n, STRING_TYPE);\n+        } else {\n+          // Object literal keys are not typeable\n+          typeable = false;\n         }\n         break;\n \n--- a/test/com/google/javascript/jscomp/TypeCheckTest.java\n+++ b/test/com/google/javascript/jscomp/TypeCheckTest.java\n     assertEquals(100.0, getTypedPercent(js), 0.1);\n   }\n \n+  public void testGetTypedPercent5() throws Exception {\n+    String js = \"/** @enum {number} */ keys = {A: 1,B: 2,C: 3};\";\n+    assertEquals(100.0, getTypedPercent(js), 0.1);\n+  }\n+\n+  public void testGetTypedPercent6() throws Exception {\n+    String js = \"a = {TRUE: 1, FALSE: 0};\";\n+    assertEquals(100.0, getTypedPercent(js), 0.1);\n+  }\n+\n   private double getTypedPercent(String js) throws Exception {\n     Node n = compiler.parseTestCode(js);\n ", "timestamp": 1307564295, "metainfo": ""}