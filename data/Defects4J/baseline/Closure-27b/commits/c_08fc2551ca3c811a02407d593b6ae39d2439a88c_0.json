{"sha": "08fc2551ca3c811a02407d593b6ae39d2439a88c", "log": "Add missing wiring for the source_map_format option.  R=nicksantos DELTA=210  (210 added, 0 deleted, 0 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=804006   ", "commit": "\n--- a/src/com/google/javascript/jscomp/AbstractCommandLineRunner.java\n+++ b/src/com/google/javascript/jscomp/AbstractCommandLineRunner.java\n       options.sourceMapOutputPath = config.createSourceMap;\n     }\n     options.sourceMapDetailLevel = config.sourceMapDetailLevel;\n+    options.sourceMapFormat = config.sourceMapFormat;\n \n     if (!config.variableMapInputFile.equals(\"\")) {\n       options.inputVariableMapSerialized =\n--- a/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n+++ b/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n             lastCompiler.getModuleGraph().getRootModule()));\n   }\n \n+  public void testSourceMapFormat1() {\n+    args.add(\"--js_output_file\");\n+    args.add(\"/path/to/out.js\");\n+    testSame(\"var x = 3;\");\n+    assertEquals(SourceMap.Format.LEGACY,\n+        lastCompiler.getOptions().sourceMapFormat);\n+  }\n+\n   public void testCharSetExpansion() {\n     testSame(\"\");\n     assertEquals(\"US-ASCII\", lastCompiler.getOptions().outputCharset);", "timestamp": 1288207690, "metainfo": ""}