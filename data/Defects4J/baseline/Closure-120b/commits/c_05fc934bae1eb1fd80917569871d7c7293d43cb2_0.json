{"sha": "05fc934bae1eb1fd80917569871d7c7293d43cb2", "log": "Pull Rhino from head. ------------- Created by MOE: http://code.google.com/p/moe-java MOE_MIGRATED_REVID=42959489", "commit": "\n--- a/lib/rhino/src/org/mozilla/javascript/BaseFunction.java\n+++ b/lib/rhino/src/org/mozilla/javascript/BaseFunction.java\n     private BaseFunction realFunction(Scriptable thisObj, IdFunctionObject f)\n     {\n         Object x = thisObj.getDefaultValue(ScriptRuntime.FunctionClass);\n+        if (x instanceof Delegator) {\n+            x = ((Delegator)x).getDelegee();\n+        }\n         if (x instanceof BaseFunction) {\n             return (BaseFunction)x;\n         }\n--- a/lib/rhino/src/org/mozilla/javascript/NativeArray.java\n+++ b/lib/rhino/src/org/mozilla/javascript/NativeArray.java\n         return true;\n     }\n \n+    @Override\n     public int size() {\n         long longLen = length;\n         if (longLen > Integer.MAX_VALUE) {\n             throw new IllegalStateException();\n         }\n         return (int) longLen;\n+    }\n+\n+    @Override\n+    public boolean isEmpty() {\n+        return length == 0;\n     }\n \n     public Object get(long index) {\n--- a/lib/rhino/src/org/mozilla/javascript/Parser.java\n+++ b/lib/rhino/src/org/mozilla/javascript/Parser.java\n           case Token.TYPEOF:\n               consumeToken();\n               node = new UnaryExpression(tt, ts.tokenBeg, unaryExpr());\n+              node.setLineno(line);\n               return node;\n \n           case Token.ADD:\n \n             // Eat any dangling jsdoc in the property.\n             getAndResetJsDoc();\n-            jsdocNode = null;\n \n             if (matchToken(Token.COMMA)) {\n                 afterComma = ts.tokenEnd;\n--- a/lib/rhino/src/org/mozilla/javascript/ast/InfixExpression.java\n+++ b/lib/rhino/src/org/mozilla/javascript/ast/InfixExpression.java\n         int beg = left.getPosition();\n         int end = right.getPosition() + right.getLength();\n         setBounds(beg, end);\n-\n-        // line number should agree with source position\n-        setLineno(left.getLineno());\n \n         // this updates their positions to be parent-relative\n         setLeft(left);", "timestamp": 1361570287, "metainfo": ""}