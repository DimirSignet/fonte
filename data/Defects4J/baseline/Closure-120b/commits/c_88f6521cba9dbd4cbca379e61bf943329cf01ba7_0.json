{"sha": "88f6521cba9dbd4cbca379e61bf943329cf01ba7", "log": "Fix CAST nodes in the IR helper  R=johnlenz DELTA=17 (17 added, 0 deleted, 0 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=6143   ", "commit": "\n--- a/src/com/google/javascript/rhino/IR.java\n+++ b/src/com/google/javascript/rhino/IR.java\n \n   public static Node pos(Node expr1) {\n     return unaryOp(Token.POS, expr1);\n+  }\n+\n+  public static Node cast(Node expr1) {\n+    return unaryOp(Token.CAST, expr1);\n   }\n \n   public static Node add(Node expr1, Node expr2) {\n       case Token.BITNOT:\n       case Token.BITXOR:\n       case Token.CALL:\n+      case Token.CAST:\n       case Token.COMMA:\n       case Token.DEC:\n       case Token.DELPROP:\n--- a/test/com/google/javascript/rhino/IRTest.java\n+++ b/test/com/google/javascript/rhino/IRTest.java\n         \"    BLOCK\\n\");\n   }\n \n+  public void testAdd() {\n+    testIR(\n+        IR.add(\n+            IR.cast(IR.number(1)),\n+            IR.number(2)),\n+        \"ADD\\n\" +\n+        \"    CAST\\n\" +\n+        \"        NUMBER 1.0\\n\" +\n+        \"    NUMBER 2.0\\n\");\n+\n+  }\n+\n   private void testIR(Node node, String expectedStructure) {\n     assertEquals(expectedStructure, node.toStringTree());\n   }", "timestamp": 1358290442, "metainfo": ""}