{"sha": "ecc7e373032ff4cb96b90e4866f3febad47c0722", "log": "Allow @expose on stub declarations  R=johnlenz DELTA=6 (4 added, 0 deleted, 2 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=6141   ", "commit": "\n--- a/src/com/google/javascript/jscomp/Normalize.java\n+++ b/src/com/google/javascript/jscomp/Normalize.java\n         }\n       } else if (n.isStringKey() && isMarkedExpose(n)) {\n         exposedProperties.add(n.getString());\n+      } else if (n.isGetProp() && n.getParent().isExprResult()\n+                  && isMarkedExpose(n)) {\n+        exposedProperties.add(n.getLastChild().getString());\n       }\n     }\n \n--- a/test/com/google/javascript/jscomp/IntegrationTest.java\n+++ b/test/com/google/javascript/jscomp/IntegrationTest.java\n          \"/** @constructor */ var Foo = function() {};\" +\n          \"/** @expose */  Foo.prototype.miny = 3;\" +\n          \"Foo.prototype.moe = 4;\" +\n-         \"function moe(a, b) { return a.meeny + b.miny; }\" +\n+         \"/** @expose */  Foo.prototype.tiger;\" +\n+         \"function moe(a, b) { return a.meeny + b.miny + a.tiger; }\" +\n          \"window['x'] = x;\" +\n          \"window['Foo'] = Foo;\" +\n          \"window['moe'] = moe;\",\n          \"window.x={a:1,meeny:2};\" +\n          \"window.Foo=a;\" +\n          \"window.moe=function(b,c){\" +\n-         \"  return b.meeny+c.miny\" +\n+         \"  return b.meeny+c.miny+b.tiger\" +\n          \"}\");\n   }\n ", "timestamp": 1358278638, "metainfo": ""}