{"sha": "42af8df2c1f1ee486770d5397283f74fcc7c13b0", "log": "Fixed add/remove of \"{SyntheticVarsDeclar}\" extern input. This was added/removed in inputsByName but the change was not reflect in externs list.  R=acleung DELTA=17  (15 added, 0 deleted, 2 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=2709   ", "commit": "\n--- a/src/com/google/javascript/jscomp/Compiler.java\n+++ b/src/com/google/javascript/jscomp/Compiler.java\n    * Removes an input file from AST.\n    * @param name The name of the file to be removed.\n    */\n-  protected void removeInput(String name) {\n+  protected void removeExternInput(String name) {\n     CompilerInput input = getInput(name);\n     if (input == null) {\n       return;\n     }\n+    Preconditions.checkState(input.isExtern(), \"Not an extern input: \"\n+        + input.getName());\n     inputsByName.remove(name);\n+    externs.remove(input);\n     Node root = input.getAstRoot(this);\n     if (root != null) {\n       root.detachFromParent();\n     CompilerInput input = new CompilerInput(ast, name, true);\n     inputsByName.put(name, input);\n     externsRoot.addChildToFront(ast.getAstRoot(this));\n+    externs.add(0, input);\n     return input;\n   }\n ", "timestamp": 1311628449, "metainfo": ""}