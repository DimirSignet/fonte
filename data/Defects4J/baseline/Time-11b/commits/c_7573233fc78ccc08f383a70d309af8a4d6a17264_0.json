{"sha": "7573233fc78ccc08f383a70d309af8a4d6a17264", "log": "Add null duration converter   ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/convert/ConverterManager.java\n+++ b/JodaTime/src/java/org/joda/time/convert/ConverterManager.java\n             ReadableIntervalConverter.INSTANCE,\n             StringConverter.INSTANCE,\n             LongConverter.INSTANCE,\n+            NullConverter.INSTANCE,\n         });\n \n         iIntervalConverters = new ConverterSet(new Converter[] {\n--- a/JodaTime/src/java/org/joda/time/convert/NullConverter.java\n+++ b/JodaTime/src/java/org/joda/time/convert/NullConverter.java\n package org.joda.time.convert;\n \n import org.joda.time.DateTimeUtils;\n+import org.joda.time.DurationType;\n+import org.joda.time.ReadWritableDuration;\n \n /**\n  * NullConverter converts null to milliseconds (now) in the ISOChronology.\n  * @author Brian S O'Neill\n  * @since 1.0\n  */\n-class NullConverter extends AbstractConverter implements InstantConverter {\n+class NullConverter extends AbstractConverter implements InstantConverter, DurationConverter {\n     \n     /**\n      * Singleton instance.\n     \n     //-----------------------------------------------------------------------\n     /**\n+     * Returns true always.\n+     */\n+    public boolean isPrecise(Object object) {\n+        return true;\n+    }\n+\n+    /**\n+     * Gets the millisecond duration, which is zero.\n+     * \n+     * @param object  the object to convert\n+     * @return the millisecond duration\n+     */\n+    public long getDurationMillis(Object object) {\n+        return 0L;\n+    }\n+\n+    /**\n+     * Sets the given ReadWritableDuration to zero milliseconds.\n+     *\n+     * @param duration duration to get modified\n+     * @param object  the object to convert\n+     * @throws NullPointerException if the duration is null\n+     */\n+    public void setInto(ReadWritableDuration duration, Object object) {\n+        duration.setTotalMillis(0L);\n+    }\n+\n+    /**\n+     * Returns the millis duration type.\n+     *\n+     * @param object  the object to examine\n+     * @return the millis duration type\n+     */\n+    public DurationType getDurationType(Object object) {\n+        return DurationType.getMillisType();\n+    }\n+\n+    //-----------------------------------------------------------------------\n+    /**\n      * Returns null.\n      * \n      * @return null\n     public Class getSupportedType() {\n         return null;\n     }\n-    \n+\n }", "timestamp": 1090082544, "metainfo": ""}