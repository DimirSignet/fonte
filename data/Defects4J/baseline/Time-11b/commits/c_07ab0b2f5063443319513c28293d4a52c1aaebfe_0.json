{"sha": "07ab0b2f5063443319513c28293d4a52c1aaebfe", "log": "Fix period formatting printZeroRarelyFirst() [2025928] from Sarah Brake  ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/format/PeriodFormatterBuilder.java\n+++ b/JodaTime/src/java/org/joda/time/format/PeriodFormatterBuilder.java\n                     if (isZero(period) && iFieldFormatters[iFieldType] == this) {\n                         int i = Math.min(iFieldType, 8);  // line split out for IBM JDK\n                         i--;                              // see bug 1660490\n-                        for (; i >= 0 && i <= MAX_FIELD; i++) {\n+                        for (; i >= 0 && i <= MAX_FIELD; i--) {\n                             if (isSupported(type, i) && iFieldFormatters[i] != null) {\n                                 return Long.MAX_VALUE;\n                             }\n--- a/JodaTime/src/test/org/joda/time/format/TestPeriodFormatterBuilder.java\n+++ b/JodaTime/src/test/org/joda/time/format/TestPeriodFormatterBuilder.java\n         assertEquals(1, f.getPrinter().countFieldsToPrint(EMPTY_PERIOD, Integer.MAX_VALUE, null));\n     }\n \n+    public void testFormatPrintZeroRarelyFirstYears() {\n+        PeriodFormatter f = new PeriodFormatterBuilder()\n+            .printZeroRarelyFirst()\n+            .appendYears().toFormatter();\n+        assertEquals(\"0\", f.print(EMPTY_PERIOD));\n+    }\n+\n+    public void testFormatPrintZeroRarelyFirstMonths() {\n+        PeriodFormatter f = new PeriodFormatterBuilder()\n+            .printZeroRarelyFirst()\n+            .appendMonths().toFormatter();\n+        assertEquals(\"0\", f.print(EMPTY_PERIOD));\n+    }\n+\n+    public void testFormatPrintZeroRarelyFirstWeeks() {\n+        PeriodFormatter f = new PeriodFormatterBuilder()\n+            .printZeroRarelyFirst()\n+            .appendWeeks().toFormatter();\n+        assertEquals(\"0\", f.print(EMPTY_PERIOD));\n+    }\n+\n+    public void testFormatPrintZeroRarelyFirstDays() {\n+        PeriodFormatter f = new PeriodFormatterBuilder()\n+            .printZeroRarelyFirst()\n+            .appendDays().toFormatter();\n+        assertEquals(\"0\", f.print(EMPTY_PERIOD));\n+    }\n+\n+    public void testFormatPrintZeroRarelyFirstHours() {\n+        PeriodFormatter f = new PeriodFormatterBuilder()\n+            .printZeroRarelyFirst()\n+            .appendHours().toFormatter();\n+        assertEquals(\"0\", f.print(EMPTY_PERIOD));\n+    }\n+\n+    public void testFormatPrintZeroRarelyFirstMinutes() {\n+        PeriodFormatter f = new PeriodFormatterBuilder()\n+            .printZeroRarelyFirst()\n+            .appendMinutes().toFormatter();\n+        assertEquals(\"0\", f.print(EMPTY_PERIOD));\n+    }\n+\n+    public void testFormatPrintZeroRarelyFirstSeconds() {\n+        PeriodFormatter f = new PeriodFormatterBuilder()\n+            .printZeroRarelyFirst()\n+            .appendSeconds().toFormatter();\n+        assertEquals(\"0\", f.print(EMPTY_PERIOD));\n+    }\n+\n     public void testFormatPrintZeroIfSupported() {\n         PeriodFormatter f =\n             new PeriodFormatterBuilder()", "timestamp": 1218575333, "metainfo": ""}