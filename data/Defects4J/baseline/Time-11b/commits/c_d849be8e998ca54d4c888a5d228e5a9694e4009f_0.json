{"sha": "d849be8e998ca54d4c888a5d228e5a9694e4009f", "log": "Support parsing more fractional time elements.   ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/format/ISODateTimeFormat.java\n+++ b/JodaTime/src/java/org/joda/time/format/ISODateTimeFormat.java\n      * Returns a generic ISO time parser. It accepts formats described by\n      * the following syntax:\n      * <pre>\n-     * time         = ['T'] time-element [offset]\n-     * time-element = HH [':' mm [':' ss ['.' SSS]]]\n-     * offset       = 'Z' | (('+' | '-') HH ':' mm)\n+     * time           = ['T'] time-element [offset]\n+     * time-element   = HH [minute-element] | [fraction]\n+     * minute-element = ':' mm [second-element] | [fraction]\n+     * second-element = ':' ss [fraction]\n+     * fraction       = ('.' | ',') digit+\n+     * offset         = 'Z' | (('+' | '-') HH ':' mm)\n      * </pre>\n      */\n     public DateTimeParser timeParser() {\n      * Returns a generic ISO time parser. It accepts formats described by\n      * the following syntax:\n      * <pre>\n-     * time-element = HH [':' mm [':' ss ['.' SSS]]]\n+     * time-element   = HH [minute-element] | [fraction]\n+     * minute-element = ':' mm [second-element] | [fraction]\n+     * second-element = ':' ss [fraction]\n+     * fraction       = ('.' | ',') digit+\n      * </pre>\n      */\n     public DateTimeParser timeElementParser() {\n         if (tpe == null) {\n+            // Decimal point can be either '.' or ','\n+            DateTimeParser decimalPoint = new DateTimeFormatterBuilder(iChrono)\n+                .append(null, new DateTimeParser[] {\n+                    new DateTimeFormatterBuilder(iChrono)\n+                    .appendLiteral('.')\n+                    .toParser(),\n+                    new DateTimeFormatterBuilder(iChrono)\n+                    .appendLiteral(',')\n+                    .toParser()\n+                })\n+                .toParser();\n+\n             tpe = new DateTimeFormatterBuilder(iChrono)\n+                // time-element\n                 .append(hourElement())\n-                .appendOptional\n-                (new DateTimeFormatterBuilder(iChrono)\n-                 .append(minuteElement())\n-                 .appendOptional\n-                 (new DateTimeFormatterBuilder(iChrono)\n-                  .append(secondElement())\n-                  .appendOptional(fractionElement())\n-                  .toParser())\n-                 .toParser())\n+                .append\n+                (null, new DateTimeParser[] {\n+                    new DateTimeFormatterBuilder(iChrono)\n+                    // minute-element\n+                    .append(minuteElement())\n+                    .append\n+                    (null, new DateTimeParser[] {\n+                        new DateTimeFormatterBuilder(iChrono)\n+                        // second-element\n+                        .append(secondElement())\n+                        // second fraction\n+                        .appendOptional(new DateTimeFormatterBuilder(iChrono)\n+                                        .append(decimalPoint)\n+                                        .appendFractionOfSecond(1, 9)\n+                                        .toParser())\n+                        .toParser(),\n+                        // minute fraction\n+                        new DateTimeFormatterBuilder(iChrono)\n+                        .append(decimalPoint)\n+                        .appendFractionOfMinute(1, 9)\n+                        .toParser(),\n+                        null\n+                    })\n+                    .toParser(),\n+                    // hour fraction\n+                    new DateTimeFormatterBuilder(iChrono)\n+                    .append(decimalPoint)\n+                    .appendFractionOfHour(1, 9)\n+                    .toParser(),\n+                    null\n+                })\n                 .toParser();\n         }\n         return tpe;\n      * time              = 'T' time-element [offset]\n      * date-element      = (yyyy ['-' MM ['-' dd]]) | week-date-element\n      * week-date-element = xxxx '-W' ww ['-' e]\n-     * time-element      = HH [':' mm [':' ss ['.' SSS]]]\n+     * time-element      = HH [minute-element] | [fraction]\n+     * minute-element    = ':' mm [second-element] | [fraction]\n+     * second-element    = ':' ss [fraction]\n+     * fraction          = ('.' | ',') digit+\n      * offset            = 'Z' | (('+' | '-') HH ':' mm)\n      * </pre>\n      */", "timestamp": 1073152236, "metainfo": ""}