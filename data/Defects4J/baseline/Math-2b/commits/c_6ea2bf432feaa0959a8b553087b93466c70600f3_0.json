{"sha": "6ea2bf432feaa0959a8b553087b93466c70600f3", "log": "Add null check to merge methods, refactor code a bit.  ", "commit": "\n--- a/src/main/java/org/apache/commons/math3/stat/Frequency.java\n+++ b/src/main/java/org/apache/commons/math3/stat/Frequency.java\n import java.util.TreeMap;\n \n import org.apache.commons.math3.exception.MathIllegalArgumentException;\n+import org.apache.commons.math3.exception.NullArgumentException;\n import org.apache.commons.math3.exception.util.LocalizedFormats;\n+import org.apache.commons.math3.util.MathUtils;\n \n /**\n  * Maintains a frequency distribution.\n      * by the counts represented by other.\n      *\n      * @param other the other {@link Frequency} object to be merged\n+     * @throws NullArgumentException if {@code other} is null\n      * @since 3.1\n      */\n-    public void merge(Frequency other) {\n-        for (Iterator<Map.Entry<Comparable<?>, Long>> iter = other.entrySetIterator(); iter.hasNext();) {\n-            Map.Entry<Comparable<?>, Long> entry = iter.next();\n+    public void merge(final Frequency other) throws NullArgumentException {\n+        MathUtils.checkNotNull(other, LocalizedFormats.NULL_NOT_ALLOWED);\n+\n+        final Iterator<Map.Entry<Comparable<?>, Long>> iter = other.entrySetIterator();\n+        while (iter.hasNext()) {\n+            final Map.Entry<Comparable<?>, Long> entry = iter.next();\n             incrementValue(entry.getKey(), entry.getValue());\n         }\n     }\n      * by the counts represented by each of the others.\n      *\n      * @param others the other {@link Frequency} objects to be merged\n+     * @throws NullArgumentException if the collection is null\n      * @since 3.1\n      */\n-    public void merge(Collection<Frequency> others) {\n-        for (Iterator<Frequency> iter = others.iterator(); iter.hasNext();) {\n-            merge(iter.next());\n+    public void merge(final Collection<Frequency> others) throws NullArgumentException {\n+        MathUtils.checkNotNull(others, LocalizedFormats.NULL_NOT_ALLOWED);\n+\n+        for (final Frequency freq : others) {\n+            merge(freq);\n         }\n     }\n ", "timestamp": 1363121183, "metainfo": ""}