{"sha": "ccd2ba474695f4719ccc8b3eca93104215c45f9b", "log": "Fixes arising from Clover report   ", "commit": "\n--- a/src/java/org/apache/commons/lang/StringUtils.java\n+++ b/src/java/org/apache/commons/lang/StringUtils.java\n  * @author <a href=\"mailto:ggregory@seagullsw.com\">Gary Gregory</a>\n  * @author Phil Steitz\n  * @since 1.0\n- * @version $Id: StringUtils.java,v 1.81 2003/07/26 15:35:35 scolebourne Exp $\n+ * @version $Id: StringUtils.java,v 1.82 2003/07/30 22:17:49 scolebourne Exp $\n  */\n public class StringUtils {\n     // Performance testing notes (JDK 1.4, Jul03, scolebourne)\n         }\n \n         if (str.length() == 1) {\n-            if (\"\\r\".equals(str) || \"\\n\".equals(str)) {\n+            char ch = str.charAt(0);\n+            if (ch == '\\r' || ch == '\\n') {\n                 return \"\";\n-            }\n-            else {\n+            } else {\n                 return str;\n             }\n         }\n         if (repeat <= 0) {\n             return \"\";\n         }\n-        int inputLength;\n-        if (repeat == 1 || (inputLength = str.length()) == 0) {\n+        int inputLength = str.length();\n+        if (repeat == 1 || inputLength == 0) {\n             return str;\n         }\n         if (inputLength == 1 && repeat <= PAD_LIMIT) {\n         }\n         int strLen = str.length();\n         int pads = size - strLen;\n+        if (pads <= 0) {\n+            return str; // returns original String when possible\n+        }\n         if (padLen == 1 && pads <= PAD_LIMIT) {\n             return rightPad(str, size, padStr.charAt(0));\n         }\n         \n-        if (pads <= 0) {\n-            return str; // returns original String when possible\n-        }\n         if (pads == padLen) {\n             return str.concat(padStr);\n         } else if (pads < padLen) {\n         }\n         int strLen = str.length();\n         int pads = size - strLen;\n+        if (pads <= 0) {\n+            return str; // returns original String when possible\n+        }\n         if (padLen == 1 && pads <= PAD_LIMIT) {\n             return leftPad(str, size, padStr.charAt(0));\n         }\n         \n-        if (pads <= 0) {\n-            return str; // returns original String when possible\n-        }\n         if (pads == padLen) {\n             return padStr.concat(str);\n         } else if (pads < padLen) {", "timestamp": 1059603469, "metainfo": ""}