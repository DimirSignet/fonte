{"sha": "50c1b3d39ff5b17c956a2235f97f7b5da05ab6f0", "log": "emit the right error message when goog is required. (Nick)  Revision created by MOE tool push_codebase. MOE_MIGRATION=   ", "commit": "\n--- a/src/com/google/javascript/jscomp/ProcessClosurePrimitives.java\n+++ b/src/com/google/javascript/jscomp/ProcessClosurePrimitives.java\n     if (requiresLevel.isOn()) {\n       for (UnrecognizedRequire r : unrecognizedRequires) {\n         DiagnosticType error;\n-        if (providedNames.get(r.namespace) != null) {\n+        ProvidedName expectedName = providedNames.get(r.namespace);\n+        if (expectedName != null && expectedName.firstNode != null) {\n           // The namespace ended up getting provided after it was required.\n           error = LATE_PROVIDE_ERROR;\n         } else {\n--- a/test/com/google/javascript/jscomp/ProcessClosurePrimitivesTest.java\n+++ b/test/com/google/javascript/jscomp/ProcessClosurePrimitivesTest.java\n             \"apps.foo.B = {};\",\n         });\n   }\n+\n+  public void testRequireOfBaseGoog() {\n+    test(\"goog.require('goog');\",\n+         \"\", MISSING_PROVIDE_ERROR);\n+  }\n }", "timestamp": 1267227954, "metainfo": ""}