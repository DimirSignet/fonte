{"sha": "c488d3996975aa24763a4b8c507756db8073738d", "log": "Applying optimisation from LANG-287. Thanks to Stepan Koltsov and Holger Hoffstatte.   ", "commit": "\n--- a/src/java/org/apache/commons/lang/Entities.java\n+++ b/src/java/org/apache/commons/lang/Entities.java\n      * @return A new escaped <code>String</code>.\n      */\n     public String unescape(String str) {\n+        int firstAmp = str.indexOf('&');\n+        if (firstAmp < 0) {\n+            return str;\n+        }\n+\n         StringBuffer buf = new StringBuffer(str.length());\n-        int i;\n-        for (i = 0; i < str.length(); ++i) {\n+        buf.append(str.substring(0, firstAmp));\n+        for (int i = firstAmp; i < str.length(); ++i) {\n             char ch = str.charAt(i);\n             if (ch == '&') {\n                 int semi = str.indexOf(';', i + 1);\n      * @see Writer\n      */\n     public void unescape(Writer writer, String string) throws IOException {\n+        int firstAmp = string.indexOf('&');\n+        if (firstAmp < 0) {\n+            writer.write(string);\n+            return;\n+        }\n+\n+        writer.write(string, 0, firstAmp);\n         int len = string.length();\n-        if (len == 0) {\n-            return;\n-        }\n-        for (int i = 0; i < len; i++) {\n+        for (int i = firstAmp; i < len; i++) {\n             char c = string.charAt(i);\n             if (c == '&') {\n                 int nextIdx = i+1;", "timestamp": 1161721784, "metainfo": ""}