{"sha": "63a7071fe2679035699e659e8057cb7b235e38fa", "log": "Splitting out the \\b \\n \\t \\f \\r Java ctrl chars as their own translator to help with the request in LANG-498  ", "commit": "\n--- a/src/java/org/apache/commons/lang/text/translate/EscapeUtils.java\n+++ b/src/java/org/apache/commons/lang/text/translate/EscapeUtils.java\n  */\n public class EscapeUtils {\n \n-    public static final CharSequenceTranslator ESCAPE_JAVA = \n-          new LookupTranslator(\n-            new String[][] { \n-              {\"\\\"\", \"\\\\\\\"\"},\n-              {\"\\\\\", \"\\\\\\\\\"},\n-          }).with(\n+    public static final CharSequenceTranslator ESCAPE_JAVA_CTRL_CHARS = \n           new LookupTranslator(\n             new String[][] {\n               {\"\\b\", \"\\\\b\"},\n               {\"\\t\", \"\\\\t\"},\n               {\"\\f\", \"\\\\f\"},\n               {\"\\r\", \"\\\\r\"}\n+            });\n+\n+    public static final CharSequenceTranslator ESCAPE_JAVA = \n+          new LookupTranslator(\n+            new String[][] { \n+              {\"\\\"\", \"\\\\\\\"\"},\n+              {\"\\\\\", \"\\\\\\\\\"},\n           }).with(\n-          UnicodeEscaper.outsideOf(32, 0x7f) \n-        ));\n+            ESCAPE_JAVA_CTRL_CHARS\n+          ).with(\n+            UnicodeEscaper.outsideOf(32, 0x7f) \n+        );\n \n     public static final String escapeJava(String input) {\n         return ESCAPE_JAVA.translate(input);\n                             {\"\\\\\", \"\\\\\\\\\"},\n                             {\"/\", \"\\\\/\"}\n                       }),\n-            new LookupTranslator(\n-                      new String[][] {\n-                            {\"\\b\", \"\\\\b\"},\n-                            {\"\\n\", \"\\\\n\"},\n-                            {\"\\t\", \"\\\\t\"},\n-                            {\"\\f\", \"\\\\f\"},\n-                            {\"\\r\", \"\\\\r\"}\n-                      }),\n+            ESCAPE_JAVA_CTRL_CHARS,\n             UnicodeEscaper.outsideOf(32, 0x7f) \n         );\n             \n--- a/src/java/org/apache/commons/lang/text/translate/UnescapeUtils.java\n+++ b/src/java/org/apache/commons/lang/text/translate/UnescapeUtils.java\n  */\n public class UnescapeUtils {\n \n+    public static final CharSequenceTranslator UNESCAPE_JAVA_CTRL_CHARS = \n+            new LookupTranslator(\n+                      new String[][] { \n+                            {\"\\\\b\", \"\\b\"},\n+                            {\"\\\\n\", \"\\n\"},\n+                            {\"\\\\t\", \"\\t\"},\n+                            {\"\\\\f\", \"\\f\"},\n+                            {\"\\\\r\", \"\\r\"}\n+                      });\n+\n     // throw \"illegal character: \\92\" as an Exception if a \\ on the end of the Java (as per the compiler)?\n     public static final CharSequenceTranslator UNESCAPE_JAVA = \n         new AggregateTranslator(\n             new UnicodeUnescaper(),\n+            UNESCAPE_JAVA_CTRL_CHARS,\n             new LookupTranslator(\n                       new String[][] { \n                             {\"\\\\\\\\\", \"\\\\\"},\n                             {\"\\\\\\\"\", \"\\\"\"},\n                             {\"\\\\'\", \"'\"},\n-                            {\"\\\\r\", \"\\r\"},\n-                            {\"\\\\f\", \"\\f\"},\n-                            {\"\\\\t\", \"\\t\"},\n-                            {\"\\\\n\", \"\\n\"},\n-                            {\"\\\\b\", \"\\b\"},\n                             {\"\\\\\", \"\"}\n                       })\n         );", "timestamp": 1246345446, "metainfo": ""}