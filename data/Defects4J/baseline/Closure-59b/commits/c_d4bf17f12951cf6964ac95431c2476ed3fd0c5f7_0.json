{"sha": "d4bf17f12951cf6964ac95431c2476ed3fd0c5f7", "log": "Add docs for CommandLineRunner.  Add a test for enum type creation.    ", "commit": "\n--- a/src/com/google/javascript/jscomp/CommandLineRunner.java\n+++ b/src/com/google/javascript/jscomp/CommandLineRunner.java\n   static final Flag<Boolean> FLAG_process_closure_primitives\n       = Flag.value(true);\n \n+  /**\n+   * Create a new command-line runner. You should only need to call\n+   * the constructor if you're extending this class. Otherwise, the main\n+   * method should instantiate it.\n+   */\n   protected CommandLineRunner(String[] args) {\n     super(args);\n   }\n--- a/test/com/google/javascript/jscomp/TypedScopeCreatorTest.java\n+++ b/test/com/google/javascript/jscomp/TypedScopeCreatorTest.java\n     assertTrue(f instanceof EnumType);\n   }\n \n+  public void testNamespacedEnum() {\n+    testSame(\"var goog = {}; goog.ui = {};\" +\n+        \"/** @constructor */goog.ui.Zippy = function() {};\" +\n+        \"/** @enum{string} */goog.ui.Zippy.EventType = { TOGGLE: 'toggle' };\" +\n+        \"var x = goog.ui.Zippy.EventType;\" +\n+        \"var y = goog.ui.Zippy.EventType.TOGGLE;\");\n+\n+    ObjectType x = (ObjectType) findNameType(\"x\", globalScope);\n+    assertTrue(x.isEnumType());\n+    assertTrue(x.hasProperty(\"TOGGLE\"));\n+    assertEquals(\"enum{goog.ui.Zippy.EventType}\", x.getReferenceName());\n+\n+    ObjectType y = (ObjectType) findNameType(\"y\", globalScope);\n+    assertTrue(y.isSubtype(getNativeType(STRING_TYPE)));\n+    assertTrue(y.isEnumElementType());\n+    assertEquals(\"goog.ui.Zippy.EventType\", y.getReferenceName());\n+  }\n+\n   public void testEnumAlias() {\n     testSame(\"/** @enum */ var Foo = {BAR: 1}; \" +\n         \"/** @enum */ var FooAlias = Foo; var f = FooAlias;\");", "timestamp": 1267485713, "metainfo": ""}