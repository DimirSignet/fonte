{"sha": "b0dcc252f7f3502db87769d0567ac70d5485e75f", "log": "Fixed issue 112. Actually, the issue was already fixed in previous 1-2 revisons because the invalid implemntation had also different manifestations (bug 116). Wanted to add a unit tests provided by contributor.  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%401589", "commit": "\n--- /dev/null\n+++ b/test/org/mockito/internal/progress/AtLeastTest.java\n+/*\n+ * Copyright (c) 2007 Mockito contributors\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.mockito.internal.progress;\n+\n+import org.junit.Test;\n+import org.mockito.exceptions.base.MockitoException;\n+import org.mockito.internal.verification.VerificationModeFactory;\n+import org.mockitoutil.TestBase;\n+\n+public class AtLeastTest extends TestBase {\n+\n+    @Test\n+    public void shouldNotAllowNegativeNumberOfMinimumInvocations() throws Exception {\n+        try {\n+            VerificationModeFactory.atLeast(-50);\n+            fail();\n+        } catch (MockitoException e) {\n+            assertEquals(\"Negative value or zero are not allowed here\", e.getMessage());\n+        }\n+    }\n+}\n--- a/test/org/mockito/internal/progress/TimesTest.java\n+++ b/test/org/mockito/internal/progress/TimesTest.java\n             assertEquals(\"Negative value is not allowed here\", e.getMessage());\n         }\n     }\n-\n-    @Test\n-    public void shouldNotAllowNegativeNumberOfMinimumInvocations() throws Exception {\n-        try {\n-            VerificationModeFactory.atLeast(-50);\n-            fail();\n-        } catch (MockitoException e) {\n-            assertEquals(\"Negative value or zero are not allowed here\", e.getMessage());\n-        }\n-    }\n-}\n+}\n--- /dev/null\n+++ b/test/org/mockitousage/bugs/AtLeastMarksAllInvocationsVerified.java\n+package org.mockitousage.bugs;\n+\n+import org.junit.Test;\n+import org.mockitoutil.TestBase;\n+import static org.mockito.Mockito.*;\n+\n+// see issue 112\n+public class AtLeastMarksAllInvocationsVerified extends TestBase {\n+\n+    public static class SomeMethods {\n+        public void allowedMethod() {\n+        }\n+        public void disallowedMethod() {\n+        }\n+    }\n+\n+    @Test(expected = org.mockito.exceptions.verification.NoInteractionsWanted.class)\n+    public void shouldFailBecauseDisallowedMethodWasCalled(){\n+        SomeMethods someMethods = mock(SomeMethods.class);\n+\n+        someMethods.allowedMethod();\n+        someMethods.disallowedMethod();\n+        \n+        verify(someMethods, atLeast(1)).allowedMethod();\n+        verifyNoMoreInteractions(someMethods);\n+    }\n+}", "timestamp": 1250975480, "metainfo": ""}