{"sha": "7cb7a5d3d0a867712eab1d1706fa8b91585729c8", "log": "fixing tests under gradle and reverted temporary failure for testng subproject  --HG-- rename : subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/FailingBecauseIncorrectAnnotationUsage.java => subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/FailingOnPurposeBecauseIncorrectAnnotationUsage.java rename : subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/FailingBecauseIncorrectStubbingSyntax.java => subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/FailingOnPurposeBecauseIncorrectStubbingSyntax.java rename : subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/FailingBecauseWrongStubbingSyntaxInConfigurationMethod.java => subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/FailingOnPurposeBecauseWrongStubbingSyntaxInConfigurationMethod.java", "commit": "\n--- a/subprojects/testng/src/test/java/org/mockitousage/testng/InitializeChildTestWhenParentHasListenerTest.java\n+++ b/subprojects/testng/src/test/java/org/mockitousage/testng/InitializeChildTestWhenParentHasListenerTest.java\n     public void verify_mocks_are_initialized() throws Exception {\n         assertThat(childMockField).isNotNull();\n         assertThat(parentMockField).isNotNull();\n-      fail();\n     }\n }\n--- /dev/null\n+++ b/subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/FailingOnPurposeBecauseIncorrectAnnotationUsage.java\n+package org.mockitousage.testng.failuretests;\n+\n+import org.mockito.Spy;\n+import org.mockito.testng.MockitoTestNGListener;\n+import org.testng.annotations.Listeners;\n+import org.testng.annotations.Test;\n+\n+import java.util.Map;\n+\n+/**\n+ * Should fail.\n+ *\n+ * @see TestNGShouldFailWhenMockitoListenerFailsTest\n+ */\n+@Listeners(MockitoTestNGListener.class)\n+@Test(description = \"Always failing, shouldn't be listed in 'mockito-testng.xml'\")\n+public class FailingOnPurposeBecauseIncorrectAnnotationUsage {\n+    @Spy Map spy_cant_initialize_interface_fields;\n+    @Test public void dummy_test_method() throws Exception { }\n+}\n--- /dev/null\n+++ b/subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/FailingOnPurposeBecauseIncorrectStubbingSyntax.java\n+package org.mockitousage.testng.failuretests;\n+\n+import org.mockito.exceptions.misusing.InvalidUseOfMatchersException;\n+import org.mockito.testng.MockitoTestNGListener;\n+import org.testng.annotations.Listeners;\n+import org.testng.annotations.Test;\n+\n+import java.io.PrintStream;\n+\n+import static org.mockito.Matchers.anySet;\n+import static org.mockito.Matchers.anyString;\n+import static org.mockito.Mockito.mock;\n+\n+/**\n+ * Should fail.\n+ *\n+ * @see TestNGShouldFailWhenMockitoListenerFailsTest\n+ */\n+@Listeners(MockitoTestNGListener.class)\n+@Test(description = \"Always failing, shouldn't be listed in 'mockito-testng.xml'\")\n+public class FailingOnPurposeBecauseIncorrectStubbingSyntax {\n+\n+    @Test(expectedExceptions = InvalidUseOfMatchersException.class)\n+    public void incorrect_stubbing_syntax_in_test() throws Exception {\n+        mock(PrintStream.class);\n+        anyString();\n+        anySet();\n+    }\n+\n+}\n--- /dev/null\n+++ b/subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/FailingOnPurposeBecauseWrongStubbingSyntaxInConfigurationMethod.java\n+package org.mockitousage.testng.failuretests;\n+\n+import org.mockito.Mock;\n+import org.mockito.testng.MockitoTestNGListener;\n+import org.testng.annotations.BeforeMethod;\n+import org.testng.annotations.Listeners;\n+import org.testng.annotations.Test;\n+\n+import java.util.List;\n+\n+import static org.mockito.Matchers.anyString;\n+\n+/**\n+ * Should fail.\n+ *\n+ * @see TestNGShouldFailWhenMockitoListenerFailsTest\n+ */\n+@Listeners(MockitoTestNGListener.class)\n+@Test(description = \"Always failing, shouldn't be listed in 'mockito-testng.xml'\")\n+public class FailingOnPurposeBecauseWrongStubbingSyntaxInConfigurationMethod {\n+\n+    @Mock List list;\n+\n+    // should fail\n+    @BeforeMethod public void some_wrong_stubs() {\n+        anyString();\n+    }\n+\n+\n+    @Test\n+    public void here_to_execute_the_config_method() throws Exception {\n+    }\n+\n+}\n--- a/subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/TestNGShouldFailWhenMockitoListenerFailsTest.java\n+++ b/subprojects/testng/src/test/java/org/mockitousage/testng/failuretests/TestNGShouldFailWhenMockitoListenerFailsTest.java\n     private final FailureRecordingListener failureRecorder = new FailureRecordingListener();\n \n     public void report_failure_on_incorrect_annotation_usage() throws Throwable {\n-        TestNG testNG = new_TestNG_with_failure_recorder_for(FailingBecauseIncorrectAnnotationUsage.class);\n+        TestNG testNG = new_TestNG_with_failure_recorder_for(FailingOnPurposeBecauseIncorrectAnnotationUsage.class);\n \n         testNG.run();\n \n \n     @Test\n     public void report_failure_on_incorrect_stubbing_syntax_with_matchers_in_test_methods() throws Exception {\n-        TestNG testNG = new_TestNG_with_failure_recorder_for(FailingBecauseIncorrectStubbingSyntax.class);\n+        TestNG testNG = new_TestNG_with_failure_recorder_for(FailingOnPurposeBecauseIncorrectStubbingSyntax.class);\n \n         testNG.run();\n \n \n     @Test\n     public void report_failure_on_incorrect_stubbing_syntax_with_matchers_in_configuration_methods() throws Exception {\n-        TestNG testNG = new_TestNG_with_failure_recorder_for(FailingBecauseWrongStubbingSyntaxInConfigurationMethod.class);\n+        TestNG testNG = new_TestNG_with_failure_recorder_for(FailingOnPurposeBecauseWrongStubbingSyntaxInConfigurationMethod.class);\n \n         testNG.run();\n ", "timestamp": 1350072136, "metainfo": ""}