{"sha": "87aa3bd2584df1b3ff3d3bc184de1fb3d8e1982f", "log": "some rename job, added TODOs for future  --HG-- rename : test/org/mockitousage/verification/AtLeastOnceVerificationTest.java => test/org/mockitousage/verification/AtLeastXVerificationTest.java extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%40752", "commit": "\n--- a/test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java\n+++ b/test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java\n import org.mockitousage.stubbing.BasicStubbingTest;\n import org.mockitousage.stubbing.ReturningDefaultValuesTest;\n import org.mockitousage.stubbing.StubbingWithThrowablesTest;\n-import org.mockitousage.verification.AtLeastOnceVerificationTest;\n+import org.mockitousage.verification.AtLeastXVerificationTest;\n import org.mockitousage.verification.BasicVerificationInOrderTest;\n import org.mockitousage.verification.BasicVerificationTest;\n import org.mockitousage.verification.DescriptiveMessagesOnVerificationInOrderErrorsTest;\n                     BasicStubbingTest.class,\n                     ReturningDefaultValuesTest.class,\n                     StubbingWithThrowablesTest.class,\n-                    AtLeastOnceVerificationTest.class,\n+                    AtLeastXVerificationTest.class,\n                     BasicVerificationTest.class,\n                     ExactNumberOfTimesVerificationTest.class,\n                     VerificationInOrderTest.class,\n--- /dev/null\n+++ b/test/org/mockitousage/verification/AtLeastXVerificationTest.java\n+/*\n+ * Copyright (c) 2007 Mockito contributors\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.mockitousage.verification;\n+\n+import static org.mockito.Mockito.*;\n+\n+import java.util.List;\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.mockito.Mockito;\n+import org.mockito.exceptions.verification.WantedButNotInvoked;\n+import org.mockitoutil.TestBase;\n+\n+@SuppressWarnings(\"unchecked\")\n+public class AtLeastXVerificationTest extends TestBase {\n+\n+    private List mock;\n+    private List mockTwo;\n+    \n+    @Before public void setup() {\n+        mock = Mockito.mock(List.class);\n+        mockTwo = Mockito.mock(List.class);\n+    }\n+\n+    @Test\n+    public void shouldVerifyAtLeastOnce() throws Exception {\n+        mock.clear();\n+        mock.clear();\n+        \n+        mockTwo.add(\"add\");\n+\n+        verify(mock, atLeastOnce()).clear();\n+        verify(mockTwo, atLeastOnce()).add(\"add\");\n+        try {\n+            verify(mockTwo, atLeastOnce()).add(\"foo\");\n+            fail();\n+        } catch (WantedButNotInvoked e) {}\n+    }\n+    \n+    @Test(expected=WantedButNotInvoked.class)\n+    public void shouldFailIfMethodWasNotCalledAtAll() throws Exception {\n+        verify(mock, atLeastOnce()).add(\"foo\");\n+    }\n+    \n+    @Test\n+    public void shouldVerifyAtLeast3Times() throws Exception {\n+        mock.add(\"foo\");\n+        mock.add(\"foo\");\n+        mock.add(\"foo\");\n+        \n+//TODO        \n+//      verify(mock, atLeast(2)).add(\"foo\");\n+    }\n+}\n--- /dev/null\n+++ b/test/org/mockitousage/verification/VerificationWithTimeoutTest.java\n+/*\n+ * Copyright (c) 2007 Mockito contributors\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.mockitousage.verification;\n+\n+import java.util.List;\n+\n+import org.junit.Test;\n+import org.mockito.MockitoAnnotations.Mock;\n+import org.mockitoutil.TestBase;\n+\n+@SuppressWarnings(\"unchecked\")\n+public class VerificationWithTimeoutTest extends TestBase {\n+\n+    @Mock private List mock;\n+    \n+    @Test\n+    public void shouldVerify() throws Exception {\n+        mock.clear();\n+        \n+        //TODO implement timeout\n+        //verify(mock, atLeastOnce().timeout(100)).clear();\n+    }\n+}", "timestamp": 1217351918, "metainfo": ""}