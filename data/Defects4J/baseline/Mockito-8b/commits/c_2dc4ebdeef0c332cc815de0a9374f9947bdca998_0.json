{"sha": "2dc4ebdeef0c332cc815de0a9374f9947bdca998", "log": "@Mock was taken out of MockitoAnnotations class to org.mockito.Mock. The old annotation is deprecated from now on. Tests were changed according to that.  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%40820", "commit": "\n--- /dev/null\n+++ b/src/org/mockito/Mock.java\n+package org.mockito;\n+\n+import static java.lang.annotation.ElementType.FIELD;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+import java.lang.annotation.Target;\n+\n+/**\n+ * Allows shorthand mock creation, see examples in javadoc for {@link MockitoAnnotations} class.\n+ */\n+@Target( { FIELD })\n+@Retention(RetentionPolicy.RUNTIME)\n+public @interface Mock {}\n+\n--- a/src/org/mockito/MockitoAnnotations.java\n+++ b/src/org/mockito/MockitoAnnotations.java\n public class MockitoAnnotations {\n \n     /**\n+     * <b> Deprecated </b>\n+     * \n      * Allows shorthand mock creation, see examples in javadoc for {@link MockitoAnnotations} class.\n+     * \n+     * @deprecated Use {@link Mock} annotation instead\n+     * \n      */\n     @Target( { FIELD })\n     @Retention(RetentionPolicy.RUNTIME)\n+    @Deprecated\n     public @interface Mock {}\n     \n     /**\n     private static void scan(Object testClass, Class<?> clazz) {\n         Field[] fields = clazz.getDeclaredFields();\n         for (Field f : fields) {\n-            if (f.isAnnotationPresent(Mock.class)) {\n+            if (f.isAnnotationPresent(org.mockito.Mock.class) || f.isAnnotationPresent(Mock.class)) {\n                 boolean wasAccessible = f.isAccessible();\n                 f.setAccessible(true);\n                 try {\n--- a/test/org/mockito/internal/invocation/InvocationMatcherTest.java\n+++ b/test/org/mockito/internal/invocation/InvocationMatcherTest.java\n import org.hamcrest.Matcher;\n import org.junit.Before;\n import org.junit.Test;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.internal.matchers.Equals;\n import org.mockito.internal.matchers.NotNull;\n import org.mockitousage.IMethods;\n--- a/test/org/mockito/internal/invocation/InvocationsFinderTest.java\n+++ b/test/org/mockito/internal/invocation/InvocationsFinderTest.java\n \n import org.junit.Before;\n import org.junit.Test;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.exceptions.base.HasStackTrace;\n import org.mockito.internal.progress.VerificationModeBuilder;\n import org.mockito.internal.progress.VerificationModeImpl;\n--- a/test/org/mockitousage/AnnotationsTest.java\n+++ b/test/org/mockitousage/AnnotationsTest.java\n import org.junit.Before;\n import org.junit.Test;\n import org.mockito.MockitoAnnotations;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.exceptions.base.MockitoException;\n import org.mockitoutil.TestBase;\n \n--- a/test/org/mockitousage/examples/junitrunner/ExampleTest.java\n+++ b/test/org/mockitousage/examples/junitrunner/ExampleTest.java\n \n import org.junit.Test;\n import org.junit.runner.RunWith;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n \n @RunWith(MockitoRunner.class)\n @SuppressWarnings(\"unchecked\")\n--- a/test/org/mockitousage/examples/use/ExampleTest.java\n+++ b/test/org/mockitousage/examples/use/ExampleTest.java\n import org.junit.Test;\n import org.junit.runner.RunWith;\n import org.mockito.InOrder;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockitousage.examples.junitrunner.MockitoRunner;\n import org.mockitoutil.TestBase;\n \n--- a/test/org/mockitousage/matchers/CapturingMatchersTest.java\n+++ b/test/org/mockitousage/matchers/CapturingMatchersTest.java\n \n import org.junit.Test;\n import org.mockito.ArgumentMatcher;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockitousage.IMethods;\n import org.mockitoutil.TestBase;\n \n--- a/test/org/mockitousage/matchers/GenericMatchersTest.java\n+++ b/test/org/mockitousage/matchers/GenericMatchersTest.java\n import java.util.List;\n \n import org.junit.Test;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockitoutil.TestBase;\n \n public class GenericMatchersTest extends TestBase {\n--- a/test/org/mockitousage/matchers/HamcrestMatchersTest.java\n+++ b/test/org/mockitousage/matchers/HamcrestMatchersTest.java\n import org.hamcrest.BaseMatcher;\n import org.hamcrest.Description;\n import org.junit.Test;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.exceptions.verification.ArgumentsAreDifferent;\n import org.mockitousage.IMethods;\n import org.mockitoutil.TestBase;\n--- a/test/org/mockitousage/matchers/MatchersMixedWithRawArgumentsTest.java\n+++ b/test/org/mockitousage/matchers/MatchersMixedWithRawArgumentsTest.java\n \n import org.junit.Ignore;\n import org.junit.Test;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockitousage.IMethods;\n import org.mockitoutil.TestBase;\n \n--- a/test/org/mockitousage/misuse/DescriptiveMessagesOnMisuseTest.java\n+++ b/test/org/mockitousage/misuse/DescriptiveMessagesOnMisuseTest.java\n \n import org.junit.Ignore;\n import org.junit.Test;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.exceptions.base.MockitoException;\n import org.mockito.exceptions.misusing.NotAMockException;\n import org.mockito.exceptions.misusing.NullInsteadOfMockException;\n--- a/test/org/mockitousage/stubbing/ReturningDefaultValuesTest.java\n+++ b/test/org/mockitousage/stubbing/ReturningDefaultValuesTest.java\n \n import org.junit.Test;\n import org.mockito.Mockito;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockitousage.IMethods;\n import org.mockitoutil.TestBase;\n \n--- a/test/org/mockitousage/stubbing/StubbingConsecutiveReturnValuesTest.java\n+++ b/test/org/mockitousage/stubbing/StubbingConsecutiveReturnValuesTest.java\n import static org.mockito.Mockito.*;\n \n import org.junit.Test;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.exceptions.base.MockitoException;\n import org.mockitousage.IMethods;\n import org.mockitoutil.TestBase;\n--- a/test/org/mockitousage/stubbing/StubbingUsingDoReturnTest.java\n+++ b/test/org/mockitousage/stubbing/StubbingUsingDoReturnTest.java\n import org.junit.After;\n import org.junit.Test;\n import org.mockito.StateMaster;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.exceptions.base.MockitoException;\n import org.mockito.exceptions.verification.NoInteractionsWanted;\n import org.mockito.invocation.InvocationOnMock;\n--- a/test/org/mockitousage/stubbing/StubbingWithCustomAnswerTest.java\n+++ b/test/org/mockitousage/stubbing/StubbingWithCustomAnswerTest.java\n \n import org.junit.Test;\n import static org.mockito.Mockito.*;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.invocation.InvocationOnMock;\n import org.mockito.stubbing.Answer;\n import org.mockitousage.IMethods;\n--- a/test/org/mockitousage/verification/BasicVerificationTest.java\n+++ b/test/org/mockitousage/verification/BasicVerificationTest.java\n import java.util.List;\n \n import org.junit.Test;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.exceptions.verification.ArgumentsAreDifferent;\n import org.mockito.exceptions.verification.NoInteractionsWanted;\n import org.mockito.exceptions.verification.TooManyActualInvocations;\n--- a/test/org/mockitousage/verification/DescriptiveMessagesWhenVerificationFailsTest.java\n+++ b/test/org/mockitousage/verification/DescriptiveMessagesWhenVerificationFailsTest.java\n import org.junit.Before;\n import org.junit.Test;\n import org.mockito.Mockito;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockito.exceptions.cause.ActualArgumentsAreDifferent;\n import org.mockito.exceptions.cause.UndesiredInvocation;\n import org.mockito.exceptions.verification.ArgumentsAreDifferent;\n--- a/test/org/mockitousage/verification/VerificationWithTimeoutTest.java\n+++ b/test/org/mockitousage/verification/VerificationWithTimeoutTest.java\n import java.util.List;\n \n import org.junit.Test;\n-import org.mockito.MockitoAnnotations.Mock;\n+import org.mockito.Mock;\n import org.mockitoutil.TestBase;\n \n @SuppressWarnings(\"unchecked\")", "timestamp": 1219750563, "metainfo": ""}