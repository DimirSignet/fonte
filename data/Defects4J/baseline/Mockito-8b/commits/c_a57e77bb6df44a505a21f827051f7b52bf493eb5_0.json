{"sha": "a57e77bb6df44a505a21f827051f7b52bf493eb5", "log": "added test added TODO BTW. Is this useless check-in comment? 8-)  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%40112", "commit": "\n--- a/src/org/mockito/internal/MockControl.java\n+++ b/src/org/mockito/internal/MockControl.java\n         if (throwableToBeSetOnVoidMethod != null) {\n             Invocation invocation = new Invocation(proxy, method, args, mockitoState.nextSequenceNumber());\n             ExpectedInvocation invocationWithMatchers = expectedInvocation(invocation);\n-            //TODO this is a bit dodgy, we should set result directly on behavior\n+            //TODO this is a bit dodgy, we should set result directly on behavior and behavior should validate exception\n             behavior.addInvocation(invocationWithMatchers);\n             andThrows(throwableToBeSetOnVoidMethod);\n             throwableToBeSetOnVoidMethod = null;\n--- a/test/org/mockito/usage/InvalidStateDetectionTest.java\n+++ b/test/org/mockito/usage/InvalidStateDetectionTest.java\n  *    -on verify on strictly\n  *    -on stub\n  *    -on stubVoid\n- *\n  */\n @SuppressWarnings(\"unchecked\")\n public class InvalidStateDetectionTest {\n         \n         detects(new OnMethodCallOnMock(), mock, UnfinishedStubbingException.class);\n         detects(new OnStub(), mock, UnfinishedStubbingException.class);\n-//        detects(new OnStubVoid(), mock, expected);\n+        detects(new OnStubVoid(), mock, UnfinishedStubbingException.class);\n         detects(new OnVerify(), mock, UnfinishedStubbingException.class);\n         detects(new OnStrictVerify(), mock, UnfinishedStubbingException.class);\n         detects(new OnVerifyZeroInteractions(), mock, UnfinishedStubbingException.class);\n         detects(new OnVerifyNoMoreInteractions(), mock, UnfinishedStubbingException.class);\n     }\n     \n-    @Ignore\n     @Test\n     public void shouldDetectUnfinishedStubbingVoid() {\n         stubVoid(mock);\n         detects(new OnMethodCallOnMock(), mock, UnfinishedStubbingException.class);\n         detects(new OnStub(), mock, UnfinishedStubbingException.class);\n-//        detects(new OnStubVoid(), mock, expected);\n+        detects(new OnStubVoid(), mock, UnfinishedStubbingException.class);\n         detects(new OnVerify(), mock, UnfinishedStubbingException.class);\n         detects(new OnStrictVerify(), mock, UnfinishedStubbingException.class);\n         detects(new OnVerifyZeroInteractions(), mock, UnfinishedStubbingException.class);\n     @Test\n     public void shouldDetectUnfinishedVerification() {\n         verify(mock);\n-//        detects(new OnMethodCallOnMock(), mock, expected);\n         detects(new OnStub(), mock, UnfinishedVerificationException.class);\n-//        detects(new OnStubVoid(), mock, expected);\n+        detects(new OnStubVoid(), mock, UnfinishedVerificationException.class);\n         detects(new OnVerify(), mock, UnfinishedVerificationException.class);\n         detects(new OnStrictVerify(), mock, UnfinishedVerificationException.class);\n         detects(new OnVerifyZeroInteractions(), mock, UnfinishedVerificationException.class);\n         }\n     }\n     \n-//    private static class OnStubVoid implements DetectsInvalidState {\n-//        public void detect(IMethods mock) {\n-//            stubVoid(mock);\n-//        }\n-//    }\n+    private static class OnStubVoid implements DetectsInvalidState {\n+        public void detect(IMethods mock) {\n+            stubVoid(mock);\n+        }\n+    }\n     \n     private static class OnMethodCallOnMock implements DetectsInvalidState {\n         public void detect(IMethods mock) {", "timestamp": 1196473064, "metainfo": ""}