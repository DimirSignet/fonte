{"sha": "d0c872e4b0837aef1e1635bf5f15d33c3d8d9698", "log": "Merge branch 'issue484-fix' of git://github.com/MajA7jHbJYW2N/mockito into MajA7jHbJYW2N-issue484-fix", "commit": "\n--- a/src/org/mockito/internal/matchers/Equality.java\n+++ b/src/org/mockito/internal/matchers/Equality.java\n public class Equality {\n \n     public static boolean areEqual(Object o1, Object o2) {\n-        if (o1 == null || o2 == null) {\n+        if (o1 == o2 ) {\n+            return true;\n+\t} else if (o1 == null || o2 == null) {\n             return o1 == null && o2 == null;\n         } else if (isArray(o1)) {\n             return isArray(o2) && areArraysEqual(o1, o2);\n--- a/test/org/mockito/internal/matchers/EqualityTest.java\n+++ b/test/org/mockito/internal/matchers/EqualityTest.java\n         assertTrue(areEqual(new Object[10], new Object[10]));\n         assertTrue(areEqual(new int[] {1}, new Integer[] {1}));\n         assertTrue(areEqual(new Object[] {\"1\"}, new String[] {\"1\"}));\n+\tObject badequals=new BadEquals();\n+\tassertTrue(areEqual(badequals,badequals));\n \n         assertFalse(areEqual(new Object[9], new Object[10]));\n         assertFalse(areEqual(new int[] {1, 2}, new int[] {1}));\n         assertFalse(areEqual(new int[] {1}, new double[] {1.0}));\n     }\n-}\n+\n+   private final class BadEquals {\n+    @Override\n+        public boolean equals (Object oth) {\n+\t      throw new RuntimeException();\n+        }\n+   }\n+}", "timestamp": 1397311773, "metainfo": ""}