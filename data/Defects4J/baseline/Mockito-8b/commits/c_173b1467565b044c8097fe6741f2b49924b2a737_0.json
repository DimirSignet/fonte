{"sha": "173b1467565b044c8097fe6741f2b49924b2a737", "log": "added some tests that preserve the limitation of mockito (cannot mock object methods)  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%40266", "commit": "\n--- a/src/org/mockito/internal/creation/MockFactory.java\n+++ b/src/org/mockito/internal/creation/MockFactory.java\n import net.sf.cglib.proxy.Factory;\n \n import org.mockito.exceptions.Reporter;\n-import org.mockito.exceptions.base.MockitoException;\n \n /**\n  * Factory generating a mock for a class.\n--- a/test/org/mockitousage/InvalidUsageTest.java\n+++ b/test/org/mockitousage/InvalidUsageTest.java\n  */\n package org.mockitousage;\n \n-import static org.mockito.Mockito.strictly;\n-import static org.mockito.Mockito.mock;\n-import static org.mockito.Mockito.stub;\n-import static org.mockito.Mockito.verifyNoMoreInteractions;\n-import static org.mockito.Mockito.verifyZeroInteractions;\n+import static org.mockito.Mockito.*;\n \n import org.junit.After;\n import org.junit.Before;\n         mock(FinalClass.class); \n     }\n     \n-    //TODO what if interface has equals() method to stub? \n+    interface ObjectLikeInterface {\n+        boolean equals(Object o);\n+        String toString();\n+        int hashCode();\n+    }\n+    \n+    @Test\n+    public void shouldNotMockObjectMethodsOnInterface() throws Exception {\n+        ObjectLikeInterface inter = mock(ObjectLikeInterface.class);\n+        \n+        inter.equals(null);\n+        inter.toString();\n+        inter.hashCode();\n+        \n+        verifyZeroInteractions(inter);\n+    }\n+    \n+    public void shouldNotMockObjectMethodsOnClass() throws Exception {\n+        Object clazz = mock(ObjectLikeInterface.class);\n+        \n+        clazz.equals(null);\n+        clazz.toString();\n+        clazz.hashCode();\n+        \n+        verifyZeroInteractions(clazz);\n+    }\n }", "timestamp": 1199622237, "metainfo": ""}