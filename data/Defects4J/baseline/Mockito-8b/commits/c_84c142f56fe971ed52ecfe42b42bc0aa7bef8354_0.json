{"sha": "84c142f56fe971ed52ecfe42b42bc0aa7bef8354", "log": "Inform the user with a good message when she tries to 'callRealMethod()' on a mock of a interface. Fixed issue 140  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%401664", "commit": "\n--- a/src/org/mockito/internal/invocation/Invocation.java\n+++ b/src/org/mockito/internal/invocation/Invocation.java\n \n import org.hamcrest.Matcher;\n import org.mockito.exceptions.PrintableInvocation;\n+import org.mockito.exceptions.Reporter;\n import org.mockito.internal.debugging.Location;\n import org.mockito.internal.invocation.realmethod.RealMethod;\n import org.mockito.internal.matchers.*;\n     }\n \n     public Object callRealMethod() throws Throwable {\n+        if (this.getMethod().getDeclaringClass().isInterface()) {\n+            new Reporter().cannotCallRealMethodOnInterface();\n+        }\n         return realMethod.invoke(mock, rawArguments);\n     }\n \n--- a/test/org/mockito/internal/invocation/InvocationTest.java\n+++ b/test/org/mockito/internal/invocation/InvocationTest.java\n \n import org.junit.Before;\n import org.junit.Test;\n+import org.mockito.exceptions.base.MockitoException;\n import org.mockito.internal.invocation.realmethod.RealMethod;\n import org.mockito.internal.matchers.ArrayEquals;\n import org.mockito.internal.matchers.Equals;\n         //then\n         assertEquals(\"woof\", invocation.callRealMethod());\n     }\n+    \n+    @Test\n+    public void shouldScreamWhenCallingRealMethodOnInterface() throws Throwable {\n+        //given\n+        Invocation invocationOnInterface = new InvocationBuilder().toInvocation();\n+\n+        try {\n+            //when\n+            invocationOnInterface.callRealMethod();\n+            //then\n+            fail();\n+        } catch(MockitoException e) {}\n+    }\n }\n--- a/test/org/mockitousage/spies/SpyingOnInterfacesTest.java\n+++ b/test/org/mockitousage/spies/SpyingOnInterfacesTest.java\n \n import java.util.List;\n \n-import org.junit.Ignore;\n import org.junit.Test;\n import org.mockito.exceptions.base.MockitoException;\n import org.mockito.invocation.InvocationOnMock;\n         } catch (MockitoException e) {}\n     }\n     \n-    @Ignore(\"not yet implemented\")\n     @Test\n-    public void shouldFailFastWhenCallingRealMethodOnInterface2() throws Exception {\n+    public void shouldFailInRuntimeWhenCallingRealMethodOnInterface() throws Exception {\n         //given\n         List list = mock(List.class);\n         when(list.get(0)).thenAnswer(", "timestamp": 1257710870, "metainfo": ""}