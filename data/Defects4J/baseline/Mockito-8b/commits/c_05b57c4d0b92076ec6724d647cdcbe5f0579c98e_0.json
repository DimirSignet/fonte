{"sha": "05b57c4d0b92076ec6724d647cdcbe5f0579c98e", "log": "use of @Test(expected) instead of try, fail, catch  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%4044", "commit": "\n--- a/test/org/mockito/usage/InvalidUsageTest.java\n+++ b/test/org/mockito/usage/InvalidUsageTest.java\n  *    -unfinished stubVoid\n  *    -stubbing without actual method call\n  *    -verify without actual method call\n- *    \n+ *\n  * we should aim to detect invalid state in following scenarios:\n  *    -on method call on mock\n  *    -on verify\n  *    -on verifyNoMoreInteractions\n  *    -on stub\n  *    -on stubVoid\n- *    \n+ *\n  * obviously we should consider if it is really important to cover all those naughty usage\n  */\n @SuppressWarnings(\"unchecked\")\n public class InvalidUsageTest {\n-    \n+\n     private List mock;\n \n     @Before\n         StateResetter.reset();\n         mock = mock(List.class);\n     }\n-    \n-    @Test\n+\n+    @Test(expected=MissingMethodInvocationException.class)\n     public void shouldDetectStubbingWithoutMethodCallOnMock() {\n-        try {\n-            stub(\"blah\".contains(\"blah\"));\n-            fail();\n-        } catch (MissingMethodInvocationException e) {\n-            //cool\n-        }\n+        stub(\"blah\".contains(\"blah\"));\n     }\n-    \n+\n     @Ignore\n     @Test\n     public void unfinishedStubbingDetectedOnVerify() {\n         stub(mock.add(\"test\"));\n-        \n+\n         try {\n             verifyZeroInteractions(mock);\n             fail();\n         } catch (UnfinishedStubbingException e) {}\n     }\n-    \n+\n     @Ignore\n     @Test\n     public void unfinishedStubbingDetectedWhenAnotherStubbingIsStarted() {\n         stub(mock.add(\"test\"));\n-        \n+\n         try {\n             stub(mock.add(\"test\")).andThrows(new Exception(\"ssdf\"));\n             fail();\n         } catch (UnfinishedStubbingException e) {}\n     }\n-    \n+\n     @Ignore\n     @Test\n     public void unfinishedStubbingDetectedMockCalled() {\n         stub(mock.add(\"test\"));\n-        \n+\n         try {\n             mock.clear();\n             fail();\n         } catch (UnfinishedStubbingException e) {}\n     }\n-    \n+\n     @Ignore\n     @Test\n     public void unfinishedStubbingVoid() {\n         stubVoid(mock);\n-        \n+\n         try {\n             mock.clear();\n             fail();", "timestamp": 1195604324, "metainfo": ""}