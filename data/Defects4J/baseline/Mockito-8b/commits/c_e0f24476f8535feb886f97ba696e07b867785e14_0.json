{"sha": "e0f24476f8535feb886f97ba696e07b867785e14", "log": "Performance enhancement", "commit": "\n--- a/src/org/mockito/internal/debugging/Location.java\n+++ b/src/org/mockito/internal/debugging/Location.java\n public class Location implements Serializable {\n \n     private static final long serialVersionUID = -9054861157390980624L;\n-    private final String where;\n+    private final Throwable stackTraceHolder;\n+    private final StackTraceFilter stackTraceFilter;\n \n     public Location() {\n         this(new StackTraceFilter());\n     }\n \n-    public Location(StackTraceFilter filter) {\n-        StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\n-        StackTraceElement[] filtered = filter.filter(stackTrace, false);\n-        if (filtered.length == 0) {\n-            where = \"-> at <<unknown line>>\";\n-        } else {\n-            where = \"-> at \" + filtered[0].toString();\n-        }\n+    public Location(StackTraceFilter stackTraceFilter) {\n+        this.stackTraceFilter = stackTraceFilter;\n+        stackTraceHolder = new Throwable();\n     }\n-\n+\t\n     @Override\n     public String toString() {\n-        return where;\n+        StackTraceElement[] filtered = stackTraceFilter.filter(stackTraceHolder.getStackTrace(), false);\n+        if (filtered.length == 0) {\n+            return \"-> at <<unknown line>>\";\n+        }\n+        return \"-> at \" + filtered[0].toString();\n     }\n }", "timestamp": 1286904934, "metainfo": ""}