{"sha": "ac070bb27868d5549426fce3bcbefde36cd81183", "log": "reorganized folders  --HG-- rename : test/org/easymock/tests/AnswerTest.java => test/org/easymock/AnswerTest.java rename : test/org/easymock/tests/CallbackAndArgumentsTest.java => test/org/easymock/CallbackAndArgumentsTest.java rename : test/org/easymock/tests/CallbackTest.java => test/org/easymock/CallbackTest.java rename : test/org/easymock/tests/CompareToTest.java => test/org/easymock/CompareToTest.java rename : test/org/easymock/tests/ConstraintsToStringTest.java => test/org/easymock/ConstraintsToStringTest.java rename : test/org/easymock/tests/IMethods.java => test/org/easymock/IMethods.java rename : test/org/easymock/tests/InvocationTest.java => test/org/easymock/InvocationTest.java rename : test/org/easymock/tests/NameTest.java => test/org/easymock/NameTest.java rename : test/org/easymock/tests/StubTest.java => test/org/easymock/StubTest.java rename : test/org/easymock/tests/UsageConstraintsTest.java => test/org/easymock/UsageConstraintsTest.java rename : test/org/easymock/tests/UsageMatchersTest.java => test/org/easymock/UsageMatchersTest.java rename : test/org/easymock/tests/UsageStrictMockTest.java => test/org/easymock/UsageStrictMockTest.java rename : test/org/easymock/tests/UsageTest.java => test/org/easymock/UsageTest.java rename : test/org/easymock/tests/UsingVarargsTest.java => test/org/easymock/UsingVarargsTest.java rename : test/org/easymock/tests/Util.java => test/org/easymock/Util.java extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%4016", "commit": "\n--- /dev/null\n+++ b/test/org/easymock/AnswerTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.easymock.EasyMock.*;\n+import static org.junit.Assert.*;\n+\n+import org.easymock.IAnswer;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class AnswerTest {\n+\n+    private IMethods mock;\n+\n+    @Before\n+    public void setUp() {\n+        mock = createMock(IMethods.class);\n+    }\n+\n+    @SuppressWarnings(\"unchecked\")\n+    @Test\n+    public void answer() {\n+        IAnswer firstAnswer = new IAnswer() {\n+            public Object answer() {\n+                assertEquals(new Object[] { 1, \"2\", \"3\" },\n+                        getCurrentArguments());\n+                return \"Call answered\";\n+            }\n+        };\n+\n+        IAnswer secondAnswer = new IAnswer() {\n+            public Object answer() {\n+                assertEquals(new Object[] { 1, \"2\", \"3\" },\n+                        getCurrentArguments());\n+                throw new IllegalStateException(\"Call answered\");\n+            }\n+        };\n+\n+        expect(mock.threeArgumentMethod(1, \"2\", \"3\")).andAnswer(firstAnswer)\n+                .andReturn(\"Second call\").andAnswer(secondAnswer).andReturn(\n+                        \"Fourth call\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"Call answered\", mock.threeArgumentMethod(1, \"2\", \"3\"));\n+        assertEquals(\"Second call\", mock.threeArgumentMethod(1, \"2\", \"3\"));\n+        try {\n+            mock.threeArgumentMethod(1, \"2\", \"3\");\n+            fail();\n+        } catch (IllegalStateException expected) {\n+            assertEquals(\"Call answered\", expected.getMessage());\n+        }\n+        assertEquals(\"Fourth call\", mock.threeArgumentMethod(1, \"2\", \"3\"));\n+\n+        verify(mock);\n+    }\n+\n+    @SuppressWarnings(\"unchecked\")\n+    @Test\n+    public void stubAnswer() {\n+        IAnswer firstAnswer = new IAnswer() {\n+            public Object answer() {\n+                assertEquals(new Object[] { 1, \"2\", \"3\" },\n+                        getCurrentArguments());\n+                return \"Call answered\";\n+            }\n+        };\n+\n+        IAnswer secondAnswer = new IAnswer() {\n+            public Object answer() {\n+                assertEquals(new Object[] { 1, \"2\", \"4\" },\n+                        getCurrentArguments());\n+                return \"Call answered\";\n+            }\n+        };\n+\n+        expect(mock.threeArgumentMethod(1, \"2\", \"3\")).andReturn(42)\n+                .andStubAnswer(firstAnswer);\n+        expect(mock.threeArgumentMethod(1, \"2\", \"4\")).andStubAnswer(\n+                secondAnswer);\n+\n+        replay(mock);\n+\n+        assertEquals(42, mock.threeArgumentMethod(1, \"2\", \"3\"));\n+        assertEquals(\"Call answered\", mock.threeArgumentMethod(1, \"2\", \"3\"));\n+        assertEquals(\"Call answered\", mock.threeArgumentMethod(1, \"2\", \"4\"));\n+        assertEquals(\"Call answered\", mock.threeArgumentMethod(1, \"2\", \"3\"));\n+        assertEquals(\"Call answered\", mock.threeArgumentMethod(1, \"2\", \"3\"));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void nullAnswerNotAllowed() {\n+        try {\n+            expect(mock.threeArgumentMethod(1, \"2\", \"3\")).andAnswer(null);\n+            fail();\n+        } catch (NullPointerException expected) {\n+            assertEquals(\"answer object must not be null\", expected\n+                    .getMessage());\n+        }\n+    }\n+\n+    @Test\n+    public void nullStubAnswerNotAllowed() {\n+        try {\n+            expect(mock.threeArgumentMethod(1, \"2\", \"3\")).andStubAnswer(null);\n+            fail();\n+        } catch (NullPointerException expected) {\n+            assertEquals(\"answer object must not be null\", expected\n+                    .getMessage());\n+        }\n+    }\n+\n+}\n--- /dev/null\n+++ b/test/org/easymock/CallbackAndArgumentsTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.easymock.EasyMock.*;\n+import static org.junit.Assert.*;\n+\n+import org.easymock.IAnswer;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class CallbackAndArgumentsTest {\n+\n+    private IMethods mock;\n+\n+    @Before\n+    public void setUp() {\n+        mock = createStrictMock(IMethods.class);\n+    }\n+\n+    @Test\n+    public void callbackGetsArguments() {\n+\n+        final StringBuffer buffer = new StringBuffer();\n+\n+        mock.simpleMethodWithArgument((String) notNull());\n+        expectLastCall().andAnswer(new IAnswer<Object>() {\n+            public Object answer() {\n+                buffer.append((String) getCurrentArguments()[0]);\n+                return null;\n+            }\n+        }).times(2);\n+\n+        replay(mock);\n+\n+        mock.simpleMethodWithArgument(\"1\");\n+        mock.simpleMethodWithArgument(\"2\");\n+\n+        verify(mock);\n+\n+        assertEquals(\"12\", buffer.toString());\n+    }\n+\n+    @Test(expected = IllegalStateException.class)\n+    public void currentArgumentsFailsOutsideCallbacks() {\n+        getCurrentArguments();\n+    }\n+\n+    @Test\n+    public void callbackGetsArgumentsEvenIfAMockCallsAnother() {\n+\n+        final StringBuffer buffer = new StringBuffer();\n+\n+        final IMethods mock2 = createStrictMock(IMethods.class);\n+        mock2.simpleMethod();\n+        expectLastCall().andAnswer(new IAnswer<Object>() {\n+            public Object answer() {\n+                // empty, only needed to force deletion of arguments\n+                return null;\n+            }\n+        }).times(2);\n+\n+        mock.simpleMethodWithArgument((String) notNull());\n+        expectLastCall().andAnswer(new IAnswer<Object>() {\n+            public Object answer() {\n+                mock2.simpleMethod();\n+                buffer.append((String) getCurrentArguments()[0]);\n+                return null;\n+            }\n+        }).times(2);\n+\n+        replay(mock);\n+        replay(mock2);\n+\n+        mock.simpleMethodWithArgument(\"1\");\n+        mock.simpleMethodWithArgument(\"2\");\n+\n+        verify(mock);\n+        verify(mock2);\n+\n+        assertEquals(\"12\", buffer.toString());\n+    }\n+}\n--- /dev/null\n+++ b/test/org/easymock/CallbackTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.easymock.EasyMock.*;\n+import static org.junit.Assert.*;\n+\n+import org.easymock.IAnswer;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class CallbackTest {\n+\n+    private IMethods mock;\n+\n+    private static class Callback<T> implements IAnswer<T> {\n+        private int callCount;\n+\n+        private T result;\n+\n+        public Callback(T result) {\n+            this.result = result;\n+        }\n+\n+        public void run() {\n+        }\n+\n+        public int getCallCount() {\n+            return callCount;\n+        }\n+\n+        public T answer() throws Throwable {\n+            callCount++;\n+            return result;\n+        }\n+    }\n+\n+    @Before\n+    public void setUp() {\n+        mock = createStrictMock(IMethods.class);\n+    }\n+\n+    @Test\n+    public void callback() {\n+        Callback<String> c1 = new Callback<String>(\"1\");\n+        Callback<Object> c2 = new Callback<Object>(null);\n+        Callback<Object> c3 = new Callback<Object>(null);\n+\n+        expect(mock.oneArg(\"2\")).andAnswer(c1).times(2);\n+        mock.simpleMethodWithArgument(\"One\");\n+        expectLastCall().andAnswer(c2);\n+        mock.simpleMethodWithArgument(\"Two\");\n+        expectLastCall().andAnswer(c3).times(2);\n+\n+        replay(mock);\n+\n+        mock.oneArg(\"2\");\n+        mock.oneArg(\"2\");\n+        try {\n+            mock.oneArg(\"2\");\n+        } catch (AssertionError ignored) {\n+        }\n+        try {\n+            mock.simpleMethodWithArgument(\"Two\");\n+        } catch (AssertionError ignored) {\n+        }\n+        mock.simpleMethodWithArgument(\"One\");\n+        try {\n+            mock.simpleMethodWithArgument(\"One\");\n+        } catch (AssertionError ignored) {\n+        }\n+        mock.simpleMethodWithArgument(\"Two\");\n+        mock.simpleMethodWithArgument(\"Two\");\n+        try {\n+            mock.simpleMethodWithArgument(\"Two\");\n+        } catch (AssertionError ignored) {\n+        }\n+        verify(mock);\n+\n+        assertEquals(2, c1.getCallCount());\n+        assertEquals(1, c2.getCallCount());\n+        assertEquals(2, c3.getCallCount());\n+    }\n+}\n--- /dev/null\n+++ b/test/org/easymock/CompareToTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.junit.Assert.*;\n+\n+import java.math.BigDecimal;\n+\n+import org.easymock.internal.matchers.*;\n+import org.junit.Test;\n+\n+public class CompareToTest {\n+\n+    @Test\n+    public void testNotComparable() {\n+        CompareTo<Long> cmpTo = new CompareTo<Long>(5L) {\n+\n+            @Override\n+            protected String getName() {\n+                return null;\n+            }\n+\n+            @Override\n+            protected boolean matchResult(int result) {\n+                fail(\"Shouldn't be called since the passed argument is not Comparable\");\n+                return true;\n+            }\n+            \n+        };\n+        \n+        assertFalse(cmpTo.matches(new Object()));\n+    }\n+    @Test\n+    public void testLessThan() {\n+        test(new LessThan<String>(\"b\"), true, false, false, \"lt\");\n+    }\n+\n+    @Test\n+    public void testGreateThan() {\n+        test(new GreaterThan<String>(\"b\"), false, true, false, \"gt\");\n+    }\n+\n+    @Test\n+    public void testLessOrEqual() {\n+        test(new LessOrEqual<String>(\"b\"), true, false, true, \"leq\");\n+    }\n+\n+    @Test\n+    public void testGreateOrEqual() {\n+        test(new GreaterOrEqual<String>(\"b\"), false, true, true, \"geq\");\n+    }\n+\n+    @Test\n+    public void testCompareEqual() {\n+        test(new CompareEqual<String>(\"b\"), false, false, true, \"cmpEq\");\n+\n+        // Make sure it works when equals provide a different result than\n+        // compare\n+        CompareEqual<BigDecimal> cmpEq = new CompareEqual<BigDecimal>(\n+                new BigDecimal(\"5.00\"));\n+        assertTrue(cmpEq.matches(new BigDecimal(\"5\")));\n+    }\n+\n+    private void test(CompareTo<String> cmpTo, boolean lower, boolean higher,\n+            boolean equals, String name) {\n+\n+        assertEquals(lower, cmpTo.matches(\"a\"));\n+        assertEquals(equals, cmpTo.matches(\"b\"));\n+        assertEquals(higher, cmpTo.matches(\"c\"));\n+\n+        StringBuffer sb = new StringBuffer();\n+        cmpTo.appendTo(sb);\n+        assertEquals(name + \"(b)\", sb.toString());\n+    }\n+}\n--- /dev/null\n+++ b/test/org/easymock/ConstraintsToStringTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.junit.Assert.*;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import org.easymock.IArgumentMatcher;\n+import org.easymock.internal.matchers.*;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class ConstraintsToStringTest {\n+    private StringBuffer buffer;\n+\n+    @Before\n+    public void setup() {\n+        buffer = new StringBuffer();\n+    }\n+\n+    @Test\n+    public void sameToStringWithString() {\n+        new Same(\"X\").appendTo(buffer);\n+        assertEquals(\"same(\\\"X\\\")\", buffer.toString());\n+\n+    }\n+\n+    @Test\n+    public void nullToString() {\n+        Null.NULL.appendTo(buffer);\n+        assertEquals(\"isNull()\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void notNullToString() {\n+        NotNull.NOT_NULL.appendTo(buffer);\n+        assertEquals(\"notNull()\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void anyToString() {\n+        Any.ANY.appendTo(buffer);\n+        assertEquals(\"<any>\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void sameToStringWithChar() {\n+        new Same('x').appendTo(buffer);\n+        assertEquals(\"same('x')\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void sameToStringWithObject() {\n+        Object o = new Object() {\n+            @Override\n+            public String toString() {\n+                return \"X\";\n+            }\n+        };\n+        new Same(o).appendTo(buffer);\n+        assertEquals(\"same(X)\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void equalsToStringWithString() {\n+        new Equals(\"X\").appendTo(buffer);\n+        assertEquals(\"\\\"X\\\"\", buffer.toString());\n+\n+    }\n+\n+    @Test\n+    public void equalsToStringWithChar() {\n+        new Equals('x').appendTo(buffer);\n+        assertEquals(\"'x'\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void equalsToStringWithObject() {\n+        Object o = new Object() {\n+            @Override\n+            public String toString() {\n+                return \"X\";\n+            }\n+        };\n+        new Equals(o).appendTo(buffer);\n+        assertEquals(\"X\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void orToString() {\n+        List<IArgumentMatcher> matchers = new ArrayList<IArgumentMatcher>();\n+        matchers.add(new Equals(1));\n+        matchers.add(new Equals(2));\n+        new Or(matchers).appendTo(buffer);\n+        assertEquals(\"or(1, 2)\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void notToString() {\n+        new Not(new Equals(1)).appendTo(buffer);\n+        assertEquals(\"not(1)\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void andToString() {\n+        List<IArgumentMatcher> matchers = new ArrayList<IArgumentMatcher>();\n+        matchers.add(new Equals(1));\n+        matchers.add(new Equals(2));\n+        new And(matchers).appendTo(buffer);\n+        assertEquals(\"and(1, 2)\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void startsWithToString() {\n+        new StartsWith(\"AB\").appendTo(buffer);\n+        assertEquals(\"startsWith(\\\"AB\\\")\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void endsWithToString() {\n+        new EndsWith(\"AB\").appendTo(buffer);\n+        assertEquals(\"endsWith(\\\"AB\\\")\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void containsToString() {\n+        new Contains(\"AB\").appendTo(buffer);\n+        assertEquals(\"contains(\\\"AB\\\")\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void findToString() {\n+        new Find(\"\\\\s+\").appendTo(buffer);\n+        assertEquals(\"find(\\\"\\\\\\\\s+\\\")\", buffer.toString());\n+    }\n+\n+    @Test\n+    public void matchesToString() {\n+        new Matches(\"\\\\s+\").appendTo(buffer);\n+        assertEquals(\"matches(\\\"\\\\\\\\s+\\\")\", buffer.toString());\n+    }\n+\n+}\n--- /dev/null\n+++ b/test/org/easymock/IMethods.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import java.io.IOException;\n+\n+public interface IMethods {\n+\n+    //TODO kill the index, kill not used methods\n+    boolean booleanReturningMethod(int index);\n+\n+    byte byteReturningMethod(int index);\n+\n+    short shortReturningMethod(int index);\n+\n+    char charReturningMethod(int index);\n+\n+    int intReturningMethod(int index);\n+\n+    long longReturningMethod(int index);\n+\n+    float floatReturningMethod(int index);\n+\n+    double doubleReturningMethod(int index);\n+\n+    Object objectReturningMethod(int index);\n+\n+    String oneArg(boolean value);\n+\n+    String oneArg(byte value);\n+\n+    String oneArg(short value);\n+\n+    String oneArg(char value);\n+\n+    String oneArg(int value);\n+\n+    String oneArg(long value);\n+\n+    String oneArg(float value);\n+\n+    String oneArg(double value);\n+\n+    String oneArg(Object value);\n+\n+    String oneArg(String value);\n+\n+    public String throwsNothing(boolean value);\n+\n+    public String throwsIOException(int count) throws IOException;\n+\n+    public String throwsError(int count) throws Error;\n+\n+    void simpleMethod();\n+\n+    void simpleMethodWithArgument(String argument);\n+\n+    Object threeArgumentMethod(int valueOne, Object valueTwo, String valueThree);\n+\n+    void twoArgumentMethod(int one, int two);\n+\n+    void arrayMethod(String[] strings);\n+\n+    String oneArray(boolean[] array);\n+\n+    String oneArray(byte[] array);\n+\n+    String oneArray(char[] array);\n+\n+    String oneArray(double[] array);\n+\n+    String oneArray(float[] array);\n+\n+    String oneArray(int[] array);\n+\n+    String oneArray(long[] array);\n+\n+    String oneArray(short[] array);\n+\n+    String oneArray(Object[] array);\n+\n+    String oneArray(String[] array);\n+\n+    void varargsString(int i, String... string);\n+\n+    void varargsObject(int i, Object... object);\n+}\n--- /dev/null\n+++ b/test/org/easymock/InvocationTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.junit.Assert.*;\n+\n+import java.lang.reflect.Method;\n+\n+import org.easymock.internal.*;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class InvocationTest {\n+\n+    private Invocation call;\n+\n+    private Invocation equalCall;\n+\n+    private Invocation nonEqualCall;\n+\n+    private Method dummyMethod;\n+\n+    @Before\n+    public void setup() throws SecurityException, NoSuchMethodException {\n+        Object[] arguments1 = new Object[] { \"\" };\n+        Object[] arguments2 = new Object[] { \"\" };\n+        Object[] arguments3 = new Object[] { \"X\" };\n+        dummyMethod = Object.class.getMethod(\"equals\",\n+                new Class[] { Object.class });\n+        Object mock = new Object();\n+        call = new Invocation(mock, dummyMethod, arguments1);\n+        equalCall = new Invocation(mock, dummyMethod, arguments2);\n+        nonEqualCall = new Invocation(mock, dummyMethod, arguments3);\n+    }\n+\n+    @Test\n+    public void shouldKnowIfIsEqualTo() {\n+        assertFalse(call.equals(null));\n+        assertFalse(call.equals(\"\"));\n+        assertTrue(call.equals(equalCall));\n+        assertFalse(call.equals(nonEqualCall));\n+    }\n+    \n+    @Test\n+    public void shouldNotImplementHashCodeBecauseItsNotUsedWithMaps() {\n+        try {\n+            call.hashCode();\n+            fail();\n+        } catch (UnsupportedOperationException expected) {\n+            assertEquals(\"hashCode() is not implemented\", expected.getMessage());\n+        }\n+    }\n+\n+    @Test\n+    public void shouldDisplayMocksToStringIfValidJavaIdentifier()\n+            throws SecurityException, NoSuchMethodException {\n+        Method method = ToString.class.getMethod(\"aMethod\", new Class[0]);\n+        Invocation invocation = new Invocation(new ToString(\"validJavaIdentifier\"),\n+                method, null);\n+\n+        assertEquals(invocation.toString(new EqualsMatcher()),\n+                \"validJavaIdentifier.aMethod()\");\n+\n+        invocation = new Invocation(new ToString(\"no-valid-java-identifier\"),\n+                method, null);\n+\n+        assertEquals(invocation.toString(new EqualsMatcher()), \"aMethod()\");\n+\n+    }\n+    \n+    class ToString {\n+        private final String name;\n+\n+        public ToString(String name) {\n+            this.name = name;\n+        }\n+\n+        @Override\n+        public String toString() {\n+            return name;\n+        }\n+\n+        public void aMethod() {\n+        }\n+    }\n+}\n--- /dev/null\n+++ b/test/org/easymock/NameTest.java\n+package org.easymock;\n+\n+import org.easymock.IMocksControl;\n+import org.junit.Test;\n+\n+import static org.easymock.EasyMock.*;\n+import static org.junit.Assert.*;\n+\n+public class NameTest {\n+    @Test\n+    public void nameForMock() {\n+        IMethods mock = createMock(\"mock\", IMethods.class);\n+        mock.simpleMethod();\n+        replay(mock);\n+        try {\n+            verify(mock);\n+        } catch (AssertionError expected) {\n+            String actualMessage = expected.getMessage();\n+            String expectedMessage = \"\\n  Expectation failure on verify:\\n    mock.simpleMethod(): expected: 1, actual: 0\";\n+            assertEquals(expectedMessage, actualMessage);         \n+        }\n+    }\n+    @Test\n+    public void nameForStrictMock() {\n+        IMethods mock = createStrictMock(\"mock\", IMethods.class);\n+        mock.simpleMethod();\n+        replay(mock);\n+        try {\n+            verify(mock);\n+        } catch (AssertionError expected) {\n+            String actualMessage = expected.getMessage();\n+            String expectedMessage = \"\\n  Expectation failure on verify:\\n    mock.simpleMethod(): expected: 1, actual: 0\";\n+            assertEquals(expectedMessage, actualMessage);         \n+        }\n+    }\n+    @Test\n+    public void nameForNiceMock() {\n+        IMethods mock = createNiceMock(\"mock\", IMethods.class);\n+        mock.simpleMethod();\n+        replay(mock);\n+        try {\n+            verify(mock);\n+        } catch (AssertionError expected) {\n+            String actualMessage = expected.getMessage();\n+            String expectedMessage = \"\\n  Expectation failure on verify:\\n    mock.simpleMethod(): expected: 1, actual: 0\";\n+            assertEquals(expectedMessage, actualMessage);         \n+        }\n+    }\n+    @Test\n+    public void nameForMocksControl() {\n+        IMocksControl control = createControl();\n+        IMethods mock = control.createMock(\"mock\", IMethods.class);\n+        mock.simpleMethod();\n+        replay(mock);\n+        try {\n+            verify(mock);\n+        } catch (AssertionError expected) {\n+            String actualMessage = expected.getMessage();\n+            String expectedMessage = \"\\n  Expectation failure on verify:\\n    mock.simpleMethod(): expected: 1, actual: 0\";\n+            assertEquals(expectedMessage, actualMessage);         \n+        }\n+    }\n+    \n+    @Test\n+    public void shouldThrowIllegalArgumentExceptionIfNameIsNoValidJavaIdentifier() {\n+        try {\n+            createMock(\"no-valid-java-identifier\", IMethods.class);\n+            throw new AssertionError();\n+        } catch (IllegalArgumentException expected) {\n+            assertEquals(\"'no-valid-java-identifier' is not a valid Java identifier.\", expected.getMessage());\n+        }\n+    }\n+\n+}\n--- /dev/null\n+++ b/test/org/easymock/StubTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.easymock.EasyMock.*;\n+import static org.junit.Assert.*;\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class StubTest {\n+    private IMethods mock;\n+\n+    @Before\n+    public void setup() {\n+        mock = createStrictMock(IMethods.class);\n+    }\n+\n+    @Test\n+    public void stub() {\n+        mock.simpleMethodWithArgument(\"1\");\n+        expectLastCall().anyTimes();\n+        mock.simpleMethodWithArgument(\"2\");\n+        expectLastCall().anyTimes();\n+        mock.simpleMethodWithArgument(\"3\");\n+        expectLastCall().asStub();\n+\n+        replay(mock);\n+\n+        mock.simpleMethodWithArgument(\"3\");\n+        mock.simpleMethodWithArgument(\"3\");\n+        mock.simpleMethodWithArgument(\"1\");\n+        mock.simpleMethodWithArgument(\"2\");\n+        mock.simpleMethodWithArgument(\"3\");\n+        mock.simpleMethodWithArgument(\"3\");\n+\n+        verify(mock);\n+\n+    }\n+\n+    @Test\n+    public void stubWithReturnValue() {\n+        expect(mock.oneArg(\"1\")).andReturn(\"A\").andStubReturn(\"B\");\n+        expect(mock.oneArg(\"2\")).andThrow(new IllegalArgumentException())\n+                .andStubThrow(new IllegalStateException());\n+\n+        replay(mock);\n+\n+        assertEquals(\"A\", mock.oneArg(\"1\"));\n+        assertEquals(\"B\", mock.oneArg(\"1\"));\n+        assertEquals(\"B\", mock.oneArg(\"1\"));\n+        try {\n+            mock.oneArg(\"2\");\n+        } catch (IllegalArgumentException ignored) {\n+        }\n+        assertEquals(\"B\", mock.oneArg(\"1\"));\n+        try {\n+            mock.oneArg(\"2\");\n+        } catch (IllegalStateException ignored) {\n+        }\n+        assertEquals(\"B\", mock.oneArg(\"1\"));\n+        try {\n+            mock.oneArg(\"2\");\n+        } catch (IllegalStateException ignored) {\n+        }\n+        verify(mock);\n+    }\n+\n+}\n--- /dev/null\n+++ b/test/org/easymock/UsageConstraintsTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.junit.Assert.*;\n+import static org.easymock.EasyMock.*;\n+\n+import java.math.*;\n+import java.util.*;\n+\n+import org.easymock.*;\n+import org.easymock.internal.matchers.*;\n+import org.easymock.tests.*;\n+import org.junit.*;\n+\n+public class UsageConstraintsTest {\n+    private IMethods mock;\n+\n+    @Before\n+    public void setUp() {\n+        mock = createMock(IMethods.class);\n+    }\n+\n+    @Test\n+    public void equalsMissing() {\n+        mock.simpleMethodWithArgument(not(eq(\"asd\")));\n+        try {\n+            mock.simpleMethodWithArgument(not(\"jkl\"));\n+            fail();\n+        } catch (IllegalStateException e) {\n+            assertEquals(\"no matchers found.\", e.getMessage());\n+        }\n+        try {\n+            mock.simpleMethodWithArgument(or(eq(\"jkl\"), \"asd\"));\n+            fail();\n+        } catch (IllegalStateException e) {\n+            assertEquals(\"2 matchers expected, 1 recorded.\", e.getMessage());\n+        }\n+        try {\n+            mock.threeArgumentMethod(1, \"asd\", eq(\"asd\"));\n+            fail();\n+        } catch (IllegalStateException e) {\n+            assertEquals(\"3 matchers expected, 1 recorded.\", e.getMessage());\n+        }\n+\n+    }\n+\n+    @Test\n+    public void differentConstraintsOnSameCall() {\n+        mock.simpleMethodWithArgument((String) isNull());\n+        mock.simpleMethodWithArgument((String) notNull());\n+        replay(mock);\n+        mock.simpleMethodWithArgument(null);\n+        mock.simpleMethodWithArgument(\"2\");\n+    }\n+\n+    @Test\n+    public void equals() {\n+        assertEquals(new Equals(null), new Equals(null));\n+        assertEquals(new Equals(new Integer(2)), new Equals(new Integer(2)));\n+        assertFalse(new Equals(null).equals(null));\n+        assertFalse(new Equals(null).equals(\"Test\"));\n+        try {\n+            new Equals(null).hashCode();\n+            fail();\n+        } catch (UnsupportedOperationException expected) {\n+        }\n+    }\n+\n+    @Test\n+    public void constraints() {\n+        expect(\n+                mock.threeArgumentMethod(and(geq(7), leq(10)),\n+                        isA(String.class), contains(\"123\"))).andReturn(\"456\")\n+                .atLeastOnce();\n+        replay(mock);\n+        boolean failed = false;\n+        try {\n+            mock.threeArgumentMethod(11, \"\", \"01234\");\n+        } catch (AssertionError expected) {\n+            failed = true;\n+        }\n+        if (!failed) {\n+            fail();\n+        }\n+        failed = false;\n+        try {\n+            mock.threeArgumentMethod(8, new Object(), \"01234\");\n+        } catch (AssertionError expected) {\n+            failed = true;\n+        }\n+        if (!failed) {\n+            fail();\n+        }\n+        failed = false;\n+        try {\n+            mock.threeArgumentMethod(8, \"\", \"no match\");\n+        } catch (AssertionError expected) {\n+            failed = true;\n+        }\n+        if (!failed) {\n+            fail();\n+        }\n+        assertEquals(\"456\", mock.threeArgumentMethod(8, \"\", \"01234\"));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void andOverloaded() {\n+        expect(mock.oneArg(and(eq(false), eq(false)))).andReturn(\"0\");\n+        expect(mock.oneArg(and(eq((byte) 1), eq((byte) 1)))).andReturn(\"1\");\n+        expect(mock.oneArg(and(eq('a'), eq('a')))).andReturn(\"2\");\n+        expect(mock.oneArg(and(eq((double) 1), eq((double) 1)))).andReturn(\"3\");\n+        expect(mock.oneArg(and(eq((float) 1), eq((float) 1)))).andReturn(\"4\");\n+        expect(mock.oneArg(and(eq((int) 1), eq((int) 1)))).andReturn(\"5\");\n+        expect(mock.oneArg(and(eq((long) 1), eq((long) 1)))).andReturn(\"6\");\n+        expect(mock.oneArg(and(eq((short) 1), eq((short) 1)))).andReturn(\"7\");\n+        expect(mock.oneArg(and(contains(\"a\"), contains(\"d\")))).andReturn(\"8\");\n+        expect(mock.oneArg(and(isA(Class.class), eq(Object.class)))).andReturn(\n+                \"9\");\n+        replay(mock);\n+        assertEquals(\"9\", mock.oneArg(Object.class));\n+        assertEquals(\"0\", mock.oneArg(false));\n+        assertEquals(\"1\", mock.oneArg((byte) 1));\n+        assertEquals(\"2\", mock.oneArg('a'));\n+        assertEquals(\"3\", mock.oneArg((double) 1));\n+        assertEquals(\"7\", mock.oneArg((short) 1));\n+        assertEquals(\"8\", mock.oneArg(\"abcde\"));\n+        assertEquals(\"4\", mock.oneArg((float) 1));\n+        assertEquals(\"5\", mock.oneArg((int) 1));\n+        assertEquals(\"6\", mock.oneArg((long) 1));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void orOverloaded() {\n+        expect(mock.oneArg(or(eq(false), eq(true)))).andReturn(\"0\");\n+        expect(mock.oneArg(or(eq((byte) 1), eq((byte) 2)))).andReturn(\"1\");\n+        expect(mock.oneArg(or(eq((char) 1), eq((char) 2)))).andReturn(\"2\");\n+        expect(mock.oneArg(or(eq((double) 1), eq((double) 2)))).andReturn(\"3\");\n+        expect(mock.oneArg(or(eq((float) 1), eq((float) 2)))).andReturn(\"4\");\n+        expect(mock.oneArg(or(eq((int) 1), eq((int) 2)))).andReturn(\"5\");\n+        expect(mock.oneArg(or(eq((long) 1), eq((long) 2)))).andReturn(\"6\");\n+        expect(mock.oneArg(or(eq((short) 1), eq((short) 2)))).andReturn(\"7\");\n+        expect(mock.oneArg(or(eq(\"asd\"), eq(\"jkl\")))).andReturn(\"8\");\n+        expect(mock.oneArg(or(eq(this.getClass()), eq(Object.class))))\n+                .andReturn(\"9\");\n+        replay(mock);\n+        assertEquals(\"9\", mock.oneArg(Object.class));\n+        assertEquals(\"0\", mock.oneArg(true));\n+        assertEquals(\"1\", mock.oneArg((byte) 2));\n+        assertEquals(\"2\", mock.oneArg((char) 1));\n+        assertEquals(\"3\", mock.oneArg((double) 2));\n+        assertEquals(\"7\", mock.oneArg((short) 1));\n+        assertEquals(\"8\", mock.oneArg(\"jkl\"));\n+        assertEquals(\"4\", mock.oneArg((float) 1));\n+        assertEquals(\"5\", mock.oneArg((int) 2));\n+        assertEquals(\"6\", mock.oneArg((long) 1));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void notOverloaded() {\n+        expect(mock.oneArg(not(eq(false)))).andReturn(\"0\");\n+        expect(mock.oneArg(not(eq((byte) 1)))).andReturn(\"1\");\n+        expect(mock.oneArg(not(eq('a')))).andReturn(\"2\");\n+        expect(mock.oneArg(not(eq((double) 1)))).andReturn(\"3\");\n+        expect(mock.oneArg(not(eq((float) 1)))).andReturn(\"4\");\n+        expect(mock.oneArg(not(eq((int) 1)))).andReturn(\"5\");\n+        expect(mock.oneArg(not(eq((long) 1)))).andReturn(\"6\");\n+        expect(mock.oneArg(not(eq((short) 1)))).andReturn(\"7\");\n+        expect(mock.oneArg(not(contains(\"a\")))).andReturn(\"8\");\n+        expect(mock.oneArg(not(isA(Class.class)))).andReturn(\"9\");\n+        replay(mock);\n+        assertEquals(\"9\", mock.oneArg(new Object()));\n+        assertEquals(\"0\", mock.oneArg(true));\n+        assertEquals(\"1\", mock.oneArg((byte) 2));\n+        assertEquals(\"2\", mock.oneArg('b'));\n+        assertEquals(\"3\", mock.oneArg((double) 2));\n+        assertEquals(\"7\", mock.oneArg((short) 2));\n+        assertEquals(\"8\", mock.oneArg(\"bcde\"));\n+        assertEquals(\"4\", mock.oneArg((float) 2));\n+        assertEquals(\"5\", mock.oneArg((int) 2));\n+        assertEquals(\"6\", mock.oneArg((long) 2));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void lessOrEqualOverloaded() {\n+        expect(mock.oneArg(leq((byte) 1))).andReturn(\"1\");\n+        expect(mock.oneArg(leq((double) 1))).andReturn(\"3\");\n+        expect(mock.oneArg(leq((float) 1))).andReturn(\"4\");\n+        expect(mock.oneArg(leq((int) 1))).andReturn(\"5\");\n+        expect(mock.oneArg(leq((long) 1))).andReturn(\"6\");\n+        expect(mock.oneArg(leq((short) 1))).andReturn(\"7\");\n+        expect(mock.oneArg(leq(new BigDecimal(\"1\")))).andReturn(\"8\");\n+        replay(mock);\n+        assertEquals(\"1\", mock.oneArg((byte) 1));\n+        assertEquals(\"3\", mock.oneArg((double) 1));\n+        assertEquals(\"7\", mock.oneArg((short) 0));\n+        assertEquals(\"4\", mock.oneArg((float) -5));\n+        assertEquals(\"5\", mock.oneArg((int) -2));\n+        assertEquals(\"6\", mock.oneArg((long) -3));\n+        assertEquals(\"8\", mock.oneArg(new BigDecimal(\"0.5\")));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void lessThanOverloaded() {\n+        expect(mock.oneArg(lt((byte) 1))).andReturn(\"1\");\n+        expect(mock.oneArg(lt((double) 1))).andReturn(\"3\");\n+        expect(mock.oneArg(lt((float) 1))).andReturn(\"4\");\n+        expect(mock.oneArg(lt((int) 1))).andReturn(\"5\");\n+        expect(mock.oneArg(lt((long) 1))).andReturn(\"6\");\n+        expect(mock.oneArg(lt((short) 1))).andReturn(\"7\");\n+        expect(mock.oneArg(lt(new BigDecimal(\"1\")))).andReturn(\"8\");\n+        replay(mock);\n+        assertEquals(\"1\", mock.oneArg((byte) 0));\n+        assertEquals(\"3\", mock.oneArg((double) 0));\n+        assertEquals(\"7\", mock.oneArg((short) 0));\n+        assertEquals(\"4\", mock.oneArg((float) -4));\n+        assertEquals(\"5\", mock.oneArg((int) -34));\n+        assertEquals(\"6\", mock.oneArg((long) -6));\n+        assertEquals(\"8\", mock.oneArg(new BigDecimal(\"0.5\")));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void greaterOrEqualOverloaded() {\n+        expect(mock.oneArg(geq((byte) 1))).andReturn(\"1\");\n+        expect(mock.oneArg(geq((double) 1))).andReturn(\"3\");\n+        expect(mock.oneArg(geq((float) 1))).andReturn(\"4\");\n+        expect(mock.oneArg(geq((int) 1))).andReturn(\"5\");\n+        expect(mock.oneArg(geq((long) 1))).andReturn(\"6\");\n+        expect(mock.oneArg(geq((short) 1))).andReturn(\"7\");\n+        expect(mock.oneArg(geq(new BigDecimal(\"1\")))).andReturn(\"8\");\n+        replay(mock);\n+        assertEquals(\"1\", mock.oneArg((byte) 2));\n+        assertEquals(\"3\", mock.oneArg((double) 1));\n+        assertEquals(\"7\", mock.oneArg((short) 2));\n+        assertEquals(\"4\", mock.oneArg((float) 3));\n+        assertEquals(\"5\", mock.oneArg((int) 4));\n+        assertEquals(\"6\", mock.oneArg((long) 5));\n+        assertEquals(\"8\", mock.oneArg(new BigDecimal(\"1.5\")));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void greaterThanOverloaded() {\n+        expect(mock.oneArg(gt((byte) 1))).andReturn(\"1\");\n+        expect(mock.oneArg(gt((double) 1))).andReturn(\"3\");\n+        expect(mock.oneArg(gt((float) 1))).andReturn(\"4\");\n+        expect(mock.oneArg(gt((int) 1))).andReturn(\"5\");\n+        expect(mock.oneArg(gt((long) 1))).andReturn(\"6\");\n+        expect(mock.oneArg(gt((short) 1))).andReturn(\"7\");\n+        expect(mock.oneArg(gt(new BigDecimal(\"1\")))).andReturn(\"8\");\n+        replay(mock);\n+        assertEquals(\"1\", mock.oneArg((byte) 2));\n+        assertEquals(\"3\", mock.oneArg((double) 2));\n+        assertEquals(\"7\", mock.oneArg((short) 2));\n+        assertEquals(\"4\", mock.oneArg((float) 3));\n+        assertEquals(\"5\", mock.oneArg((int) 2));\n+        assertEquals(\"6\", mock.oneArg((long) 5));\n+        assertEquals(\"8\", mock.oneArg(new BigDecimal(\"1.5\")));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void cmpTo() {\n+        expect(mock.oneArg(cmpEq(new BigDecimal(\"1.5\")))).andReturn(\"0\");\n+        replay(mock);\n+        assertEquals(\"0\", mock.oneArg(new BigDecimal(\"1.50\")));\n+        verify(mock);\n+    }\n+\n+    public static class A {\n+        private int value;\n+\n+        public A(int value) {\n+            this.value = value;\n+        }\n+\n+        public int getValue() {\n+            return value;\n+        }\n+    }\n+\n+    @Test\n+    public void compareWithComparator() {\n+        Comparator<A> comparator = new Comparator<A>() {\n+            public int compare(A a1, A a2) {\n+                return a1.getValue() - a2.getValue();\n+            }\n+        };\n+\n+        // Check my comparator works\n+        assertTrue(comparator.compare(new A(1), new A(2)) < 0);\n+        assertTrue(comparator.compare(new A(2), new A(1)) > 0);\n+        assertTrue(comparator.compare(new A(1), new A(1)) == 0);\n+\n+        // Now test EasyMock.cmp\n+        checkOrder(mock, true);\n+        \n+        expect(mock.oneArg(cmp(new A(5), comparator, \n+                LogicalOperator.EQUAL))).andReturn(\"0\");\n+        \n+        expect(mock.oneArg(cmp(new A(5), comparator, \n+                LogicalOperator.GREATER))).andReturn(\"1\");\n+        \n+        expect(mock.oneArg(cmp(new A(5), comparator, \n+                LogicalOperator.GREATER_OR_EQUAL))).andReturn(\"2\");\n+        expect(mock.oneArg(cmp(new A(5), comparator, \n+                LogicalOperator.GREATER_OR_EQUAL))).andReturn(\"2\");\n+        \n+        expect(mock.oneArg(cmp(new A(5), comparator, \n+                LogicalOperator.LESS_OR_EQUAL))).andReturn(\"3\");\n+        expect(mock.oneArg(cmp(new A(5), comparator, \n+                LogicalOperator.LESS_OR_EQUAL))).andReturn(\"3\");\n+        \n+        expect(mock.oneArg(cmp(new A(5), comparator, \n+                LogicalOperator.LESS_THAN))).andReturn(\"4\");\n+                \n+        replay(mock);\n+        \n+        checkItFails(null); // null is not comparable so always return false\n+        try {\n+            mock.oneArg(\"\");\n+            fail();\n+        }\n+        catch(AssertionError e) {} // different type isn't either\n+        \n+        checkItFails(new A(4));\n+        checkItFails(new A(6));\n+        assertEquals(\"0\", mock.oneArg(new A(5)));\n+\n+        checkItFails(new A(4));\n+        checkItFails(new A(5));        \n+        assertEquals(\"1\", mock.oneArg(new A(6)));\n+        \n+        checkItFails(new A(4));\n+        assertEquals(\"2\", mock.oneArg(new A(6)));\n+        assertEquals(\"2\", mock.oneArg(new A(5)));\n+        \n+        checkItFails(new A(6));\n+        assertEquals(\"3\", mock.oneArg(new A(4)));\n+        assertEquals(\"3\", mock.oneArg(new A(5)));\n+\n+        checkItFails(new A(5));\n+        checkItFails(new A(6));\n+        assertEquals(\"4\", mock.oneArg(new A(4)));\n+        \n+        verify(mock);\n+    }\n+\n+    private void checkItFails(A a) {\n+        try {\n+            mock.oneArg(a);\n+            fail();\n+        }\n+        catch(AssertionError e) {}\n+    }\n+\n+    @Test\n+    public void any() {\n+        expect(mock.oneArg(anyBoolean())).andReturn(\"0\");\n+        expect(mock.oneArg(anyByte())).andReturn(\"1\");\n+        expect(mock.oneArg(anyChar())).andReturn(\"2\");\n+        expect(mock.oneArg(anyDouble())).andReturn(\"3\");\n+        expect(mock.oneArg(anyFloat())).andReturn(\"4\");\n+        expect(mock.oneArg(anyInt())).andReturn(\"5\");\n+        expect(mock.oneArg(anyLong())).andReturn(\"6\");\n+        expect(mock.oneArg(anyShort())).andReturn(\"7\");\n+        expect(mock.oneArg((String) anyObject())).andReturn(\"8\");\n+        expect(mock.oneArg(anyObject())).andReturn(\"9\");\n+        replay(mock);\n+        assertEquals(\"9\", mock.oneArg(new Object()));\n+        assertEquals(\"0\", mock.oneArg(true));\n+        assertEquals(\"1\", mock.oneArg((byte) 1));\n+        assertEquals(\"2\", mock.oneArg((char) 1));\n+        assertEquals(\"3\", mock.oneArg((double) 1));\n+        assertEquals(\"7\", mock.oneArg((short) 1));\n+        assertEquals(\"8\", mock.oneArg(\"Test\"));\n+        assertEquals(\"4\", mock.oneArg((float) 1));\n+        assertEquals(\"5\", mock.oneArg((int) 1));\n+        assertEquals(\"6\", mock.oneArg((long) 1));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void arrayEquals() {\n+        expect(mock.oneArray(aryEq(new boolean[] { true }))).andReturn(\"0\");\n+        expect(mock.oneArray(aryEq(new byte[] { 1 }))).andReturn(\"1\");\n+        expect(mock.oneArray(aryEq(new char[] { 1 }))).andReturn(\"2\");\n+        expect(mock.oneArray(aryEq(new double[] { 1 }))).andReturn(\"3\");\n+        expect(mock.oneArray(aryEq(new float[] { 1 }))).andReturn(\"4\");\n+        expect(mock.oneArray(aryEq(new int[] { 1 }))).andReturn(\"5\");\n+        expect(mock.oneArray(aryEq(new long[] { 1 }))).andReturn(\"6\");\n+        expect(mock.oneArray(aryEq(new short[] { 1 }))).andReturn(\"7\");\n+        expect(mock.oneArray(aryEq(new String[] { \"Test\" }))).andReturn(\"8\");\n+        expect(mock.oneArray(aryEq(new Object[] { \"Test\" }))).andReturn(\"9\");\n+        replay(mock);\n+        assertEquals(\"9\", mock.oneArray(new Object[] { \"Test\" }));\n+        assertEquals(\"0\", mock.oneArray(new boolean[] { true }));\n+        assertEquals(\"1\", mock.oneArray(new byte[] { 1 }));\n+        assertEquals(\"2\", mock.oneArray(new char[] { 1 }));\n+        assertEquals(\"3\", mock.oneArray(new double[] { 1 }));\n+        assertEquals(\"7\", mock.oneArray(new short[] { 1 }));\n+        assertEquals(\"8\", mock.oneArray(new String[] { \"Test\" }));\n+        assertEquals(\"4\", mock.oneArray(new float[] { 1 }));\n+        assertEquals(\"5\", mock.oneArray(new int[] { 1 }));\n+        assertEquals(\"6\", mock.oneArray(new long[] { 1 }));\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void greaterOrEqual() {\n+        expect(mock.oneArg(geq(7))).andReturn(\"1\").times(3);\n+        expect(mock.oneArg(lt(7))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(7));\n+        assertEquals(\"2\", mock.oneArg(6));\n+        assertEquals(\"1\", mock.oneArg(8));\n+        assertEquals(\"2\", mock.oneArg(6));\n+        assertEquals(\"1\", mock.oneArg(9));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void greaterThan() {\n+        expect(mock.oneArg(gt(7))).andReturn(\"1\").times(3);\n+        expect(mock.oneArg(leq(7))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(8));\n+        assertEquals(\"2\", mock.oneArg(7));\n+        assertEquals(\"1\", mock.oneArg(9));\n+        assertEquals(\"2\", mock.oneArg(6));\n+        assertEquals(\"1\", mock.oneArg(10));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void lessOrEqual() {\n+        expect(mock.oneArg(leq(7))).andReturn(\"1\").times(3);\n+        expect(mock.oneArg(gt(7))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(7));\n+        assertEquals(\"2\", mock.oneArg(8));\n+        assertEquals(\"1\", mock.oneArg(6));\n+        assertEquals(\"2\", mock.oneArg(9));\n+        assertEquals(\"1\", mock.oneArg(5));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void lessThan() {\n+        expect(mock.oneArg(lt(7))).andReturn(\"1\").times(3);\n+        expect(mock.oneArg(geq(7))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(5));\n+        assertEquals(\"2\", mock.oneArg(7));\n+        assertEquals(\"1\", mock.oneArg(6));\n+        assertEquals(\"2\", mock.oneArg(8));\n+        assertEquals(\"1\", mock.oneArg(4));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void testOr() {\n+        expect(mock.oneArg(or(eq(7), eq(9)))).andReturn(\"1\").atLeastOnce();\n+        expect(mock.oneArg(anyInt())).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(7));\n+        assertEquals(\"1\", mock.oneArg(9));\n+        assertEquals(\"2\", mock.oneArg(10));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void testNull() {\n+        expect(mock.threeArgumentMethod(eq(1), isNull(), eq(\"\")))\n+                .andReturn(\"1\").atLeastOnce();\n+        expect(mock.threeArgumentMethod(eq(1), not(isNull()), eq(\"\")))\n+                .andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.threeArgumentMethod(1, null, \"\"));\n+        assertEquals(\"2\", mock.threeArgumentMethod(1, new Object(), \"\"));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void testNotNull() {\n+        expect(mock.threeArgumentMethod(eq(1), notNull(), eq(\"\"))).andReturn(\n+                \"1\").atLeastOnce();\n+        expect(mock.threeArgumentMethod(eq(1), not(notNull()), eq(\"\")))\n+                .andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.threeArgumentMethod(1, new Object(), \"\"));\n+        assertEquals(\"2\", mock.threeArgumentMethod(1, null, \"\"));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void testFind() {\n+        expect(mock.oneArg(find(\"[a-z]+\\\\d\"))).andReturn(\"1\").atLeastOnce();\n+        expect(mock.oneArg(find(\"\\\\d\\\\d\"))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(\"1ab12\"));\n+        assertEquals(\"2\", mock.oneArg(\"312xx\"));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void testMatches() {\n+        expect(mock.oneArg(matches(\"[a-z]+\\\\d\\\\d\"))).andReturn(\"1\")\n+                .atLeastOnce();\n+        expect(mock.oneArg(matches(\"\\\\d\\\\d\\\\d\"))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(\"a12\"));\n+        assertEquals(\"2\", mock.oneArg(\"131\"));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void testContains() {\n+        expect(mock.oneArg(contains(\"ab\"))).andReturn(\"1\").atLeastOnce();\n+        expect(mock.oneArg(contains(\"bc\"))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(\"xabcx\"));\n+        assertEquals(\"2\", mock.oneArg(\"xdbcx\"));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void testStartsWith() {\n+        expect(mock.oneArg(startsWith(\"ab\"))).andReturn(\"1\").atLeastOnce();\n+        expect(mock.oneArg(startsWith(\"bc\"))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(\"abcx\"));\n+        assertEquals(\"2\", mock.oneArg(\"bcxe\"));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void testEndsWith() {\n+        expect(mock.oneArg(endsWith(\"ab\"))).andReturn(\"1\").atLeastOnce();\n+        expect(mock.oneArg(endsWith(\"bc\"))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(\"xab\"));\n+        assertEquals(\"2\", mock.oneArg(\"xbc\"));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void equalsWithDelta() {\n+        expect(mock.oneArg(eq(1.0D, 0.1D))).andReturn(\"1\").atLeastOnce();\n+        expect(mock.oneArg(eq(2.0D, 0.1D))).andStubReturn(\"2\");\n+        expect(mock.oneArg(eq(1.0F, 0.1F))).andReturn(\"3\").atLeastOnce();\n+        expect(mock.oneArg(eq(2.0F, 0.1F))).andStubReturn(\"4\");\n+        expect(mock.oneArg(eq(2.0F, 0.1F))).andStubReturn(\"4\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(1.0));\n+        assertEquals(\"1\", mock.oneArg(0.91));\n+        assertEquals(\"1\", mock.oneArg(1.09));\n+        assertEquals(\"2\", mock.oneArg(2.0));\n+\n+        assertEquals(\"3\", mock.oneArg(1.0F));\n+        assertEquals(\"3\", mock.oneArg(0.91F));\n+        assertEquals(\"3\", mock.oneArg(1.09F));\n+        assertEquals(\"4\", mock.oneArg(2.0F));\n+\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void testSame() {\n+        Object one = new String(\"1243\");\n+        Object two = new String(\"1243\");\n+\n+        assertNotSame(one, two);\n+        assertEquals(one, two);\n+\n+        expect(mock.oneArg(same(one))).andReturn(\"1\").atLeastOnce();\n+        expect(mock.oneArg(same(two))).andStubReturn(\"2\");\n+\n+        replay(mock);\n+\n+        assertEquals(\"1\", mock.oneArg(one));\n+        assertEquals(\"2\", mock.oneArg(two));\n+\n+        verify(mock);\n+    }\n+}\n--- /dev/null\n+++ b/test/org/easymock/UsageMatchersTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.easymock.EasyMock.*;\n+\n+import org.junit.Test;\n+\n+public class UsageMatchersTest {\n+    @Test(expected = IllegalStateException.class)\n+    public void additionalMatchersFailAtReplay() {\n+\n+        IMethods mock = createMock(IMethods.class);\n+        lt(5);\n+\n+        replay(mock);\n+    }\n+\n+}\n--- /dev/null\n+++ b/test/org/easymock/UsageStrictMockTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.easymock.EasyMock.*;\n+import static org.junit.Assert.*;\n+\n+import org.easymock.internal.ReplayState;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class UsageStrictMockTest {\n+    private IMethods mock;\n+\n+    @Before\n+    public void setup() {\n+        mock = createStrictMock(IMethods.class);\n+        mock.simpleMethodWithArgument(\"1\");\n+        mock.simpleMethodWithArgument(\"2\");\n+        replay(mock);\n+    }\n+\n+    @Test\n+    public void orderedCallsSucces() {\n+        mock.simpleMethodWithArgument(\"1\");\n+        mock.simpleMethodWithArgument(\"2\");\n+        verify(mock);\n+    }\n+\n+    @Test\n+    public void unorderedCallsFailure() {\n+        boolean failed = false;\n+        try {\n+            mock.simpleMethodWithArgument(\"2\");\n+        } catch (AssertionError expected) {\n+            failed = true;\n+        }\n+        if (!failed) {\n+            fail(\"unordered calls accepted\");\n+        }\n+    }\n+\n+    @Test\n+    public void tooManyCallsFailure() {\n+        mock.simpleMethodWithArgument(\"1\");\n+        mock.simpleMethodWithArgument(\"2\");\n+\n+        boolean failed = false;\n+        try {\n+            mock.simpleMethodWithArgument(\"2\");\n+        } catch (AssertionError expected) {\n+            failed = true;\n+        }\n+        if (!failed) {\n+            fail(\"too many calls accepted\");\n+        }\n+    }\n+\n+    @Test\n+    public void tooFewCallsFailure() {\n+        mock.simpleMethodWithArgument(\"1\");\n+        boolean failed = false;\n+        try {\n+            verify(mock);\n+        } catch (AssertionError expected) {\n+            failed = true;\n+            assertTrue(\"stack trace must be filled in\", Util.getStackTrace(\n+                    expected).indexOf(ReplayState.class.getName()) == -1);\n+        }\n+        if (!failed) {\n+            fail(\"too few calls accepted\");\n+        }\n+    }\n+\n+    @Test\n+    public void differentMethods() {\n+\n+        reset(mock);\n+\n+        mock.booleanReturningMethod(0);\n+        expectLastCall().andReturn(true);\n+        mock.simpleMethod();\n+        mock.booleanReturningMethod(1);\n+        expectLastCall().andReturn(false).times(2, 3);\n+        mock.simpleMethod();\n+        expectLastCall().atLeastOnce();\n+\n+        replay(mock);\n+        assertEquals(true, mock.booleanReturningMethod(0));\n+        mock.simpleMethod();\n+\n+        boolean failed = false;\n+        try {\n+            verify(mock);\n+        } catch (AssertionError expected) {\n+            failed = true;\n+            assertEquals(\n+                    \"\\n  Expectation failure on verify:\"\n+                            + \"\\n    simpleMethod(): expected: 1, actual: 1\"\n+                            + \"\\n    booleanReturningMethod(1): expected: between 2 and 3, actual: 0\"\n+                            + \"\\n    simpleMethod(): expected: at least 1, actual: 0\",\n+                    expected.getMessage());\n+        }\n+        if (!failed) {\n+            fail(\"too few calls accepted\");\n+        }\n+\n+        assertEquals(false, mock.booleanReturningMethod(1));\n+\n+        failed = false;\n+        try {\n+            mock.simpleMethod();\n+        } catch (AssertionError expected) {\n+            failed = true;\n+            assertEquals(\n+                    \"\\n  Unexpected method call simpleMethod():\"\n+                            + \"\\n    booleanReturningMethod(1): expected: between 2 and 3, actual: 1\",\n+                    expected.getMessage());\n+        }\n+        if (!failed) {\n+            fail(\"wrong call accepted\");\n+        }\n+    }\n+\n+    @Test\n+    public void range() {\n+\n+        reset(mock);\n+\n+        mock.booleanReturningMethod(0);\n+        expectLastCall().andReturn(true);\n+        mock.simpleMethod();\n+        mock.booleanReturningMethod(1);\n+        expectLastCall().andReturn(false).times(2, 3);\n+        mock.simpleMethod();\n+        expectLastCall().atLeastOnce();\n+        expect(mock.booleanReturningMethod(1)).andReturn(false);\n+\n+        replay(mock);\n+\n+        mock.booleanReturningMethod(0);\n+        mock.simpleMethod();\n+\n+        mock.booleanReturningMethod(1);\n+        mock.booleanReturningMethod(1);\n+        mock.booleanReturningMethod(1);\n+\n+        boolean failed = false;\n+\n+        try {\n+            mock.booleanReturningMethod(1);\n+        } catch (AssertionError expected) {\n+            failed = true;\n+            assertEquals(\n+                    \"\\n  Unexpected method call booleanReturningMethod(1):\"\n+                            + \"\\n    booleanReturningMethod(1): expected: between 2 and 3, actual: 3 (+1)\"\n+                            + \"\\n    simpleMethod(): expected: at least 1, actual: 0\",\n+                    expected.getMessage());\n+        }\n+        if (!failed) {\n+            fail(\"too many calls accepted\");\n+        }\n+    }\n+\n+    @Test\n+    public void stubBehavior() {\n+        reset(mock);\n+\n+        mock.booleanReturningMethod(1);\n+        expectLastCall().andReturn(true).andReturn(false).andReturn(true);\n+        mock.booleanReturningMethod(anyInt());\n+        expectLastCall().andStubReturn(true);\n+\n+        replay(mock);\n+\n+        assertEquals(true, mock.booleanReturningMethod(2));\n+        assertEquals(true, mock.booleanReturningMethod(3));\n+        assertEquals(true, mock.booleanReturningMethod(1));\n+        assertEquals(false, mock.booleanReturningMethod(1));\n+        assertEquals(true, mock.booleanReturningMethod(3));\n+\n+        boolean failed = false;\n+        try {\n+            verify(mock);\n+        } catch (AssertionError expected) {\n+            failed = true;\n+            assertEquals(\n+                    \"\\n  Expectation failure on verify:\"\n+                            + \"\\n    booleanReturningMethod(1): expected: 3, actual: 2\",\n+                    expected.getMessage());\n+        }\n+        if (!failed) {\n+            fail(\"too few calls accepted\");\n+        }\n+    }\n+}\n--- /dev/null\n+++ b/test/org/easymock/UsageTest.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.easymock.EasyMock.*;\n+import static org.junit.Assert.*;\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class UsageTest {\n+\n+    IMethods mock;\n+\n+    @Before\n+    public void setup() {\n+        mock = createMock(IMethods.class);\n+    }\n+\n+    @Test\n+    public void exactCallCountByLastCall() {\n+        expect(mock.oneArg(false)).andReturn(\"Test\").andReturn(\"Test2\");\n+        replay(mock);\n+\n+        assertEquals(\"Test\", mock.oneArg(false));\n+        assertEquals(\"Test2\", mock.oneArg(false));\n+\n+        boolean failed = false;\n+        try {\n+            mock.oneArg(false);\n+        } catch (AssertionError expected) {\n+            failed = true;\n+        }\n+        if (!failed)\n+            fail(\"expected AssertionError\");\n+    }\n+\n+    @Test\n+    public void openCallCountByLastCall() {\n+        expect(mock.oneArg(false)).andReturn(\"Test\").andReturn(\"Test2\")\n+                .atLeastOnce();\n+\n+        replay(mock);\n+\n+        assertEquals(\"Test\", mock.oneArg(false));\n+        assertEquals(\"Test2\", mock.oneArg(false));\n+        assertEquals(\"Test2\", mock.oneArg(false));\n+    }\n+\n+    @Test\n+    public void exactCallCountByLastThrowable() {\n+        expect(mock.oneArg(false)).andReturn(\"Test\").andReturn(\"Test2\")\n+                .andThrow(new IndexOutOfBoundsException());\n+\n+        replay(mock);\n+\n+        assertEquals(\"Test\", mock.oneArg(false));\n+        assertEquals(\"Test2\", mock.oneArg(false));\n+\n+        try {\n+            mock.oneArg(false);\n+            fail();\n+        } catch (IndexOutOfBoundsException expected) {\n+        }\n+\n+        boolean failed = true;\n+        try {\n+            mock.oneArg(false);\n+            failed = false;\n+        } catch (AssertionError expected) {\n+        }\n+        if (!failed)\n+            fail(\"expected AssertionError\");\n+    }\n+\n+    @Test\n+    public void openCallCountByLastThrowable() {\n+        expect(mock.oneArg(false)).andReturn(\"Test\").andReturn(\"Test2\")\n+                .andThrow(new IndexOutOfBoundsException()).atLeastOnce();\n+\n+        replay(mock);\n+\n+        assertEquals(\"Test\", mock.oneArg(false));\n+        assertEquals(\"Test2\", mock.oneArg(false));\n+\n+        try {\n+            mock.oneArg(false);\n+        } catch (IndexOutOfBoundsException expected) {\n+        }\n+        try {\n+            mock.oneArg(false);\n+        } catch (IndexOutOfBoundsException expected) {\n+        }\n+    }\n+\n+    @Test\n+    public void moreThanOneArgument() {\n+        expect(mock.threeArgumentMethod(1, \"2\", \"3\")).andReturn(\"Test\")\n+                .times(2);\n+\n+        replay(mock);\n+\n+        assertEquals(\"Test\", mock.threeArgumentMethod(1, \"2\", \"3\"));\n+\n+        boolean failed = true;\n+        try {\n+            verify(mock);\n+            failed = false;\n+        } catch (AssertionError expected) {\n+            assertEquals(\n+                    \"\\n  Expectation failure on verify:\"\n+                            + \"\\n    threeArgumentMethod(1, \\\"2\\\", \\\"3\\\"): expected: 2, actual: 1\",\n+                    expected.getMessage());\n+        }\n+        if (!failed) {\n+            fail(\"exception expected\");\n+        }\n+    }\n+\n+    @Test\n+    public void wrongArguments() {\n+        mock.simpleMethodWithArgument(\"3\");\n+        replay(mock);\n+\n+        try {\n+            mock.simpleMethodWithArgument(\"5\");\n+            fail();\n+        } catch (AssertionError expected) {\n+            assertEquals(\n+                    \"\\n  Unexpected method call simpleMethodWithArgument(\\\"5\\\"):\"\n+                            + \"\\n    simpleMethodWithArgument(\\\"3\\\"): expected: 1, actual: 0\",\n+                    expected.getMessage());\n+        }\n+\n+    }\n+\n+    @Test\n+    public void summarizeSameObjectArguments() {\n+        mock.simpleMethodWithArgument(\"3\");\n+        mock.simpleMethodWithArgument(\"3\");\n+        replay(mock);\n+\n+        try {\n+            mock.simpleMethodWithArgument(\"5\");\n+            fail();\n+        } catch (AssertionError expected) {\n+            assertEquals(\n+                    \"\\n  Unexpected method call simpleMethodWithArgument(\\\"5\\\"):\"\n+                            + \"\\n    simpleMethodWithArgument(\\\"3\\\"): expected: 2, actual: 0\",\n+                    expected.getMessage());\n+        }\n+\n+    }\n+\n+    @Test\n+    public void argumentsOrdered() {\n+        mock.simpleMethodWithArgument(\"4\");\n+        mock.simpleMethodWithArgument(\"3\");\n+        mock.simpleMethodWithArgument(\"2\");\n+        mock.simpleMethodWithArgument(\"0\");\n+        mock.simpleMethodWithArgument(\"1\");\n+        replay(mock);\n+\n+        try {\n+            mock.simpleMethodWithArgument(\"5\");\n+            fail(\"exception expected\");\n+        } catch (AssertionError expected) {\n+            assertEquals(\n+                    \"\\n  Unexpected method call simpleMethodWithArgument(\\\"5\\\"):\"\n+                            + \"\\n    simpleMethodWithArgument(\\\"4\\\"): expected: 1, actual: 0\"\n+                            + \"\\n    simpleMethodWithArgument(\\\"3\\\"): expected: 1, actual: 0\"\n+                            + \"\\n    simpleMethodWithArgument(\\\"2\\\"): expected: 1, actual: 0\"\n+                            + \"\\n    simpleMethodWithArgument(\\\"0\\\"): expected: 1, actual: 0\"\n+                            + \"\\n    simpleMethodWithArgument(\\\"1\\\"): expected: 1, actual: 0\",\n+                    expected.getMessage());\n+        }\n+\n+    }\n+\n+    @Test\n+    public void mixingOrderedAndUnordered() {\n+        mock.simpleMethodWithArgument(\"2\");\n+        mock.simpleMethodWithArgument(\"1\");\n+        checkOrder(mock, true);\n+        mock.simpleMethodWithArgument(\"3\");\n+        mock.simpleMethodWithArgument(\"4\");\n+        checkOrder(mock, false);\n+        mock.simpleMethodWithArgument(\"6\");\n+        mock.simpleMethodWithArgument(\"7\");\n+        mock.simpleMethodWithArgument(\"5\");\n+\n+        replay(mock);\n+\n+        mock.simpleMethodWithArgument(\"1\");\n+        mock.simpleMethodWithArgument(\"2\");\n+\n+        boolean failed = false;\n+        try {\n+            mock.simpleMethodWithArgument(\"4\");\n+        } catch (AssertionError e) {\n+            failed = true;\n+        }\n+        if (!failed) {\n+            fail();\n+        }\n+\n+        mock.simpleMethodWithArgument(\"3\");\n+        mock.simpleMethodWithArgument(\"4\");\n+        mock.simpleMethodWithArgument(\"5\");\n+        mock.simpleMethodWithArgument(\"6\");\n+        mock.simpleMethodWithArgument(\"7\");\n+\n+        verify(mock);\n+\n+    }\n+\n+}\n--- /dev/null\n+++ b/test/org/easymock/UsingVarargsTest.java\n+/*\n+ * Copyright (c) 2007 Szczepan Faber \n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import static org.mockito.Mockito.*;\n+import static org.junit.Assert.*;\n+\n+import java.util.ArrayList;\n+\n+import org.junit.*;\n+import org.mockito.Mockito;\n+import org.mockito.exceptions.MockVerificationAssertionError;\n+\n+public class UsingVarargsTest {\n+\n+    private interface IVarArgs {\n+        public void withStringVarargs(int value, String... s);\n+        public void withObjectVarargs(int value, Object... o);\n+        public void withBooleanVarargs(int value, boolean... b);\n+    }\n+    \n+    IVarArgs mock;\n+\n+    @Before\n+    public void setup() {\n+        mock = Mockito.mock(IVarArgs.class);\n+    }\n+    \n+    @Test\n+    public void shouldVerifyStringVarargs() {\n+        mock.withStringVarargs(1);\n+        mock.withStringVarargs(2, \"1\", \"2\", \"3\");\n+        mock.withStringVarargs(3, \"1\", \"2\", \"3\", \"4\");\n+\n+        verify(mock).withStringVarargs(1);\n+        verify(mock).withStringVarargs(2, \"1\", \"2\", \"3\");\n+        try {\n+            verify(mock).withStringVarargs(2, \"1\", \"2\", \"79\", \"4\");\n+            fail();\n+        } catch (MockVerificationAssertionError e) {}\n+    }\n+\n+    @Test\n+    public void shouldVerifyObjectVarargs() {\n+        mock.withObjectVarargs(1);\n+        mock.withObjectVarargs(2, \"1\", new ArrayList<Object>(), new Integer(1));\n+        mock.withObjectVarargs(3, new Integer(1));\n+\n+        verify(mock).withObjectVarargs(1);\n+        verify(mock).withObjectVarargs(2, \"1\", new ArrayList<Object>(), new Integer(1));\n+        try {\n+            verifyNoMoreInteractions(mock);\n+            fail();\n+        } catch (MockVerificationAssertionError e) {}\n+    }\n+\n+    @Test\n+    public void shouldVerifyBooleanVarargs() {\n+        mock.withBooleanVarargs(1);\n+        mock.withBooleanVarargs(2, true, false, true);\n+        mock.withBooleanVarargs(3, true, true, true);\n+\n+        verify(mock).withBooleanVarargs(1);\n+        verify(mock).withBooleanVarargs(2, true, false, true);\n+        try {\n+            verify(mock).withBooleanVarargs(3, true, true, true, true);\n+            fail();\n+        } catch (MockVerificationAssertionError e) {}\n+    }\n+}\n--- /dev/null\n+++ b/test/org/easymock/Util.java\n+/*\n+ * Copyright (c) 2001-2007 OFFIS, Tammo Freese.\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.easymock;\n+\n+import java.io.PrintWriter;\n+import java.io.StringWriter;\n+\n+public class Util {\n+    public static String getStackTrace(Throwable throwable) {\n+        StringWriter stackTrace = new StringWriter();\n+        throwable.printStackTrace(new PrintWriter(stackTrace));\n+        return stackTrace.getBuffer().toString();\n+    }\n+}\n--- a/test/org/mockito/usage/ReturningDefaultValuesTest.java\n+++ b/test/org/mockito/usage/ReturningDefaultValuesTest.java\n import java.lang.reflect.*;\n import java.util.*;\n \n-import org.easymock.tests.IMethods;\n+import org.easymock.IMethods;\n import org.junit.Test;\n import org.mockito.Mockito;\n ", "timestamp": 1195215445, "metainfo": ""}