{"sha": "581efd16862ab2e77dd2c9049ba4b762107b6099", "log": "refactored to get rid of package cycle  --HG-- rename : src/org/mockito/internal/StrictOrderVerifier.java => src/org/mockito/StrictOrderVerifier.java extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%4098", "commit": "\n--- /dev/null\n+++ b/src/org/mockito/StrictOrderVerifier.java\n+/*\n+ * Copyright (c) 2007 Mockito contributors \n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.mockito;\n+\n+import java.util.*;\n+\n+import org.mockito.exceptions.Exceptions;\n+import org.mockito.internal.VerifyingMode;\n+\n+class StrictOrderVerifier implements Strictly {\n+    \n+    List<Object> mocksToBeVerifiedInOrder = new LinkedList<Object>();\n+    \n+    public <T> T verify(T mock) {\n+        return this.verify(mock, 1);\n+    }\n+    //TODO get rid of interface with int\n+    public <T> T verify(T mock, int wantedNumberOfInvocations) {\n+        return this.verify(mock, VerifyingMode.inOrder(wantedNumberOfInvocations, mocksToBeVerifiedInOrder));\n+    }\n+    \n+    public <T> T verify(T mock, VerifyingMode verifyingMode) {\n+        if (!mocksToBeVerifiedInOrder.contains(mock)) {\n+            Exceptions.strictlyRequiresFamiliarMock();\n+        }\n+        return Mockito.verify(mock, VerifyingMode.inOrder(verifyingMode.wantedCount(), mocksToBeVerifiedInOrder));\n+    }\n+\n+    public void verifyNoMoreInteractions() {\n+        Mockito.verifyNoMoreInteractions(mocksToBeVerifiedInOrder.toArray());\n+    }\n+\n+    public void addMockToBeVerifiedInOrder(Object mock) {\n+        mocksToBeVerifiedInOrder.add(mock);\n+    }\n+}\n--- a/src/org/mockito/internal/VerifyingMode.java\n+++ b/src/org/mockito/internal/VerifyingMode.java\n      */\n     public static void dont_use_this_class_directly_instead_use_static_methods_on_Mockito() {}\n     \n-    static VerifyingMode inOrder(Integer wantedNumberOfInvocations, List<Object> mocksToBeVerifiedInOrder) {\n+    public static VerifyingMode inOrder(Integer wantedNumberOfInvocations, List<Object> mocksToBeVerifiedInOrder) {\n         return new VerifyingMode(wantedNumberOfInvocations, mocksToBeVerifiedInOrder);\n     }\n \n         return wantedInvocationCount == null;\n     }\n \n-    Integer wantedCount() {\n+    public Integer wantedCount() {\n         return wantedInvocationCount;\n     }\n ", "timestamp": 1196379889, "metainfo": ""}