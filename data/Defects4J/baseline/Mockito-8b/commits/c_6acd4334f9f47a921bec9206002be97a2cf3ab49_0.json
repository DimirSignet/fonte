{"sha": "6acd4334f9f47a921bec9206002be97a2cf3ab49", "log": "refactored messages out of Behavior to Exceptions  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%40143", "commit": "\n--- a/src/org/mockito/exceptions/Exceptions.java\n+++ b/src/org/mockito/exceptions/Exceptions.java\n         ));\n     }\n     \n+    public static void noMoreInteractionsWanted(String undesired, HasStackTrace actualInvocationStackTrace) {\n+        UndesiredInvocation cause = buildCause(actualInvocationStackTrace, \"Undesired invocation:\", undesired);\n+        throw new VerificationError(join(\"No more interactions wanted\"), cause);\n+    }\n+    \n+    public static void zeroInteractionsWanted(String undesired, HasStackTrace actualInvocationStackTrace) {\n+        UndesiredInvocation cause = buildCause(actualInvocationStackTrace, \"Undesired invocation:\", undesired);\n+        throw new VerificationError(join(\"Zero interactions wanted\"), cause);\n+    }\n \n-    public static void noMoreInteractionsWanted(String message, String undesired, String actual, HasStackTrace actualInvocationStackTrace) {\n-        UndesiredInvocation cause = new UndesiredInvocation(join(\n-                \"Undesired invocation:\",\n-                actual\n-            ));\n-            \n+    private static UndesiredInvocation buildCause(HasStackTrace actualInvocationStackTrace, String ... messageLines) {\n+        UndesiredInvocation cause = new UndesiredInvocation(join(messageLines));\n         cause.setStackTrace(actualInvocationStackTrace.getStackTrace());\n-            \n-        throw new VerificationError(join(\n-                undesired\n-        ), cause);\n+        return cause;\n     }\n \n     public static void unfinishedStubbing() {\n--- a/src/org/mockito/internal/MockitoBehavior.java\n+++ b/src/org/mockito/internal/MockitoBehavior.java\n     }\n \n     public void verifyNoMoreInteractions() {\n-        verifyNoMoreInteractions(\"No more interactions wanted\");\n+        Invocation unverified = registeredInvocations.getFirstUnverified();\n+        if (unverified != null) {\n+            Exceptions.noMoreInteractionsWanted(unverified.toString(), unverified.getStackTrace());\n+        }\n     }\n     \n     public void verifyZeroInteractions() {\n-        //TODO move message to exceptions\n-        verifyNoMoreInteractions(\"Zero interactions wanted\");\n+        Invocation unverified = registeredInvocations.getFirstUnverified();\n+        if (unverified != null) {\n+            Exceptions.zeroInteractionsWanted(unverified.toString(), unverified.getStackTrace());\n+        }\n     }\n     \n-    private void verifyNoMoreInteractions(String message) {\n-        Invocation unverified = registeredInvocations.getFirstUnverified();\n-        if (unverified != null) {\n-            Exceptions.noMoreInteractionsWanted(unverified.toString(), message, unverified.toString(), unverified.getStackTrace());\n-        }\n-    }\n-\n     public Object resultFor(Invocation wanted) throws Throwable {\n         for (StubbedInvocation s : stubbed) {\n             if (s.matches(wanted)) {", "timestamp": 1197159844, "metainfo": ""}