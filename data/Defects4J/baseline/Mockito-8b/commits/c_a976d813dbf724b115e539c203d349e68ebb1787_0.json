{"sha": "a976d813dbf724b115e539c203d349e68ebb1787", "log": "[release-notes] #79 Changelog in release notes separated by assigned labels", "commit": "\n--- a/buildSrc/src/main/groovy/org/mockito/release/notes/ReleaseNotesBuilderFactory.java\n+++ b/buildSrc/src/main/groovy/org/mockito/release/notes/ReleaseNotesBuilderFactory.java\n package org.mockito.release.notes;\n \n import org.gradle.api.Project;\n+import org.mockito.release.notes.internal.ChangeSetSegregator;\n import org.mockito.release.notes.internal.DefaultReleaseNotesBuilder;\n+import org.mockito.release.notes.internal.ImprovementsPrinter;\n+\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Map;\n \n class ReleaseNotesBuilderFactory {\n \n     private final Project project;\n     private String gitHubToken;\n     private String ignorePattern;\n+    private Map<String, String> labelToHeaderMapping = Collections.emptyMap();\n+    private List<String> labelsToIgnore = Collections.emptyList();\n \n     ReleaseNotesBuilderFactory(Project project) {\n         this.project = project;\n     }\n \n     ReleaseNotesBuilder createBuilder() {\n-        return new DefaultReleaseNotesBuilder(project, gitHubToken, ignorePattern);\n+        Collection<String> labelsToShowSeparately = labelToHeaderMapping.keySet();\n+        ChangeSetSegregator segregator = new ChangeSetSegregator(labelsToShowSeparately, labelsToIgnore);\n+        ImprovementsPrinter improvementsPrinter = new ImprovementsPrinter(segregator, labelToHeaderMapping);\n+        return new DefaultReleaseNotesBuilder(project, gitHubToken, ignorePattern, improvementsPrinter);\n     }\n \n     //TODO SF interface\n         return this;\n     }\n \n+    //TODO: MZ: Not needed when labelsToIgnore are used\n     ReleaseNotesBuilderFactory ignoreImprovementsMatching(String pattern) {\n         this.ignorePattern = pattern;\n         return this;\n     }\n-}\n+\n+    ReleaseNotesBuilderFactory ignoreImprovementsWithLabels(List<String> labelsToIgnore) {\n+        this.labelsToIgnore = labelsToIgnore;\n+        return this;\n+    }\n+\n+    ReleaseNotesBuilderFactory showSeparatelyImprovementsWithLabelMappings(Map<String, String> labelToHeaderMapping) {\n+        this.labelToHeaderMapping = labelToHeaderMapping;\n+        return this;\n+    }\n+}", "timestamp": 1415220220, "metainfo": ""}