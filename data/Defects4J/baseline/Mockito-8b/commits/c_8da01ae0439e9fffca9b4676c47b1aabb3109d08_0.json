{"sha": "8da01ae0439e9fffca9b4676c47b1aabb3109d08", "log": "Tidy-up in buildSrc - major rewrite of the GitHub issues fetcher, part III.", "commit": "\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/notes/Notes.java\n+package org.mockito.release.notes;\n+\n+import org.gradle.api.Project;\n+import org.mockito.release.notes.versions.PreviousVersion;\n+import org.mockito.release.notes.versions.PreviousVersionFromFile;\n+\n+import java.io.File;\n+\n+/**\n+ * Release notes services\n+ */\n+class Notes {\n+\n+    /**\n+     * Release notes build based on git and GitHub.\n+     *\n+     * @param project the Gradle project\n+     * @param authTokenEnvVar env variable name that holds the GitHub auth token\n+     */\n+    NotesBuilder gitHubNotesBuilder(Project project, String authTokenEnvVar) {\n+        return new GitNotesBuilder(project, authTokenEnvVar);\n+    }\n+\n+    /**\n+     * Provides previous version information based on the release notes file\n+     */\n+    PreviousVersion previousVersion(File releaseNotesFile) {\n+        return new PreviousVersionFromFile(releaseNotesFile);\n+    }\n+}\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/notes/NotesBuilder.java\n+package org.mockito.release.notes;\n+\n+import java.io.File;\n+\n+public interface NotesBuilder {\n+\n+    /**\n+     * Updates release notes in specified file. The 'from' revision is extracted from the file. The 'to' revision needs to be supplied\n+     *\n+     * @param notesFile the file to update\n+     * @param toRevision git revision (can be tag name or HEAD)\n+     */\n+    void updateNotes(File notesFile, String toRevision);\n+}\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/notes/versions/PreviousVersion.java\n+package org.mockito.release.notes.versions;\n+\n+/**\n+ * Provides the previous version.\n+ */\n+public interface PreviousVersion {\n+\n+    /**\n+     * The previous version\n+     */\n+    String getPreviousVersion();\n+}\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/notes/versions/Versions.java\n+package org.mockito.release.notes.versions;\n+\n+import java.io.File;\n+\n+/**\n+ * Version services\n+ */\n+public class Versions {\n+\n+    /**\n+     * Provides a way to retrieve previous version based on the content of the release notes file.\n+     */\n+    PreviousVersion previousFromNotesFile(File releaseNotesFile) {\n+        return new PreviousVersionFromFile(releaseNotesFile);\n+    }\n+}", "timestamp": 1416516894, "metainfo": ""}