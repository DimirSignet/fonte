{"sha": "108b7cabdc1822d6db3d4621efef7f9fe89f959d", "log": "Fixed error messages for SmartNullsFeature  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%401114", "commit": "\n--- /dev/null\n+++ b/src/org/mockito/exceptions/cause/BecauseThisMethodWasNotStubbed.java\n+/*\n+ * Copyright (c) 2007 Mockito contributors\n+ * This program is made available under the terms of the MIT License.\n+ */\n+package org.mockito.exceptions.cause;\n+\n+import org.mockito.exceptions.base.MockitoException;\n+\n+public class BecauseThisMethodWasNotStubbed extends MockitoException {\n+\n+    private static final long serialVersionUID = 1L;\n+\n+    public BecauseThisMethodWasNotStubbed(String message) {\n+        super(message);\n+    }\n+}\n--- a/src/org/mockito/exceptions/verification/SmartNullPointerException.java\n+++ b/src/org/mockito/exceptions/verification/SmartNullPointerException.java\n     public SmartNullPointerException(String message) {\n         super(message);\n     }\n-}\n+}\n--- a/src/org/mockito/internal/returnvalues/SmartNullReturnValues.java\n+++ b/src/org/mockito/internal/returnvalues/SmartNullReturnValues.java\n import net.sf.cglib.proxy.MethodProxy;\n \n import org.mockito.configuration.ReturnValues;\n-import org.mockito.exceptions.cause.UndesiredInvocation;\n+import org.mockito.exceptions.cause.BecauseThisMethodWasNotStubbed;\n import org.mockito.exceptions.verification.SmartNullPointerException;\n import org.mockito.internal.configuration.DefaultReturnValues;\n import org.mockito.internal.creation.jmock.ClassImposterizer;\n         Class<?> type = invocation.getMethod().getReturnType();\n         if (ClassImposterizer.INSTANCE.canImposterise(type)) {\n             return ClassImposterizer.INSTANCE.imposterise(new MethodInterceptor() {\n-\n-                //TODO change from UndesiredInvocation\n-                Exception whenCreated = new UndesiredInvocation(\"Unstubbed method was invoked here\");\n+                Exception whenCreated = new BecauseThisMethodWasNotStubbed(\"\\nBecause this method was not stubbed:\");\n                 public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {\n-                    throw new SmartNullPointerException(\"oops\", whenCreated);\n+                    throw new SmartNullPointerException(\"\\nYou have a NullPointerException here:\", whenCreated);\n                 }}, type);\n         }\n         return null;\n     }\n-}\n+}", "timestamp": 1230498103, "metainfo": ""}