{"sha": "70555650be2d33cc683074384439053d863877e4", "log": "Fixed issue 73 any(Foo.class) was not a true alias to anyObject() because it didn't match nulls. Now it's fixed  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%401339", "commit": "\n--- a/src/org/mockito/Matchers.java\n+++ b/src/org/mockito/Matchers.java\n      * @return <code>null</code>.\n      */\n     public static <T> T any(Class<T> clazz) {\n-        return isA(clazz);\n+        return anyObject();\n     }\n \n     /**\n--- a/src/org/mockito/internal/debugging/Location.java\n+++ b/src/org/mockito/internal/debugging/Location.java\n \n     public Location() {\n         StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\n+        //TODO location should have always clean stack traces\n         StackTraceFilter filter = new StackTraceFilter();\n         this.firstTraceElement = filter.filterStackTrace(stackTrace)[0];\n     }\n--- a/test/org/mockitousage/matchers/MoreMatchersTest.java\n+++ b/test/org/mockitousage/matchers/MoreMatchersTest.java\n import static org.mockito.Matchers.*;\n import static org.mockito.Mockito.*;\n \n+import org.junit.Before;\n import org.junit.Test;\n import org.mockito.Mock;\n import org.mockitousage.IMethods;\n public class MoreMatchersTest extends TestBase {\n \n     @Mock private IMethods mock;\n+    \n+    @Before\n+    public void cleanUpStackTraces() {\n+        super.makeStackTracesClean();\n+    }\n \n     @Test\n     public void shouldHelpOutWithUnnecessaryCasting() {\n         when(mock.objectArgMethod(any(String.class))).thenReturn(\"string\");\n         \n         assertEquals(\"string\", mock.objectArgMethod(\"foo\"));\n-        assertEquals(null, mock.objectArgMethod(new Object()));\n     }\n-    \n+\n+    @Test\n+    public void shouldAnyBeActualAliasToAnyObject() {\n+        mock.simpleMethod((Object) null);\n+\n+        verify(mock).simpleMethod(anyObject());\n+        verify(mock).simpleMethod(any(Object.class));\n+    }\n     \n     @Test\n     public void shouldHelpOutWithUnnecessaryCastingOfCollections() {", "timestamp": 1239982811, "metainfo": ""}