{"sha": "315dd2d87d0f483c8dafb60610cdeea84ceb9e13", "log": "Started pushing out the release steps into separate tool", "commit": "\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/steps/DefaultReleaseStep.java\n+package org.mockito.release.steps;\n+\n+import org.mockito.release.util.operations.Operation;\n+\n+class DefaultReleaseStep implements ReleaseStep {\n+\n+    private final String description;\n+    private final Operation operation;\n+\n+    public DefaultReleaseStep(String description, Operation operation) {\n+        this.description = description;\n+        this.operation = operation;\n+    }\n+\n+    public String getDescription() {\n+        return description;\n+    }\n+\n+    public void perform() {\n+        operation.perform();\n+    }\n+}\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/steps/DefaultReleaseSteps.java\n+package org.mockito.release.steps;\n+\n+import org.mockito.release.util.operations.Operation;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+class DefaultReleaseSteps implements ReleaseSteps {\n+\n+    private List<ReleaseStep> steps = new ArrayList<ReleaseStep>();\n+\n+    public ReleaseStep newStep(String description, Operation operation) {\n+        DefaultReleaseStep step = new DefaultReleaseStep(description, operation);\n+        steps.add(step);\n+        return step;\n+    }\n+\n+    public void perform() {\n+        System.out.println(\"Performing \" + steps.size() + \" release steps\");\n+        int i = 1;\n+        for (ReleaseStep step : steps) {\n+            System.out.println(\"Step \" + (i++) + \": \" + step.getDescription());\n+            step.perform();\n+        }\n+    }\n+}\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/steps/ReleaseStep.java\n+package org.mockito.release.steps;\n+\n+import org.mockito.release.util.operations.Operation;\n+\n+public interface ReleaseStep extends Operation {\n+\n+    String getDescription();\n+}\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/steps/ReleaseSteps.java\n+package org.mockito.release.steps;\n+\n+import org.mockito.release.util.operations.Operation;\n+\n+public interface ReleaseSteps extends Operation {\n+\n+    ReleaseStep newStep(String description, Operation operation);\n+}\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/steps/Steps.java\n+package org.mockito.release.steps;\n+\n+public class Steps {\n+\n+    public static ReleaseSteps newSteps() {\n+        return new DefaultReleaseSteps();\n+    }\n+}\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/util/operations/Operation.java\n+package org.mockito.release.util.operations;\n+\n+public interface Operation {\n+    void perform();\n+}\n--- /dev/null\n+++ b/buildSrc/src/main/groovy/org/mockito/release/util/operations/Operations.java\n+package org.mockito.release.util.operations;\n+\n+import groovy.lang.Closure;\n+\n+public class Operations {\n+\n+    public static Operation toOperation(final Closure closure) {\n+        return new Operation() {\n+            public void perform() {\n+                closure.call();\n+            }\n+        };\n+    }\n+}", "timestamp": 1418595337, "metainfo": ""}