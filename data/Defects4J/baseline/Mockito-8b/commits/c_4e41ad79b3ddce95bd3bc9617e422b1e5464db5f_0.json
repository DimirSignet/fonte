{"sha": "4e41ad79b3ddce95bd3bc9617e422b1e5464db5f", "log": "Fixed issue 196 Mockito should now work fine even if you use AOP on top of your mocks. It is a totally edge case (I cannot imagine advicing mocks for any purpose but maybe I'm just short minded :P).  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%402020", "commit": "\n--- a/src/org/mockito/internal/util/MockUtil.java\n+++ b/src/org/mockito/internal/util/MockUtil.java\n     }\n \n     private <T> boolean isMockitoMock(T mock) {\n-        return Enhancer.isEnhanced(mock.getClass()) && getInterceptor(mock) != null;\n+        return getInterceptor(mock) != null;\n     }\n \n     public boolean isMock(Object mock) {\n     }\n \n     private <T> MethodInterceptorFilter getInterceptor(T mock) {\n+        if (!(mock instanceof Factory)) {\n+            return null;\n+        }\n         Factory factory = (Factory) mock;\n         Callback callback = factory.getCallback(0);\n         if (callback instanceof MethodInterceptorFilter) {", "timestamp": 1276687431, "metainfo": ""}