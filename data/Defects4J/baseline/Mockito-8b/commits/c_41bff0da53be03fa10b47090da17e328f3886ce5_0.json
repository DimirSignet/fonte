{"sha": "41bff0da53be03fa10b47090da17e328f3886ce5", "log": "added specific exception when number of actual invocations is too small  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%40148", "commit": "\n--- a/src/org/mockito/exceptions/Exceptions.java\n+++ b/src/org/mockito/exceptions/Exceptions.java\n             cause.setStackTrace(lastActualInvocationStackTrace.getStackTrace());\n         }\n         \n-        throw new NumberOfInvocationsError(join(\n+        throw new TooLittleActualInvocationsError(join(\n                 wanted,\n                 \"Wanted \" + pluralize(wantedCount) + \" but was \" + actualCount\n         ), cause);  \n--- /dev/null\n+++ b/src/org/mockito/exceptions/TooLittleActualInvocationsError.java\n+package org.mockito.exceptions;\n+\n+public class TooLittleActualInvocationsError extends MockitoAssertionError {\n+\n+    private static final long serialVersionUID = 1L;\n+    \n+    public TooLittleActualInvocationsError(String message, Throwable cause) {\n+        super(message, cause);\n+    }\n+}\n--- a/test/org/mockito/exceptions/ExceptionsTest.java\n+++ b/test/org/mockito/exceptions/ExceptionsTest.java\n \n public class ExceptionsTest {\n \n-    @Test(expected=NumberOfInvocationsError.class)\n+    @Test(expected=TooLittleActualInvocationsError.class)\n     public void shouldLetPassingNullLastActualStackTrace() throws Exception {\n         Exceptions.tooLittleActualInvocations(1, 2, \"wanted\", null);\n     }\n--- a/test/org/mockitousage/verification/ExactNumberOfTimesVerificationTest.java\n+++ b/test/org/mockitousage/verification/ExactNumberOfTimesVerificationTest.java\n         try {\n             Mockito.verify(mock, 100).clear();\n             fail();\n-        } catch (NumberOfInvocationsError e) {\n+        } catch (TooLittleActualInvocationsError e) {\n             String expected = \n                 \"\\n\" +\n                 \"LinkedList.clear()\" +\n         try {\n             Mockito.verify(mock, 15).clear();\n             fail();\n-        } catch (NumberOfInvocationsError e) {\n+        } catch (TooLittleActualInvocationsError e) {\n             assertThat(e, messageContains(\"Wanted 15 times but was 0\"));\n         }\n     }\n         try {\n             Mockito.verify(mock, 15).clear();\n             fail();\n-        } catch (NumberOfInvocationsError e) {\n+        } catch (TooLittleActualInvocationsError e) {\n             assertThat(e, messageContains(\"Wanted 15 times but was 1\"));\n         }\n     }", "timestamp": 1197219920, "metainfo": ""}