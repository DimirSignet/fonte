{"sha": "5b86ce9a82304b363471288c8fe8925099f17df3", "log": "Got rid of some duplication  --HG-- extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%401833", "commit": "\n--- /dev/null\n+++ b/src/org/mockito/internal/listeners/CollectCreatedMocks.java\n+package org.mockito.internal.listeners;\n+\n+import org.mockito.MockSettings;\n+\n+import java.util.List;\n+\n+public class CollectCreatedMocks implements MockingStartedListener {\n+    private List toBeFilled;\n+\n+    public CollectCreatedMocks(List toBeFilled) {\n+        this.toBeFilled = toBeFilled;\n+    }\n+\n+    public void mockingStarted(Object mock, Class classToMock, MockSettings mockSettings) {\n+        toBeFilled.add(mock);\n+    }\n+}\n--- a/src/org/mockito/runners/ConsoleSpammingMockitoJUnitRunner.java\n+++ b/src/org/mockito/runners/ConsoleSpammingMockitoJUnitRunner.java\n import org.mockito.internal.invocation.Invocation;\n import org.mockito.internal.invocation.InvocationMatcher;\n import org.mockito.internal.invocation.UnusedStubsFinder;\n+import org.mockito.internal.listeners.CollectCreatedMocks;\n import org.mockito.internal.listeners.MockingStartedListener;\n import org.mockito.internal.progress.MockingProgress;\n import org.mockito.internal.progress.ThreadSafeMockingProgress;\n     public void run(RunNotifier notifier) {\n         MockingProgress progress = new ThreadSafeMockingProgress();\n         final List createdMocks = new LinkedList();\n-        progress.setListener(new MockingStartedListener() {\n-            public void mockingStarted(Object mock, Class classToMock, MockSettings mockSettings) {\n-                createdMocks.add(mock);\n-            }\n-        });\n+        progress.setListener(new CollectCreatedMocks(createdMocks));\n \n         RunListener listener = new RunListener() {\n             @Override public void testFailure(Failure failure) throws Exception {\n--- a/src/org/mockito/runners/VerboseMockitoJUnitRunner.java\n+++ b/src/org/mockito/runners/VerboseMockitoJUnitRunner.java\n import org.mockito.internal.invocation.Invocation;\n import org.mockito.internal.invocation.InvocationMatcher;\n import org.mockito.internal.invocation.UnusedStubsFinder;\n+import org.mockito.internal.listeners.CollectCreatedMocks;\n import org.mockito.internal.listeners.MockingStartedListener;\n import org.mockito.internal.progress.MockingProgress;\n import org.mockito.internal.progress.ThreadSafeMockingProgress;\n     public void run(RunNotifier notifier) {\n         MockingProgress progress = new ThreadSafeMockingProgress();\n         final List createdMocks = new LinkedList();\n-        progress.setListener(new MockingStartedListener() {\n-            public void mockingStarted(Object mock, Class classToMock, MockSettings mockSettings) {\n-                createdMocks.add(mock);\n-            }\n-        });\n+        progress.setListener(new CollectCreatedMocks(createdMocks));\n \n         //a listener that changes the failure's exception in a very hacky way...\n         RunListener listener = new RunListener() {", "timestamp": 1266178814, "metainfo": ""}