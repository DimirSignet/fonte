{"sha": "d550a2221d96eeb99c55f4d0082320c3771980b8", "log": "Automated g4 rollback of changelist 23669577.  *** Reason for rollback ***  Expression reordering causes a performance regression. Specifically, v8 optimizes \"typeof o == x\" better than \"x == typeof o\".  *** Original change description ***  Enable statement reordering  R=acleung DELTA=13  (2 added, 8 deleted, 3 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=3239   ", "commit": "\n--- a/src/com/google/javascript/jscomp/DefaultPassConfig.java\n+++ b/src/com/google/javascript/jscomp/DefaultPassConfig.java\n             new PeepholeRemoveDeadCode(),\n             new PeepholeSubstituteAlternateSyntax(true),\n             new PeepholeReplaceKnownMethods(),\n-            new PeepholeFoldConstants(),\n-            new ReorderConstantExpression());\n+            new PeepholeFoldConstants()\n+            // TODO(johnlenz): reenable this once Chrome 15 is stable\n+            // new ReorderConstantExpression()\n+            );\n     }\n   };\n \n--- a/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n+++ b/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n          \"}\",\n          \"function f(b) {\" +\n          \" var a;\" +\n-         \" return ((a=b.id) && (a=parseInt(a.substr(1))) && 0<a);\" +\n+         \" return ((a=b.id) && (a=parseInt(a.substr(1))) && a>0);\" +\n          \"}\");\n   }\n ", "timestamp": 1315850749, "metainfo": ""}