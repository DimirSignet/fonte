{"sha": "d9b11f3334dcb04cd35abe5f7a5fbfb000fa0986", "log": "Added \"unknown\" (used by IE) to the acceptable return results of a typeof.  R=nicksantos,johnlenz DELTA=13  (12 added, 0 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=5296   ", "commit": "\n--- a/src/com/google/javascript/jscomp/TypeCheck.java\n+++ b/src/com/google/javascript/jscomp/TypeCheck.java\n \n   private void checkTypeofString(NodeTraversal t, Node n, String s) {\n     if (!(s.equals(\"number\") || s.equals(\"string\") || s.equals(\"boolean\") ||\n-          s.equals(\"undefined\") || s.equals(\"function\") || s.equals(\"object\"))){\n+          s.equals(\"undefined\") || s.equals(\"function\") ||\n+          s.equals(\"object\") || s.equals(\"unknown\"))) {\n       validator.expectValidTypeofName(t, n, s);\n     }\n   }\n--- a/test/com/google/javascript/jscomp/TypeCheckTest.java\n+++ b/test/com/google/javascript/jscomp/TypeCheckTest.java\n               \"unknown type: numbr\");\n   }\n \n+  public void testTypeof3() throws Exception {\n+    testTypes(\"function f() {\" +\n+              \"return (typeof 123 == 'number' ||\" +\n+              \"typeof 123 == 'string' ||\" +\n+              \"typeof 123 == 'boolean' ||\" +\n+              \"typeof 123 == 'undefined' ||\" +\n+              \"typeof 123 == 'function' ||\" +\n+              \"typeof 123 == 'object' ||\" +\n+              \"typeof 123 == 'unknown'); }\");\n+  }\n+\n   public void testConstructorType1() throws Exception {\n     testTypes(\"/**@constructor*/function Foo(){}\" +\n         \"/**@type{!Foo}*/var f = new Date();\",", "timestamp": 1343942111, "metainfo": ""}