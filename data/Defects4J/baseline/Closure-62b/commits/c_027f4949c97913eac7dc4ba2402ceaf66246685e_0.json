{"sha": "027f4949c97913eac7dc4ba2402ceaf66246685e", "log": "Adjustable line threshold.  R=johnlenz DELTA=17  (16 added, 0 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=882   ", "commit": "\n--- a/src/com/google/javascript/jscomp/CodePrinter.java\n+++ b/src/com/google/javascript/jscomp/CodePrinter.java\n         boolean createSrcMap,\n         SourceMap.DetailLevel sourceMapDetailLevel) {\n       Preconditions.checkState(sourceMapDetailLevel != null);\n-      this.lineLengthThreshold = lineLengthThreshold;\n+      this.lineLengthThreshold = lineLengthThreshold <= 0 ? Integer.MAX_VALUE :\n+        lineLengthThreshold;\n       this.createSrcMap = createSrcMap;\n       this.sourceMapDetailLevel = sourceMapDetailLevel;\n       this.mappings = createSrcMap ? new ArrayDeque<Mapping>() : null;\n--- a/src/com/google/javascript/jscomp/Compiler.java\n+++ b/src/com/google/javascript/jscomp/Compiler.java\n     builder.setSourceMapDetailLevel(options.sourceMapDetailLevel);\n     builder.setTagAsStrict(\n         options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);\n+    builder.setLineLengthThreshold(options.lineLengthThreshold);\n \n     Charset charset = options.outputCharset != null ?\n         Charset.forName(options.outputCharset) : null;\n--- a/src/com/google/javascript/jscomp/CompilerOptions.java\n+++ b/src/com/google/javascript/jscomp/CompilerOptions.java\n   private transient ComposeWarningsGuard warningsGuard;\n \n   int summaryDetailLevel = 1;\n+\n+  int lineLengthThreshold = CodePrinter.DEFAULT_LINE_LENGTH_THRESHOLD;\n \n   //--------------------------------\n   // Special Output Options\n     this.nameAnonymousFunctionsOnly = value;\n   }\n \n+  public void lineLengthThreshold(int value) {\n+    this.lineLengthThreshold = value;\n+  }\n+\n   public void setColorizeErrorOutput(boolean colorizeErrorOutput) {\n     this.colorizeErrorOutput = colorizeErrorOutput;\n   }", "timestamp": 1300229049, "metainfo": ""}