{"sha": "64532dd695661eda96526983e925acfb1f293e37", "log": "Add isSameDay method to DateUtils   ", "commit": "\n--- a/src/java/org/apache/commons/lang/time/DateUtils.java\n+++ b/src/java/org/apache/commons/lang/time/DateUtils.java\n  * @author <a href=\"mailto:ggregory@seagullsw.com\">Gary Gregory</a>\n  * @author Phil Steitz\n  * @since 2.0\n- * @version $Id: DateUtils.java,v 1.26 2004/09/07 22:50:45 scolebourne Exp $\n+ * @version $Id: DateUtils.java,v 1.27 2004/09/07 23:03:37 scolebourne Exp $\n  */\n public class DateUtils {\n     \n      * instance to operate.</p>\n      */\n     public DateUtils() {\n+    }\n+\n+    //-----------------------------------------------------------------------\n+    /**\n+     * <p>Checks if two calendar objects are on the same day ignoring time.</p>\n+     *\n+     * <p>28 Mar 2002 13:45 and 28 Mar 2002 06:01 would return true.\n+     * 28 Mar 2002 13:45 and 12 Mar 2002 13:45 would return false.\n+     * </p>\n+     * \n+     * @param cal1  the first calendar, not null\n+     * @param cal1  the second calendar, not null\n+     * @return true if they represent the same day\n+     * @throws IllegalArgumentException if either calendar is <code>null</code>\n+     */\n+    public static boolean isSameDay(Calendar cal1, Calendar cal2) {\n+        if (cal1 == null || cal2 == null) {\n+            throw new IllegalArgumentException(\"The date must not be null\");\n+        }\n+        return (cal1.get(Calendar.ERA) == cal2.get(Calendar.ERA) &&\n+                cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR) &&\n+                cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR));\n     }\n \n     //-----------------------------------------------------------------------\n--- a/src/test/org/apache/commons/lang/time/DateUtilsTest.java\n+++ b/src/test/org/apache/commons/lang/time/DateUtilsTest.java\n import java.text.SimpleDateFormat;\n import java.util.Calendar;\n import java.util.Date;\n+import java.util.GregorianCalendar;\n import java.util.Iterator;\n import java.util.Locale;\n import java.util.NoSuchElementException;\n         assertEquals(true, Modifier.isPublic(cons[0].getModifiers()));\n         assertEquals(true, Modifier.isPublic(DateUtils.class.getModifiers()));\n         assertEquals(false, Modifier.isFinal(DateUtils.class.getModifiers()));\n+    }\n+    \n+    //-----------------------------------------------------------------------\n+    public void testIsSameDay() {\n+        GregorianCalendar cal1 = new GregorianCalendar(2004, 6, 9, 13, 45);\n+        GregorianCalendar cal2 = new GregorianCalendar(2004, 6, 9, 13, 45);\n+        assertEquals(true, DateUtils.isSameDay(cal1, cal2));\n+        cal2.add(Calendar.DAY_OF_YEAR, 1);\n+        assertEquals(false, DateUtils.isSameDay(cal1, cal2));\n+        cal1.add(Calendar.DAY_OF_YEAR, 1);\n+        assertEquals(true, DateUtils.isSameDay(cal1, cal2));\n+        cal2.add(Calendar.YEAR, 1);\n+        assertEquals(false, DateUtils.isSameDay(cal1, cal2));\n     }\n     \n     //-----------------------------------------------------------------------", "timestamp": 1094598217, "metainfo": ""}