{"sha": "a5fa2b8f7d9ae2d9f00b252b46304a5a4433134f", "log": "Altering the if/else logic of HashCodeBuilder.append(Object) as per LANG-345 to get 20->40% speed improvements. This is because the code no longer uses Class.isArray() on every invocation. Many thanks to Venkatesh Prasad Ranganath for offering this improvement.   ", "commit": "\n--- a/src/java/org/apache/commons/lang/builder/HashCodeBuilder.java\n+++ b/src/java/org/apache/commons/lang/builder/HashCodeBuilder.java\n             iTotal = iTotal * iConstant;\n \n         } else {\n-            if (object.getClass().isArray() == false) {\n-                // the simple case, not an array, just the element\n-                iTotal = iTotal * iConstant + object.hashCode();\n-\n-            } else {\n                 // 'Switch' on type of array, to dispatch to the correct handler\n                 // This handles multi dimensional arrays\n                 if (object instanceof long[]) {\n                     append((float[]) object);\n                 } else if (object instanceof boolean[]) {\n                     append((boolean[]) object);\n-                } else {\n+                } else if (object instanceof Object[]) {\n                     // Not an array of primitives\n                     append((Object[]) object);\n+                } else {\n+                    iTotal = iTotal * iConstant + object.hashCode();\n                 }\n-            }\n         }\n         return this;\n     }", "timestamp": 1186624691, "metainfo": ""}