{"sha": "381d4a64c1c19827528fe81c1afe1ce30da97788", "log": "delegate all read/write methods in gzip streams.  COMPRESS-83  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/compressors/gzip/GzipCompressorInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/compressors/gzip/GzipCompressorInputStream.java\n      * @see java.io.InputStream#read()\n      */\n     public int read() throws IOException {\n-        this.count(1);\n-        return in.read();\n+        int read = in.read();\n+        this.count(read < 0 ? -1 : 1);\n+        return read;\n+    }\n+\n+    /* (non-Javadoc)\n+     * @see java.io.InputStream#read(byte[])\n+     */\n+    public int read(byte[] b) throws IOException {\n+        int read = in.read(b);\n+        this.count(read);\n+        return read;\n+    }\n+\n+    /* (non-Javadoc)\n+     * @see java.io.InputStream#read(byte[], int, int)\n+     */\n+    public int read(byte[] b, int from, int length) throws IOException {\n+        int read = in.read(b, from, length);\n+        this.count(read);\n+        return read;\n     }\n }\n--- a/src/main/java/org/apache/commons/compress/compressors/gzip/GzipCompressorOutputStream.java\n+++ b/src/main/java/org/apache/commons/compress/compressors/gzip/GzipCompressorOutputStream.java\n         out.write(b);\n     }\n \n+    public void write(byte[] b) throws IOException {\n+        out.write(b);\n+    }\n+\n+    public void write(byte[] b, int from, int length) throws IOException {\n+        out.write(b, from, length);\n+    }\n+\n     public void close() throws IOException {\n         out.close();\n     }", "timestamp": 1249157820, "metainfo": ""}