{"sha": "31d002ba96322e570f345fd813a727183e0cbd17", "log": "Ensure a valid mode is set  ", "commit": "\n--- a/src/test/java/org/apache/commons/compress/archivers/CpioTestCase.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/CpioTestCase.java\n \n import org.apache.commons.compress.AbstractTestCase;\n import org.apache.commons.compress.archivers.cpio.CpioArchiveEntry;\n+import org.apache.commons.compress.archivers.cpio.CpioConstants;\n import org.apache.commons.compress.utils.IOUtils;\n \n public final class CpioTestCase extends AbstractTestCase {\n \n             final OutputStream out = new FileOutputStream(output);\n             final ArchiveOutputStream os = new ArchiveStreamFactory().createArchiveOutputStream(\"cpio\", out);\n-            os.putArchiveEntry(new CpioArchiveEntry(\"test1.xml\", file1.length()));\n+            CpioArchiveEntry entry = new CpioArchiveEntry(\"test1.xml\", file1.length());\n+            entry.setMode(CpioConstants.C_ISREG);\n+            os.putArchiveEntry(entry);\n             IOUtils.copy(new FileInputStream(file1), os);\n             os.closeArchiveEntry();\n \n-            os.putArchiveEntry(new CpioArchiveEntry(\"test2.xml\", file2.length()));\n+            entry = new CpioArchiveEntry(\"test2.xml\", file2.length());\n+            entry.setMode(CpioConstants.C_ISREG);\n+            os.putArchiveEntry(entry);\n             IOUtils.copy(new FileInputStream(file2), os);\n             os.closeArchiveEntry();\n ", "timestamp": 1238098737, "metainfo": ""}