{"sha": "cd71b5e41d3a001cda232275ade26f2b77fe0854", "log": "fixed the testcase    ", "commit": "\n--- a/src/test/java/org/apache/commons/compress/archivers/ArTestCase.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/ArTestCase.java\n \t\t\t\t\n \t\t\t\tif (\"test1.xml\".equals(entry.getName())) {\n \t\t\t\t\taos.putArchiveEntry(entry);\n+\t\t\t\t\tIOUtils.copy(ais, aos);\n+\t\t\t\t} else {\n+\t\t\t        IOUtils.copy(ais, new ByteArrayOutputStream());\n \t\t\t\t}\n+\t\t\t\n \t\t\t}\n \t\t\tais.close();\n \t\t\taos.close();\n \n \t\t{\n \t\t\tfinal InputStream is = new FileInputStream(output2);\n-\t\t\tfinal ArchiveInputStream ais = new ArchiveStreamFactory().createArchiveInputStream(is);\n+\t\t\tfinal ArchiveInputStream ais = new ArchiveStreamFactory().createArchiveInputStream(new BufferedInputStream(is));\n \t\t\twhile(true) {\n \t\t\t\tfinal ArArchiveEntry entry = (ArArchiveEntry)ais.getNextEntry();\n \t\t\t\tif (entry == null) {\n \t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t\t\n-\t\t\t\tfinal ByteArrayOutputStream os = new ByteArrayOutputStream();\n-\t\t        IOUtils.copy(ais, os);\n+\t\t        IOUtils.copy(ais, new ByteArrayOutputStream());\n \t\t        \n \t\t        sum +=  entry.getLength();\n \t\t\t}\n \t\t\tis.close();\t\t\t\n \t\t}\n \n-\t\tassertEquals(0, sum);\n+\t\tassertEquals(76, sum);\n \t\t\n \t}\n ", "timestamp": 1238186123, "metainfo": ""}