{"sha": "67316926452daf3d0a258eff78ddc0514152c3f1", "log": "Added javadoc to explain the quandry in how to count month/day differences  ", "commit": "\n--- a/src/java/org/apache/commons/lang/time/DurationFormatUtils.java\n+++ b/src/java/org/apache/commons/lang/time/DurationFormatUtils.java\n     /**\n      * <p>Formats the time gap as a string, using the specified format.\n      * Padding the left hand side of numbers with zeroes is optional and \n-     * the timezone may be specified. \n+     * the timezone may be specified. </p>\n+     *\n+     * <p>When calculating the difference between months/days, it chooses to \n+     * calculate months first. So when working out the number of months and \n+     * days between January 15th and March 10th, it choose 1 month and \n+     * 23 days gained by choosing January->February = 1 month and then \n+     * calculating days forwards, and not the 1 month and 26 days gained by \n+     * choosing March -> February = 1 month and then calculating days \n+     * backwards. </p>\n+     *\n+     * <p>For more control, the Joda Time library is recommended\n+     * (<a href=\"http://joda-time.sf.net/\"). </p>\n      * \n      * @param startMillis  the start of the duration\n      * @param endMillis  the end of the duration\n         while (days < 0) {\n             end.add(Calendar.MONTH, -1);\n             days += end.getActualMaximum(Calendar.DAY_OF_MONTH);\n-//days += 31; // TODO: Need tests to show this is bad and the new code is good.\n-// HEN: It's a tricky subject. Jan 15th to March 10th. If I count days-first it is \n-// 1 month and 26 days, but if I count month-first then it is 1 month and 23 days.\n-// Also it's contextual - if asked for no M in the format then I should probably \n-// be doing no calculating here.\n+            // HEN: It's a tricky subject. Jan 15th to March 10th. If I count days-first it is \n+            // 1 month and 26 days, but if I count month-first then it is 1 month and 23 days.\n+            // Also it's contextual - if asked for no M in the format then I should probably \n+            // be doing no calculating here.\n             months -= 1;\n             end.add(Calendar.MONTH, 1);\n         }", "timestamp": 1165568752, "metainfo": ""}