{"sha": "5066e9aeb98f386b29a31cd4acb97aa43844cd30", "log": "ZipArchiveEntry#equals is broken if the String-arg constructor is used.  COMPRESS-94 - submitted by Anon Devs  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveEntry.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveEntry.java\n      */\n     public ZipArchiveEntry(String name) {\n         super(name);\n+        setName(name);\n     }\n \n     /**\n     /**\n      */\n     protected ZipArchiveEntry() {\n-        super(\"\");\n+        this(\"\");\n     }\n \n     public ZipArchiveEntry(File inputFile, String entryName) {\n             return false;\n         }\n         ZipArchiveEntry other = (ZipArchiveEntry) obj;\n-        if (name == null) {\n-            if (other.name != null) {\n+        String myName = getName();\n+        String otherName = other.getName();\n+        if (myName == null) {\n+            if (otherName != null) {\n                 return false;\n             }\n-        } else if (!name.equals(other.name)) {\n+        } else if (!myName.equals(otherName)) {\n             return false;\n         }\n         return true;\n--- a/src/test/java/org/apache/commons/compress/archivers/zip/ZipArchiveEntryTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/zip/ZipArchiveEntryTest.java\n         assertFalse(entry.isSupportedCompressionMethod());\n     }\n \n+    /**\n+     * Test case for\n+     * <a href=\"https://issues.apache.org/jira/browse/COMPRESS-94\"\n+     * >COMPRESS-94</a>.\n+     */\n+    public void testNotEquals() {\n+        ZipArchiveEntry entry1 = new ZipArchiveEntry(\"foo\");\n+        ZipArchiveEntry entry2 = new ZipArchiveEntry(\"bar\");\n+        assertFalse(entry1.equals(entry2));\n+    }\n }", "timestamp": 1262856895, "metainfo": ""}