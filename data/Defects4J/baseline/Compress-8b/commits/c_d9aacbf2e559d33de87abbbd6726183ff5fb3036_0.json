{"sha": "d9aacbf2e559d33de87abbbd6726183ff5fb3036", "log": "offset calculation was broken  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/ar/ArArchiveInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/ar/ArArchiveInputStream.java\n \n     public int read() throws IOException {\n         final int ret = input.read();\n-        offset++;\n+        offset += (ret > 0 ? 1 : 0);\n         return ret;\n     }\n \n     public int read(byte b[]) throws IOException {\n-        final int ret = read(b, 0, b.length);\n-        offset = offset + b.length;\n-        return ret;\n+        return read(b, 0, b.length);\n     }\n \n     public int read(byte[] b, int off, int len) throws IOException {\n         final int ret = this.input.read(b, off, len);\n-        offset = offset + off;\n+        offset += (ret > 0 ? ret : 0);\n         return ret;\n     }\n ", "timestamp": 1238428156, "metainfo": ""}