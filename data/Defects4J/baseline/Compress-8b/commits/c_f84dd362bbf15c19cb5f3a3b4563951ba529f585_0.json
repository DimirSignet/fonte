{"sha": "f84dd362bbf15c19cb5f3a3b4563951ba529f585", "log": "Only use the zip-extra-field if configured to do so and the entry didn't set the EFS flag - COMPRESS-70  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStream.java\n     /**\n      * Whether to look for and use Unicode extra fields.\n      */\n-    private final boolean useUnicodeExtraFields; // TODO not yet used\n+    private final boolean useUnicodeExtraFields;\n \n     private final InputStream in;\n \n         readFully(extraData);\n         current.setExtra(extraData);\n \n-        ZipUtil.setNameAndCommentFromExtraFields(current, fileName, null);\n-\n+        if (!hasEFS && useUnicodeExtraFields) {\n+            ZipUtil.setNameAndCommentFromExtraFields(current, fileName, null);\n+        }\n         return current;\n     }\n ", "timestamp": 1240907475, "metainfo": ""}