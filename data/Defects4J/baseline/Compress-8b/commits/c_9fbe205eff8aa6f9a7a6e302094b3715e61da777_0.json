{"sha": "9fbe205eff8aa6f9a7a6e302094b3715e61da777", "log": "COMPRESS-55 Don't attempt to set mode zero. Print error if mode 0 found not in trailer.  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.java\n         }\n \n         ret.setInode(readAsciiLong(8, 16));\n-        ret.setMode(readAsciiLong(8, 16));\n+        long mode = readAsciiLong(8, 16);\n+        if (mode != 0){ // mode is initialised to 0\n+            ret.setMode(mode);\n+        }\n         ret.setUID(readAsciiLong(8, 16));\n         ret.setGID(readAsciiLong(8, 16));\n         ret.setNumberOfLinks(readAsciiLong(8, 16));\n         ret.setRemoteDeviceMin(readAsciiLong(8, 16));\n         long namesize = readAsciiLong(8, 16);\n         ret.setChksum(readAsciiLong(8, 16));\n-        ret.setName(readCString((int) namesize));\n+        String name = readCString((int) namesize);\n+        ret.setName(name);\n+        if (mode == 0 && !name.equals(CPIO_TRAILER)){\n+            // TODO - change this to throw\n+            new IOException(\"Mode 0 only allowed in the trailer. Found: \"+name).printStackTrace();\n+        }\n         pad(ret.getHeaderSize() + namesize, 4);\n \n         return ret;", "timestamp": 1238100391, "metainfo": ""}