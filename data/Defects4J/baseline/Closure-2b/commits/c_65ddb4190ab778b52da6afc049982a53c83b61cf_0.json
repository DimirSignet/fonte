{"sha": "65ddb4190ab778b52da6afc049982a53c83b61cf", "log": "Make the ActiveXObject a normal function instance that returns unknonw rather than the NO_OBJECT type.  R=nicksantos DELTA=7  (1 added, 1 deleted, 5 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=5794   ", "commit": "\n--- a/src/com/google/javascript/jscomp/TypedScopeCreator.java\n+++ b/src/com/google/javascript/jscomp/TypedScopeCreator.java\n import static com.google.javascript.rhino.jstype.JSTypeNative.ERROR_FUNCTION_TYPE;\n import static com.google.javascript.rhino.jstype.JSTypeNative.EVAL_ERROR_FUNCTION_TYPE;\n import static com.google.javascript.rhino.jstype.JSTypeNative.FUNCTION_FUNCTION_TYPE;\n+import static com.google.javascript.rhino.jstype.JSTypeNative.FUNCTION_INSTANCE_TYPE;\n import static com.google.javascript.rhino.jstype.JSTypeNative.GLOBAL_THIS;\n-import static com.google.javascript.rhino.jstype.JSTypeNative.NO_OBJECT_TYPE;\n import static com.google.javascript.rhino.jstype.JSTypeNative.NO_TYPE;\n import static com.google.javascript.rhino.jstype.JSTypeNative.NULL_TYPE;\n import static com.google.javascript.rhino.jstype.JSTypeNative.NUMBER_OBJECT_FUNCTION_TYPE;\n     declareNativeFunctionType(s, URI_ERROR_FUNCTION_TYPE);\n     declareNativeValueType(s, \"undefined\", VOID_TYPE);\n \n-    // ActiveXObject is uniquely special, because it can be used to construct\n-    // any type (the type that it creates is related to the arguments you\n-    // pass to it).\n-    declareNativeValueType(s, \"ActiveXObject\", NO_OBJECT_TYPE);\n+    // There is no longer a need to special case ActiveXObject\n+    // but this remains here until we can get the extern forks\n+    // cleaned up.\n+    declareNativeValueType(s, \"ActiveXObject\", FUNCTION_INSTANCE_TYPE);\n \n     return s;\n   }\n--- a/test/com/google/javascript/jscomp/TypedScopeCreatorTest.java\n+++ b/test/com/google/javascript/jscomp/TypedScopeCreatorTest.java\n         CompilerTypeTestCase.ACTIVE_X_OBJECT_DEF,\n         \"var x = new ActiveXObject();\", null);\n     assertEquals(\n-        \"NoObject\",\n+        \"?\",\n         findNameType(\"x\", globalScope).toString());\n   }\n ", "timestamp": 1352393764, "metainfo": ""}