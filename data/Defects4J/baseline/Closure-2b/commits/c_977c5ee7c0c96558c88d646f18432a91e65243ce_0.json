{"sha": "977c5ee7c0c96558c88d646f18432a91e65243ce", "log": "Automated g4 rollback.  *** Reason for rollback ***  Chrome 15 handles this better  *** Original change description ***  Automated g4 rollback.  *** Reason for rollback ***  Expression reordering causes a performance regression. Specifically, v8 optimizes \"typeof o == x\" better than \"x == typeof o\".  *** Original change description ***  Enable statement reordering  R=acleung DELTA=13  (8 added, 2 deleted, 3 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=3659   ", "commit": "\n--- a/src/com/google/javascript/jscomp/DefaultPassConfig.java\n+++ b/src/com/google/javascript/jscomp/DefaultPassConfig.java\n             new PeepholeRemoveDeadCode(),\n             new PeepholeSubstituteAlternateSyntax(late),\n             new PeepholeReplaceKnownMethods(),\n-            new PeepholeFoldConstants(late)\n-            // TODO(johnlenz): reenable this once Chrome 15 is stable\n-            // new ReorderConstantExpression()\n-            );\n+            new PeepholeFoldConstants(late),\n+            new ReorderConstantExpression());\n     }\n   };\n \n--- a/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n+++ b/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n          \"}\",\n          \"function f(b) {\" +\n          \" var a;\" +\n-         \" return ((a=b.id) && (a=parseInt(a.substr(1))) && a>0);\" +\n+         \" return ((a=b.id) && (a=parseInt(a.substr(1))) && 0<a);\" +\n          \"}\");\n   }\n ", "timestamp": 1320791466, "metainfo": ""}