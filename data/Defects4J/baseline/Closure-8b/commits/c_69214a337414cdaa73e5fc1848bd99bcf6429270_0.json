{"sha": "69214a337414cdaa73e5fc1848bd99bcf6429270", "log": "Enable the missingProperties check by default with VERBOSE warnings. Fixes issue 258  R=nicksantos DELTA=38  (34 added, 0 deleted, 4 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=333975   ", "commit": "\n--- a/src/com/google/javascript/jscomp/WarningLevel.java\n+++ b/src/com/google/javascript/jscomp/WarningLevel.java\n     options.checkTypes = true;\n     options.checkGlobalNamesLevel = CheckLevel.WARNING;\n     options.aggressiveVarCheck = CheckLevel.WARNING;\n+    options.setWarningLevel(\n+        DiagnosticGroups.MISSING_PROPERTIES, CheckLevel.WARNING);\n   }\n }\n--- a/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n+++ b/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n   private final List<JSSourceFile> externs = Lists.newArrayList(\n     JSSourceFile.fromCode(\"externs\",\n         \"var arguments;\"\n-        + \"/** @constructor \\n * @param {...*} var_args \\n \"\n-        + \"* @return {!Array} */ \"\n-        + \"function Array(var_args) {}\\n\"\n+        + \"/**\\n\"\n+        + \" * @constructor\\n\"\n+        + \" * @param {...*} var_args\\n\"\n+        + \" */\\n\"\n+        + \"function Function(var_args) {}\\n\"\n+        + \"/**\\n\"\n+        + \" * @param {...*} var_args\\n\"\n+        + \" * @return {*}\\n\"\n+        + \" */\\n\"\n+        + \"Function.prototype.call = function(var_args) {};\"\n+        + \"/**\\n\"\n+        + \" * @constructor\\n\"\n+        + \" * @param {...*} var_args\\n\"\n+        + \" * @return {!Array}\\n\"\n+        + \" */\\n\"\n+        + \"function Array(var_args) {}\"\n+        + \"/**\\n\"\n+        + \" * @param {*=} opt_begin\\n\"\n+        + \" * @param {*=} opt_end\\n\"\n+        + \" * @return {!Array}\\n\"\n+        + \" * @this {Object}\\n\"\n+        + \" */\\n\"\n+        + \"Array.prototype.slice = function(opt_begin, opt_end) {};\"\n         + \"/** @constructor */ function Window() {}\\n\"\n         + \"/** @type {string} */ Window.prototype.name;\\n\"\n         + \"/** @type {Window} */ var window;\"\n     testSame(\"x = 3;\");\n   }\n \n-  public void testCheckUndefinedProperties() {\n+  public void testCheckUndefinedProperties1() {\n     args.add(\"--warning_level=VERBOSE\");\n     args.add(\"--jscomp_error=missingProperties\");\n     test(\"var x = {}; var y = x.bar;\", TypeCheck.INEXISTENT_PROPERTY);\n+  }\n+\n+  public void testCheckUndefinedProperties2() {\n+    args.add(\"--warning_level=VERBOSE\");\n+    args.add(\"--jscomp_off=missingProperties\");\n+    test(\"var x = {}; var y = x.bar;\", CheckGlobalNames.UNDEFINED_NAME_WARNING);\n+  }\n+\n+  public void testCheckUndefinedProperties3() {\n+    args.add(\"--warning_level=VERBOSE\");\n+    test(\"function f() {var x = {}; var y = x.bar;}\",\n+        TypeCheck.INEXISTENT_PROPERTY);\n   }\n \n   public void testDuplicateParams() {", "timestamp": 1287019930, "metainfo": ""}