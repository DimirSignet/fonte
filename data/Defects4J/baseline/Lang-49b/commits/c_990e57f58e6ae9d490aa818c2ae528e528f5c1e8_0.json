{"sha": "990e57f58e6ae9d490aa818c2ae528e528f5c1e8", "log": "Handles empty string now as well.  Submitted by:\tMark Ford   ", "commit": "\n--- a/src/java/org/apache/commons/lang/StringUtils.java\n+++ b/src/java/org/apache/commons/lang/StringUtils.java\n  * @author Arun Mammen Thomas\n  * @author <a href=\"mailto:ggregory@seagullsw.com\">Gary Gregory</a>\n  * @since 1.0\n- * @version $Id: StringUtils.java,v 1.47 2003/06/21 22:24:55 bayard Exp $\n+ * @version $Id: StringUtils.java,v 1.48 2003/06/23 03:51:13 bayard Exp $\n  */\n public class StringUtils {\n \n      */\n     public static String chopNewline(String str) {\n         int lastIdx = str.length() - 1;\n-        if (lastIdx == 0) {\n+        if (lastIdx <= 0) {\n             return \"\";\n         }\n         char last = str.charAt(lastIdx);\n--- a/src/test/org/apache/commons/lang/StringUtilsTest.java\n+++ b/src/test/org/apache/commons/lang/StringUtilsTest.java\n  * @author <a href=\"mailto:fredrik@westermarck.com>Fredrik Westermarck</a>\n  * @author Holger Krauth\n  * @author <a href=\"hps@intermeta.de\">Henning P. Schmiedehausen</a>\n- * @version $Id: StringUtilsTest.java,v 1.20 2003/06/21 22:24:56 bayard Exp $\n+ * @version $Id: StringUtilsTest.java,v 1.21 2003/06/23 03:51:13 bayard Exp $\n  */\n public class StringUtilsTest extends TestCase {\n \n             { FOO + \"\\n\" + FOO , FOO + \"\\n\" + FOO },\n             { FOO + \"\\n\\n\", FOO + \"\\n\"},\n             { \"\\n\", \"\" },\n+            { \"\", \"\" },\n             { \"\\r\\n\", \"\" }\n       };\n ", "timestamp": 1056340273, "metainfo": ""}