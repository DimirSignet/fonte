{"sha": "db6ecf32790e8a1454f6bf1517444f8637211eae", "log": "Have ReplaceStrings run earlier so that optimizations (collapse properties, disambiguate properties, devirtualize methods, etc) don't change the results.  R=nicksantos DELTA=12  (6 added, 6 deleted, 0 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=43   ", "commit": "\n--- a/src/com/google/javascript/jscomp/DefaultPassConfig.java\n+++ b/src/com/google/javascript/jscomp/DefaultPassConfig.java\n       passes.add(collapseProperties);\n     }\n \n+    // ReplaceStrings runs after CollapseProperties in order to simplify\n+    // pulling in values of constants defined in enums structures.\n+    if (!options.replaceStringsFunctionDescriptions.isEmpty()) {\n+      passes.add(replaceStrings);\n+    }\n+\n     // Tighten types based on actual usage.\n     if (options.tightenTypes) {\n       passes.add(tightenTypesBuilder);\n     // property collapsing can introduce new constants (e.g. enum values).\n     if (options.inlineConstantVars) {\n       passes.add(checkConsts);\n-    }\n-\n-    // ReplaceStrings needs the strings literals to be at in CALL to\n-    // replace them so do this after constants have been inlined.\n-    if (!options.replaceStringsFunctionDescriptions.isEmpty()) {\n-      passes.add(replaceStrings);\n     }\n \n     // The Caja library adds properties to Object.prototype, which breaks", "timestamp": 1291331684, "metainfo": ""}