{"sha": "2c90b14c19d8e4f920872e6a4340502cce1fb50c", "log": "Tweak the definition of ArrowType equality. As-is, it has false negatives, and the error message is really cryptic  R=johnlenz DELTA=17  (15 added, 1 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=971   ", "commit": "\n--- a/src/com/google/javascript/rhino/jstype/ArrowType.java\n+++ b/src/com/google/javascript/rhino/jstype/ArrowType.java\n       return false;\n     }\n     ArrowType that = (ArrowType) object;\n-    if (!returnType.isEquivalentTo(that.returnType) ||\n-        returnTypeInferred != that.returnTypeInferred) {\n+    if (!returnType.isEquivalentTo(that.returnType)) {\n       return false;\n     }\n     return hasEqualParameters(that);\n--- a/test/com/google/javascript/jscomp/TypeCheckTest.java\n+++ b/test/com/google/javascript/jscomp/TypeCheckTest.java\n         \"/**\\n\" +\n         \" * @param {boolean} x\\n\" +\n         \" * @suppress {duplicate}\\n\" +\n+        \" */ x.abc = function(x) {};\" +\n+        \"x = {\" +\n+        \"  /**\\n\" +\n+        \"   * @param {boolean} x\\n\" +\n+        \"   * @suppress {duplicate}\\n\" +\n+        \"   */\" +\n+        \"  abc: function(x) {}\" +\n+        \"};\");\n+  }\n+\n+  public void testObjectLiteralDeclaration7() throws Exception {\n+    testTypes(\n+        \"var x = {};\" +\n+        \"/**\\n\" +\n+        \" * @type {function(boolean): undefined}\\n\" +\n         \" */ x.abc = function(x) {};\" +\n         \"x = {\" +\n         \"  /**\\n\" +", "timestamp": 1300730495, "metainfo": ""}