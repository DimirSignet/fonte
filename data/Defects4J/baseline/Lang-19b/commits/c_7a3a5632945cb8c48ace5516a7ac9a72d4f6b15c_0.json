{"sha": "7a3a5632945cb8c48ace5516a7ac9a72d4f6b15c", "log": "LANG-571 ArrayUtils.add(T[] array[, offset], T element) can create unexpected ClassCastException Remove tests for generation of Object arrays when both objects are null  ", "commit": "\n--- a/src/test/java/org/apache/commons/lang3/ArrayUtilsAddTest.java\n+++ b/src/test/java/org/apache/commons/lang3/ArrayUtilsAddTest.java\n \n     public void testAddObjectArrayObject() {\n         Object[] newArray;\n-        newArray = ArrayUtils.add((Object[])null, null);\n-        assertTrue(Arrays.equals((new Object[]{null}), newArray));\n-        assertEquals(Object.class, newArray.getClass().getComponentType());\n \n         //show that not casting is okay\n-        newArray = ArrayUtils.add(null, null);\n-        assertTrue(Arrays.equals((new Object[]{null}), newArray));\n-        assertEquals(Object.class, newArray.getClass().getComponentType());\n-\n         newArray = ArrayUtils.add((Object[])null, \"a\");\n         assertTrue(Arrays.equals((new String[]{\"a\"}), newArray));\n         assertTrue(Arrays.equals((new Object[]{\"a\"}), newArray));\n         newArray = ArrayUtils.add(numberArray1, new Float(3));\n         assertTrue(Arrays.equals((new Float[]{new Float(3)}), newArray));\n         assertEquals(Float.class, newArray.getClass().getComponentType());\n-\n-        newArray = ArrayUtils.add(numberArray1, null);\n-        assertTrue(Arrays.equals((new Object[]{null}), newArray));\n-        assertEquals(Object.class, newArray.getClass().getComponentType());\n     }\n     \n     public void testLANG571(){\n \n     public void testAddObjectAtIndex() {\n         Object[] newArray;\n-        newArray = ArrayUtils.add((Object[])null, 0, null);\n-        assertTrue(Arrays.equals((new Object[]{null}), newArray));\n-        assertEquals(Object.class, newArray.getClass().getComponentType());\n         newArray = ArrayUtils.add((Object[])null, 0, \"a\");\n         assertTrue(Arrays.equals((new String[]{\"a\"}), newArray));\n         assertTrue(Arrays.equals((new Object[]{\"a\"}), newArray));", "timestamp": 1263647107, "metainfo": ""}