{"sha": "f714d9dbfdf02c65898b9900d6dd81e90c0b2b5b", "log": "A cut at http://issues.apache.org/bugzilla/show_bug.cgi?id=36925: Using ReflectionToStringBuilder and excluding secure fields.  ", "commit": "\n--- /dev/null\n+++ b/src/test/org/apache/commons/lang/builder/ReflectionToStringBuilderExcludeTest.java\n+/*\n+ * Copyright 2005 The Apache Software Foundation.\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.commons.lang.builder;\n+\n+import junit.framework.Assert;\n+import junit.framework.TestCase;\n+\n+/**\n+ * @author <a href=\"mailto:ggregory@seagullsw.com\">ggregory</a>\n+ * @version $Id$\n+ */\n+public class ReflectionToStringBuilderExcludeTest extends TestCase {\n+\n+    class TestFixture {\n+        private String secretField = SECRET_VALUE;\n+\n+        private String showField = NOT_SECRET_VALUE;\n+    }\n+\n+    private static final int INDEX_NOT_FOUND = -1;\n+\n+    private static final String NOT_SECRET_FIELD = \"showField\";\n+\n+    private static final String NOT_SECRET_VALUE = \"Hello World!\";\n+\n+    private static final String SECRET_FIELD = \"secretField\";\n+\n+    private static final String SECRET_VALUE = \"secret value\";\n+\n+    public void test_toStringExcluding() {\n+        String toString = ReflectionToStringBuilder.toStringExclude(new TestFixture(), SECRET_FIELD);\n+        this.validateToStringValue(toString);\n+    }\n+\n+    public void test_toStringExcludingArray() {\n+        String toString = ReflectionToStringBuilder.toStringExclude(new TestFixture(), new String[]{SECRET_FIELD});\n+        this.validateToStringValue(toString);\n+    }\n+\n+    void validateToStringValue(String toString) {\n+        Assert.assertEquals(INDEX_NOT_FOUND, toString.indexOf(SECRET_VALUE));\n+        Assert.assertTrue(toString.indexOf(NOT_SECRET_FIELD) > INDEX_NOT_FOUND);\n+        Assert.assertTrue(toString.indexOf(NOT_SECRET_VALUE) > INDEX_NOT_FOUND);\n+    }\n+}", "timestamp": 1128470771, "metainfo": ""}