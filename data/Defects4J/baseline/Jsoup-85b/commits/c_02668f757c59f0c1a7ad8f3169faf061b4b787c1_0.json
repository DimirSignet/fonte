{"sha": "02668f757c59f0c1a7ad8f3169faf061b4b787c1", "log": "Skip first newline in <pre>  Fixes #825", "commit": "\n--- a/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java\n+++ b/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java\n                             tb.processEndTag(\"p\");\n                         }\n                         tb.insert(startTag);\n-                        // todo: ignore LF if next token\n+                        tb.reader.matchConsume(\"\\n\"); // ignore LF if next token\n                         tb.framesetOk(false);\n                     } else if (name.equals(\"form\")) {\n                         if (tb.getFormElement() != null) {\n--- a/src/test/java/org/jsoup/parser/HtmlParserTest.java\n+++ b/src/test/java/org/jsoup/parser/HtmlParserTest.java\n       Document doc = Jsoup.parse(\"<!\");\n       assertTrue(doc.childNode(0) instanceof Comment);\n   }\n+\n+  @Test public void preSkipsFirstNewline() {\n+        Document doc = Jsoup.parse(\"<pre>\\n\\nOne\\nTwo\\n</pre>\");\n+        Element pre = doc.selectFirst(\"pre\");\n+        assertEquals(\"One\\nTwo\", pre.text());\n+        assertEquals(\"\\nOne\\nTwo\\n\", pre.wholeText());\n+  }\n }", "timestamp": 1512344998, "metainfo": ""}