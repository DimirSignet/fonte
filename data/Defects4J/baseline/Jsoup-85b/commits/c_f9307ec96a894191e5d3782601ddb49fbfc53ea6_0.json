{"sha": "f9307ec96a894191e5d3782601ddb49fbfc53ea6", "log": "Space for textnodes immediately after block elements", "commit": "\n--- a/src/main/java/org/jsoup/nodes/Element.java\n+++ b/src/main/java/org/jsoup/nodes/Element.java\n             }\n \n             public void tail(Node node, int depth) {\n+                // make sure there is a space between block tags and immediately following text nodes <div>One</div>Two should be \"One Two\".\n+                if (node instanceof Element) {\n+                    Element element = (Element) node;\n+                    if (element.isBlock() && (node.nextSibling() instanceof TextNode) && !TextNode.lastCharIsWhitespace(accum))\n+                        accum.append(' ');\n+                }\n+\n             }\n         }, this);\n         return accum.toString().trim();\n--- a/src/test/java/org/jsoup/nodes/ElementTest.java\n+++ b/src/test/java/org/jsoup/nodes/ElementTest.java\n         assertEquals(\"<img src=\\\"foo\\\" noshade nohref async autofocus=\\\"false\\\">\", img.outerHtml());\n     }\n \n+    @Test\n+    public void textHasSpaceAfterBlockTags() {\n+        Document doc = Jsoup.parse(\"<div>One</div>Two\");\n+        assertEquals(\"One Two\", doc.text());\n+    }\n+\n }", "timestamp": 1512342820, "metainfo": ""}