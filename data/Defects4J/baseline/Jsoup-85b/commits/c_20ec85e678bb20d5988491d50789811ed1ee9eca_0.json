{"sha": "20ec85e678bb20d5988491d50789811ed1ee9eca", "log": "Add methods to get all the element siblings before or after current element", "commit": "\n--- a/src/main/java/org/jsoup/nodes/Element.java\n+++ b/src/main/java/org/jsoup/nodes/Element.java\n     }\n \n     /**\n+     * Get all the siblings after this element.\n+     *\n+     * @return  all the siblings after this element, or null if there is no siblings after this\n+     */\n+    public List<Element> nextElementSiblings() {\n+        if (parentNode == null) {\n+            return null;\n+        }\n+\n+        List<Element> siblings = parent().childElementsList();\n+        int index = indexInList(this, siblings);\n+        Validate.notNull(index);\n+\n+        if (siblings.size() > index + 1) {\n+            return siblings.subList(index + 1, siblings.size());\n+        }\n+        return null;\n+    }\n+\n+    /**\n      * Gets the previous element sibling of this element.\n      * @return the previous element, or null if there is no previous element\n      * @see #nextElementSibling()\n             return siblings.get(index-1);\n         else\n             return null;\n+    }\n+\n+    /**\n+     * Get all the element siblings before this element.\n+     *\n+     * @return all the previous element siblings, or null if no previous siblings\n+     */\n+    public List<Element> previousElementSiblings() {\n+        if (parentNode == null) {\n+            return null;\n+        }\n+\n+        List<Element> siblings = parent().childElementsList();\n+        int index = indexInList(this, siblings);\n+        Validate.notNull(index);\n+\n+        if (index > 0 && index < siblings.size()) {\n+            return siblings.subList(0, index);\n+        }\n+        return null;\n     }\n \n     /**\n--- a/src/test/java/org/jsoup/nodes/ElementTest.java\n+++ b/src/test/java/org/jsoup/nodes/ElementTest.java\n         assertEquals(\"One Two\", doc.text());\n     }\n \n+    @Test\n+    public void testNextElementSiblings() {\n+        Document doc = Jsoup.parse(\"<li id='a'>a</li>\" +\n+            \"<li id='b'>b</li>\" +\n+            \"<li id='c'>c</li>\");\n+        Element element = doc.getElementById(\"a\");\n+        List<Element> elementSiblings = element.nextElementSiblings();\n+        assertNotNull(elementSiblings);\n+        assertEquals(2, elementSiblings.size());\n+\n+        Element element1 = doc.getElementById(\"c\");\n+        List<Element> elementSiblings1 = element1.nextElementSiblings();\n+        assertNull(elementSiblings1);\n+    }\n+\n+    @Test\n+    public void testPreviousElementSiblings() {\n+        Document doc = Jsoup.parse(\"<li id='a'>a</li>\" +\n+            \"<li id='b'>b</li>\" +\n+            \"<li id='c'>c</li>\");\n+        Element element = doc.getElementById(\"b\");\n+        List<Element> elementSiblings = element.previousElementSiblings();\n+        assertNotNull(elementSiblings);\n+        assertEquals(1, elementSiblings.size());\n+\n+        Element element1 = doc.getElementById(\"a\");\n+        List<Element> elementSiblings1 = element1.previousElementSiblings();\n+        assertNull(elementSiblings1);\n+    }\n }", "timestamp": 1525266791, "metainfo": ""}