{"sha": "4c142cacf4d92b2214b3858e033d518ecdbf57f5", "log": "Deflate encoding support  Fixes #556 Fixes #964", "commit": "\n--- a/src/main/java/org/jsoup/helper/HttpConnection.java\n+++ b/src/main/java/org/jsoup/helper/HttpConnection.java\n import java.util.Map;\n import java.util.regex.Pattern;\n import java.util.zip.GZIPInputStream;\n+import java.util.zip.Inflater;\n+import java.util.zip.InflaterInputStream;\n \n import static org.jsoup.Connection.Method.HEAD;\n import static org.jsoup.internal.Normalizer.lowerCase;\n                 if (conn.getContentLength() != 0 && req.method() != HEAD) { // -1 means unknown, chunked. sun throws an IO exception on 500 response with no content when trying to read body\n                     res.bodyStream = null;\n                     res.bodyStream = conn.getErrorStream() != null ? conn.getErrorStream() : conn.getInputStream();\n-                    if (res.hasHeaderWithValue(CONTENT_ENCODING, \"gzip\"))\n+                    if (res.hasHeaderWithValue(CONTENT_ENCODING, \"gzip\")) {\n                         res.bodyStream = new GZIPInputStream(res.bodyStream);\n+                    } else if (res.hasHeaderWithValue(CONTENT_ENCODING, \"deflate\")) {\n+                        res.bodyStream = new InflaterInputStream(res.bodyStream, new Inflater(true));\n+                    }\n                     res.bodyStream = ConstrainableInputStream\n                         .wrap(res.bodyStream, DataUtil.bufferSize, req.maxBodySize())\n                         .timeout(startTime, req.timeout())", "timestamp": 1511559737, "metainfo": ""}