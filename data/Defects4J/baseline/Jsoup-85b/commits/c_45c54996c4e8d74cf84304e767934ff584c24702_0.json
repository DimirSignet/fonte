{"sha": "45c54996c4e8d74cf84304e767934ff584c24702", "log": "Make sure the mark limit is same as buffer size to prevent mark being invalidated  Was bumping into two different buffer sizes when on Android <= 6, where the created buffer was larger than the underling OKio buffer that Android was using.  Fixes #990", "commit": "\n--- a/src/main/java/org/jsoup/helper/DataUtil.java\n+++ b/src/main/java/org/jsoup/helper/DataUtil.java\n         boolean fullyRead = false;\n \n         // read the start of the stream and look for a BOM or meta charset\n-        input.mark(firstReadBufferSize);\n-        ByteBuffer firstBytes = readToByteBuffer(input, firstReadBufferSize - 1); // -1 because we read one more to see if completed\n+        input.mark(bufferSize);\n+        ByteBuffer firstBytes = readToByteBuffer(input, firstReadBufferSize - 1); // -1 because we read one more to see if completed. First read is < buffer size, so can't be invalid.\n         fullyRead = input.read() == -1;\n         input.reset();\n ", "timestamp": 1513908510, "metainfo": ""}