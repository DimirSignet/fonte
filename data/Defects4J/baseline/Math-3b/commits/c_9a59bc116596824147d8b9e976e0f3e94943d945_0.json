{"sha": "9a59bc116596824147d8b9e976e0f3e94943d945", "log": "[MATH-942] Add sample(int, T[]) method, add missing since tags.  ", "commit": "\n--- a/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java\n+++ b/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java\n  */\n package org.apache.commons.math3.distribution;\n \n+import java.lang.reflect.Array;\n import java.util.ArrayList;\n import java.util.List;\n \n import org.apache.commons.math3.exception.MathIllegalArgumentException;\n import org.apache.commons.math3.exception.NotPositiveException;\n import org.apache.commons.math3.exception.NotStrictlyPositiveException;\n+import org.apache.commons.math3.exception.NullArgumentException;\n import org.apache.commons.math3.exception.util.LocalizedFormats;\n import org.apache.commons.math3.random.RandomGenerator;\n import org.apache.commons.math3.random.Well19937c;\n  * @param <T> type of the random variable.\n  * @see <a href=\"http://en.wikipedia.org/wiki/Probability_distribution#Discrete_probability_distribution\">Discrete probability distribution (Wikipedia)</a>\n  * @see <a href=\"http://mathworld.wolfram.com/DiscreteDistribution.html\">Discrete Distribution (MathWorld)</a>\n- * @version $Id: DiscreteDistribution.java 169 2013-03-08 09:02:38Z wydrych $\n+ * @version $Id$\n+ * @since 3.2\n  */\n public class DiscreteDistribution<T> {\n \n \n     }\n \n+    /**\n+     * Generate a random sample from the distribution.\n+     * <p>\n+     * If the requested samples fit in the specified array, it is returned\n+     * therein. Otherwise, a new array is allocated with the runtime type of\n+     * the specified array and the size of this collection.\n+     *\n+     * @param sampleSize the number of random values to generate.\n+     * @param array the array to populate.\n+     * @return an array representing the random sample.\n+     * @throws NotStrictlyPositiveException if {@code sampleSize} is not positive.\n+     * @throws NullArgumentException if {@code array} is null\n+     */\n+    public T[] sample(int sampleSize, final T[] array) throws NotStrictlyPositiveException {\n+        if (sampleSize <= 0) {\n+            throw new NotStrictlyPositiveException(LocalizedFormats.NUMBER_OF_SAMPLES, sampleSize);\n+        }\n+\n+        if (array == null) {\n+            throw new NullArgumentException(LocalizedFormats.INPUT_ARRAY);\n+        }\n+\n+        T[] out;\n+        if (array.length < sampleSize) {\n+            @SuppressWarnings(\"unchecked\") // safe as both are of type T\n+            final T[] unchecked = (T[]) Array.newInstance(array.getClass().getComponentType(), sampleSize);\n+            out = unchecked;\n+        } else {\n+            out = array;\n+        }\n+\n+        for (int i = 0; i < sampleSize; i++) {\n+            out[i] = sample();\n+        }\n+\n+        return out;\n+\n+    }\n+\n }\n--- a/src/main/java/org/apache/commons/math3/distribution/DiscreteIntegerDistribution.java\n+++ b/src/main/java/org/apache/commons/math3/distribution/DiscreteIntegerDistribution.java\n  *\n  * @see <a href=\"http://en.wikipedia.org/wiki/Probability_distribution#Discrete_probability_distribution\">Discrete probability distribution (Wikipedia)</a>\n  * @see <a href=\"http://mathworld.wolfram.com/DiscreteDistribution.html\">Discrete Distribution (MathWorld)</a>\n- * @version $Id: DiscreteIntegerDistribution.java 169 2013-03-08 09:02:38Z wydrych $\n+ * @version $Id$\n+ * @since 3.2\n  */\n public class DiscreteIntegerDistribution extends AbstractIntegerDistribution {\n \n--- a/src/main/java/org/apache/commons/math3/distribution/DiscreteRealDistribution.java\n+++ b/src/main/java/org/apache/commons/math3/distribution/DiscreteRealDistribution.java\n  *\n  * @see <a href=\"http://en.wikipedia.org/wiki/Probability_distribution#Discrete_probability_distribution\">Discrete probability distribution (Wikipedia)</a>\n  * @see <a href=\"http://mathworld.wolfram.com/DiscreteDistribution.html\">Discrete Distribution (MathWorld)</a>\n- * @version $Id: DiscreteRealDistribution.java 169 2013-03-08 09:02:38Z wydrych $\n+ * @version $Id$\n+ * @since 3.2\n  */\n public class DiscreteRealDistribution extends AbstractRealDistribution {\n ", "timestamp": 1362951260, "metainfo": ""}