{"sha": "e9e78a9c0a1554e4d420900cff48c88af82b5b17", "log": "improve jsonparser context testing", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/core/json/TestJsonParser.java\n+++ b/src/test/java/com/fasterxml/jackson/core/json/TestJsonParser.java\n         assertTrue(ctxt.inObject());\n         assertEquals(1, ctxt.getEntryCount());\n         assertEquals(0, ctxt.getCurrentIndex());\n+        assertEquals(\"key1\", ctxt.getCurrentName());\n \n         assertToken(JsonToken.VALUE_NULL, jp.nextToken());\n+        assertEquals(\"key1\", ctxt.getCurrentName());\n \n         ctxt = jp.getParsingContext();\n         assertEquals(1, ctxt.getEntryCount());\n         ctxt = jp.getParsingContext();\n         assertEquals(2, ctxt.getEntryCount());\n         assertEquals(1, ctxt.getCurrentIndex());\n+        assertEquals(\"key2\", ctxt.getCurrentName());\n \n         assertToken(JsonToken.VALUE_TRUE, jp.nextToken());\n+        assertEquals(\"key2\", ctxt.getCurrentName());\n \n         assertToken(JsonToken.FIELD_NAME, jp.nextToken());\n         verifyFieldName(jp, \"key3\");\n \n         assertToken(JsonToken.FIELD_NAME, jp.nextToken());\n         verifyFieldName(jp, \"key4\");\n-        assertToken(JsonToken.START_ARRAY, jp.nextToken());\n+\n+        assertToken(JsonToken.START_ARRAY, jp.nextToken());\n+        ctxt = jp.getParsingContext();\n+        assertTrue(ctxt.inArray());\n+        assertNull(ctxt.getCurrentName());\n+        assertEquals(\"key4\", ctxt.getParent().getCurrentName());\n+        \n         assertToken(JsonToken.VALUE_FALSE, jp.nextToken());\n         assertToken(JsonToken.VALUE_NULL, jp.nextToken());\n         assertToken(JsonToken.VALUE_TRUE, jp.nextToken());\n         assertToken(JsonToken.END_ARRAY, jp.nextToken());\n \n+        ctxt = jp.getParsingContext();\n+        assertTrue(ctxt.inObject());\n+\n         assertToken(JsonToken.END_OBJECT, jp.nextToken());\n+        ctxt = jp.getParsingContext();\n+        assertTrue(ctxt.inRoot());\n+        assertNull(ctxt.getCurrentName());\n \n         jp.close();\n     }", "timestamp": 1377657089, "metainfo": ""}