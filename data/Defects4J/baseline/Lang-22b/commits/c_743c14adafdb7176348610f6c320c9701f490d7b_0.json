{"sha": "743c14adafdb7176348610f6c320c9701f490d7b", "log": "Leveraged NestableDelegate.getMessage(String).   ", "commit": "\n--- a/src/java/org/apache/commons/lang/exception/NestableException.java\n+++ b/src/java/org/apache/commons/lang/exception/NestableException.java\n  * @author <a href=\"mailto:dlr@collab.net\">Daniel Rall</a>\n  * @author <a href=\"mailto:knielsen@apache.org\">Kasper Nielsen</a>\n  * @author <a href=\"mailto:steven@caswell.name\">Steven Caswell</a>\n- * @version $Id: NestableException.java,v 1.3 2002/08/25 13:20:59 stevencaswell Exp $\n+ * @version $Id: NestableException.java,v 1.4 2002/08/25 19:17:31 dlr Exp $\n  */\n public class NestableException extends Exception implements Nestable\n {\n \n     public String getMessage()\n     {\n-        StringBuffer msg = new StringBuffer();\n-        String ourMsg = super.getMessage();\n-        if (ourMsg != null)\n-        {\n-            msg.append(ourMsg);\n-        }\n-        if (cause != null)\n-        {\n-            String causeMsg = cause.getMessage();\n-            if (causeMsg != null)\n-            {\n-                if (ourMsg != null)\n-                {\n-                    msg.append(\": \");\n-                }\n-                msg.append(causeMsg);\n-            }\n-\n-        }\n-        return (msg.length() > 0 ? msg.toString() : null);\n+        return delegate.getMessage(super.getMessage());\n     }\n \n     public String getMessage(int index)\n     {\n-        if(index == 0)\n+        if (index == 0)\n         {\n             return super.getMessage();\n         }\n--- a/src/java/org/apache/commons/lang/exception/NestableRuntimeException.java\n+++ b/src/java/org/apache/commons/lang/exception/NestableRuntimeException.java\n  * @author <a href=\"mailto:dlr@collab.net\">Daniel Rall</a>\n  * @author <a href=\"mailto:knielsen@apache.org\">Kasper Nielsen</a>\n  * @author <a href=\"mailto:steven@caswell.name\">Steven Caswell</a>\n- * @version $Id: NestableRuntimeException.java,v 1.3 2002/08/25 13:20:59 stevencaswell Exp $\n+ * @version $Id: NestableRuntimeException.java,v 1.4 2002/08/25 19:15:03 dlr Exp $\n  */\n public class NestableRuntimeException extends RuntimeException\n     implements Nestable\n \n     public String getMessage()\n     {\n-        StringBuffer msg = new StringBuffer();\n-        String ourMsg = super.getMessage();\n-        if (ourMsg != null)\n-        {\n-            msg.append(ourMsg);\n-        }\n-        if (cause != null)\n-        {\n-            String causeMsg = cause.getMessage();\n-            if (causeMsg != null)\n-            {\n-                if (ourMsg != null)\n-                {\n-                    msg.append(\": \");\n-                }\n-                msg.append(causeMsg);\n-            }\n-\n-        }\n-        return (msg.length() > 0 ? msg.toString() : null);\n+        return delegate.getMessage(super.getMessage());\n     }\n \n     public String getMessage(int index)\n     {\n-        if(index == 0)\n+        if (index == 0)\n         {\n             return super.getMessage();\n         }", "timestamp": 1030303051, "metainfo": ""}