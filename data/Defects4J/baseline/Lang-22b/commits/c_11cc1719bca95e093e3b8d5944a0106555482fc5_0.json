{"sha": "11cc1719bca95e093e3b8d5944a0106555482fc5", "log": "Changed the deleteWhitespace method to delete according to Character.isWhitespce Renamed the existing deleteWhitespace functionality to deleteSpaces. This is in accordance with Character.isSpace.  Submitted by:\tSteve Downey's idea   ", "commit": "\n--- a/src/java/org/apache/commons/lang/StringUtils.java\n+++ b/src/java/org/apache/commons/lang/StringUtils.java\n  * @author <a href=\"mailto:rand_mcneely@yahoo.com>Rand McNeely</a>\n  * @author <a href=\"mailto:scolebourne@joda.org>Stephen Colebourne</a>\n  * @author <a href=\"mailto:fredrik@westermarck.com>Fredrik Westermarck</a>\n- * @version $Id: StringUtils.java,v 1.14 2002/09/27 05:53:37 bayard Exp $\n+ * @version $Id: StringUtils.java,v 1.15 2002/09/27 06:08:16 bayard Exp $\n  */\n public class StringUtils {\n \n     }\n \n     /**\n+     * Deletes all 'space' characters from a String.\n+     * Spaces are defined as {' ', '\\t', '\\r', '\\n', '\\b'}\n+     * in line with the deprecated Character.isSpace\n+     *\n+     * @param str  String target to delete spaces from\n+     * @return the text without spaces\n+     * @throws NullPointerException\n+     */\n+    public static String deleteSpaces(String str) {\n+        return CharSetUtils.delete(str, \" \\t\\r\\n\\b\");\n+    }\n+\n+    /**\n      * Deletes all whitespace from a String.\n-     * Whitespace is defined as {' ', '\\t', '\\r', '\\n', '\\b'}\n+     * Whitespace is defined by Character.isWhitespace\n      *\n      * @param str  String target to delete whitespace from\n      * @return the text without whitespace\n      * @throws NullPointerException\n      */\n     public static String deleteWhitespace(String str) {\n-        return CharSetUtils.delete(str, \" \\t\\r\\n\\b\");\n+        StringBuffer buffer = new StringBuffer();\n+        int sz = str.length();\n+        for (int i=0; i<sz; i++) {\n+            if(!Character.isWhitespace(str.charAt(i))) {\n+                buffer.append(str.charAt(i));\n+            }\n+        }\n+        return buffer.toString();\n     }\n \n     /**\n--- a/src/test/org/apache/commons/lang/StringUtilsTrimEmptyTest.java\n+++ b/src/test/org/apache/commons/lang/StringUtilsTrimEmptyTest.java\n  *\n  * @author <a href=\"mailto:scolebourne@joda.org\">Stephen Colebourne</a>\n  * @author <a href=\"mailto:ridesmet@users.sourceforge.net\">Ringo De Smet</a>\n- * @version $Id: StringUtilsTrimEmptyTest.java,v 1.4 2002/07/21 20:19:50 bayard Exp $\n+ * @version $Id: StringUtilsTrimEmptyTest.java,v 1.5 2002/09/27 06:08:16 bayard Exp $\n  */\n public class StringUtilsTrimEmptyTest extends TestCase {\n     private static final String FOO = \"foo\";\n         assertEquals(true, StringUtils.isEmpty(null));\n     }\n \n-    public void testDeleteWhitespace() {\n+    public void testDeleteSpace() {\n         assertEquals(\"deleteWhitespace(String) failed\",\n                      \"\", StringUtils.deleteWhitespace(\"\"));\n         assertEquals(\"deleteWhitespace(String) failed\",\n-                     \"\", StringUtils.deleteWhitespace(\"    \\t\\t\\n\\n   \"));\n-        assertEquals(\"deleteWhitespace(String) failed\",\n-                     \"test\", StringUtils.deleteWhitespace(\"t  \\t\\ne\\rs\\n\\n   \\tt\"));\n+                     \"\", StringUtils.deleteWhitespace(\"  \\u000C  \\t\\t\\u001F\\n\\n \\u000B  \"));\n+        // Note: u-2007 and u-000A both cause problems in the source code\n+        // it should ignore 2007 but delete 000A\n+        assertEquals(\"deleteWhitespace(String) failed\",\n+                     \"\\u00A0\\u202F\", StringUtils.deleteWhitespace(\"  \\u00A0  \\t\\t\\n\\n \\u202F  \"));\n+        assertEquals(\"deleteWhitespace(String) failed\",\n+                     \"\\u00A0\\u202F\", StringUtils.deleteWhitespace(\"\\u00A0\\u202F\"));\n+        assertEquals(\"deleteWhitespace(String) failed\",\n+                     \"test\", StringUtils.deleteWhitespace(\"\\u000Bt  \\t\\n\\u0009e\\rs\\n\\n   \\tt\"));\n+\n+        assertEquals(\"deleteSpaces(String) failed\",\n+                     \"\", StringUtils.deleteSpaces(\"\"));\n+        assertEquals(\"deleteSpaces(String) failed\",\n+                     \"\", StringUtils.deleteSpaces(\"    \\t\\t\\n\\n   \"));\n+        assertEquals(\"deleteSpaces(String) failed\",\n+                     \"test\", StringUtils.deleteSpaces(\"t  \\t\\ne\\rs\\n\\n   \\tt\"));\n     }\n \n     public void testStrip() {", "timestamp": 1033106896, "metainfo": ""}