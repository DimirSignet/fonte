{"sha": "e1bfd3ce7d6d443a24901a9e62b126140a7293c8", "log": "Applied Ant fix: http://svn.apache.org/viewcvs.cgi/ant/core/trunk/src/main/org/apache/tools/tar/TarBuffer.java?rev=277329&r1=276208&r2=277329  For bug: http://issues.apache.org/bugzilla/show_bug.cgi?id=29877  ", "commit": "\n--- a/src/java/org/apache/commons/compress/tar/TarBuffer.java\n+++ b/src/java/org/apache/commons/compress/tar/TarBuffer.java\n /*\n- * Copyright 2002,2004 The Apache Software Foundation.\n+ * Copyright 2002,2004,2006 The Apache Software Foundation.\n  * \n  * Licensed under the Apache License, Version 2.0 (the \"License\");\n  * you may not use this file except in compliance with the License.\n import java.io.IOException;\n import java.io.InputStream;\n import java.io.OutputStream;\n+import java.util.Arrays;\n \n /**\n  * The TarBuffer class implements the tar archive concept of a buffered input\n             //\n             if( numBytes == -1 )\n             {\n+                // However, just leaving the unread portion of the buffer dirty does\n+                // cause problems in some cases.  This problem is described in\n+                // http://issues.apache.org/bugzilla/show_bug.cgi?id=29877\n+                //\n+                // The solution is to fill the unused portion of the buffer with zeros.\n+\n+                Arrays.fill(m_blockBuffer, offset, offset + bytesNeeded, (byte) 0);\n+\n                 break;\n             }\n ", "timestamp": 1141821501, "metainfo": ""}