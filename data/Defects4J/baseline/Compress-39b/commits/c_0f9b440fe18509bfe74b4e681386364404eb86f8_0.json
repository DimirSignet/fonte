{"sha": "0f9b440fe18509bfe74b4e681386364404eb86f8", "log": "Make CompressorInputStream extend FilterInputStream  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/compressors/CompressorInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/compressors/CompressorInputStream.java\n  */\n package org.apache.commons.compress.compressors;\n \n+import java.io.FilterInputStream;\n import java.io.InputStream;\n \n-public abstract class CompressorInputStream extends InputStream {\n+public abstract class CompressorInputStream extends FilterInputStream {\n     // TODO \n+    protected CompressorInputStream(final InputStream i) {\n+        super(i);\n+    }\n }\n--- a/src/main/java/org/apache/commons/compress/compressors/bzip2/BZip2CompressorInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/compressors/bzip2/BZip2CompressorInputStream.java\n \n     private int nInUse;\n \n-    private InputStream in;\n-\n     private int currentChar = -1;\n \n     private static final int EOF                  = 0;\n      *  if <tt>in == null</tt>\n      */\n     public BZip2CompressorInputStream(final InputStream in) throws IOException {\n-        super();\n-\n-        this.in = in;\n+        super(in);\n+\n         init();\n     }\n \n--- a/src/main/java/org/apache/commons/compress/compressors/gzip/GzipCompressorInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/compressors/gzip/GzipCompressorInputStream.java\n \n public class GzipCompressorInputStream extends CompressorInputStream {\n \n-    private final GZIPInputStream in; \n-\n     public GzipCompressorInputStream(InputStream inputStream) throws IOException {\n-        in = new GZIPInputStream(inputStream);\n-    }\n-\n-    public int read() throws IOException {\n-        return in.read();\n+        super(new GZIPInputStream(inputStream));\n     }\n \n }", "timestamp": 1234277634, "metainfo": ""}