{"sha": "9e98de92ce690adc07cc514bd214a3fc3575c730", "log": "Make ChangeSet work for empty initial archives  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/changes/ChangeSet.java\n+++ b/src/main/java/org/apache/commons/compress/changes/ChangeSet.java\n \n     public void perform(ArchiveInputStream in, ArchiveOutputStream out)\n             throws IOException {\n+        for (Iterator it = changes.iterator(); it.hasNext();) {\n+            Change change = (Change) it.next();\n+\n+            if (change.type() == Change.TYPE_ADD) {\n+                copyStream(change.getInput(), out, change.getEntry());\n+                it.remove();\n+            }\n+        }\n+\n         ArchiveEntry entry = null;\n         while ((entry = in.getNextEntry()) != null) {\n             boolean copy = true;\n \n             for (Iterator it = changes.iterator(); it.hasNext();) {\n                 Change change = (Change) it.next();\n-\n-                if (change.type() == Change.TYPE_ADD) {\n-                    copyStream(change.getInput(), out, change.getEntry());\n-                    it.remove();\n-                }\n \n                 if (change.type() == Change.TYPE_DELETE\n                         && entry.getName() != null) {", "timestamp": 1239114693, "metainfo": ""}