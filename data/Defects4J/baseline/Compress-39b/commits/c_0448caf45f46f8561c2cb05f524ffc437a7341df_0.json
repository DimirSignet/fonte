{"sha": "0448caf45f46f8561c2cb05f524ffc437a7341df", "log": "make ZipArchiveOutputStream and ZipFile use UTF-8 by default  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/jar/JarArchiveOutputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/jar/JarArchiveOutputStream.java\n \n     public JarArchiveOutputStream( final OutputStream out ) {\n         super(out);\n-        setEncoding(\"UTF8\");\n     }\n \n     public void putArchiveEntry(ArchiveEntry entry) throws IOException {\n--- a/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveOutputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveOutputStream.java\n     public static final int STORED = java.util.zip.ZipEntry.STORED;\n \n     /**\n+     * default encoding for file names and comment.\n+     */\n+    static final String DEFAULT_ENCODING = \"UTF8\";\n+\n+    /**\n      * Current entry.\n      *\n      * @since 1.1\n      *\n      * <p>For a list of possible values see <a\n      * href=\"http://java.sun.com/j2se/1.5.0/docs/guide/intl/encoding.doc.html\">http://java.sun.com/j2se/1.5.0/docs/guide/intl/encoding.doc.html</a>.\n-     * Defaults to the platform's default character encoding.</p>\n+     * Defaults to UTF-8.</p>\n      *\n      * @since 1.3\n      */\n-    private String encoding = null;\n+    private String encoding = DEFAULT_ENCODING;\n \n     // CheckStyle:VisibilityModifier OFF - bc\n \n      *\n      * <p>For a list of possible values see <a\n      * href=\"http://java.sun.com/j2se/1.5.0/docs/guide/intl/encoding.doc.html\">http://java.sun.com/j2se/1.5.0/docs/guide/intl/encoding.doc.html</a>.\n-     * Defaults to the platform's default character encoding.</p>\n-     * @param encoding the encoding value\n+     * Defaults to UTF-8.</p>\n+     * @param encoding the encoding to use for file names, use null\n+     * for the platform's default encoding\n      * @since 1.3\n      */\n     public void setEncoding(String encoding) {\n--- a/src/main/java/org/apache/commons/compress/archivers/zip/ZipFile.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/zip/ZipFile.java\n      *\n      * <p>For a list of possible values see <a\n      * href=\"http://java.sun.com/j2se/1.5.0/docs/guide/intl/encoding.doc.html\">http://java.sun.com/j2se/1.5.0/docs/guide/intl/encoding.doc.html</a>.\n-     * Defaults to the platform's default character encoding.</p>\n-     */\n-    private String encoding = null;\n+     * Defaults to UTF-8.</p>\n+     */\n+    private final String encoding;\n \n     /**\n      * The actual data source.\n     private RandomAccessFile archive;\n \n     /**\n-     * Opens the given file for reading, assuming the platform's\n-     * native encoding for file names.\n+     * Opens the given file for reading, assuming \"UTF8\" for file names.\n      *\n      * @param f the archive.\n      *\n      * @throws IOException if an error occurs while reading the file.\n      */\n     public ZipFile(File f) throws IOException {\n-        this(f, null);\n-    }\n-\n-    /**\n-     * Opens the given file for reading, assuming the platform's\n-     * native encoding for file names.\n+        this(f, ZipArchiveOutputStream.DEFAULT_ENCODING);\n+    }\n+\n+    /**\n+     * Opens the given file for reading, assuming \"UTF8\".\n      *\n      * @param name name of the archive.\n      *\n      * @throws IOException if an error occurs while reading the file.\n      */\n     public ZipFile(String name) throws IOException {\n-        this(new File(name), null);\n+        this(new File(name), ZipArchiveOutputStream.DEFAULT_ENCODING);\n     }\n \n     /**\n      * encoding for file names.\n      *\n      * @param name name of the archive.\n-     * @param encoding the encoding to use for file names\n+     * @param encoding the encoding to use for file names, use null\n+     * for the platform's default encoding\n      *\n      * @throws IOException if an error occurs while reading the file.\n      */\n      * encoding for file names.\n      *\n      * @param f the archive.\n-     * @param encoding the encoding to use for file names\n+     * @param encoding the encoding to use for file names, use null\n+     * for the platform's default encoding\n      *\n      * @throws IOException if an error occurs while reading the file.\n      */", "timestamp": 1234959174, "metainfo": ""}