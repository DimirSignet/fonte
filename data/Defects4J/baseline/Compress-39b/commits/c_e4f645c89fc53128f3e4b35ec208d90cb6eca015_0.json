{"sha": "e4f645c89fc53128f3e4b35ec208d90cb6eca015", "log": "COMPRESS-203 actually, the file name must be fixed after it has been truncated  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveOutputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveOutputStream.java\n     void writePaxHeaders(String entryName,\n                          Map<String, String> headers) throws IOException {\n         String name = \"./PaxHeaders.X/\" + stripTo7Bits(entryName);\n+        if (name.length() >= TarConstants.NAMELEN) {\n+            name = name.substring(0, TarConstants.NAMELEN - 1);\n+        }\n         while (name.endsWith(\"/\")) {\n             // TarEntry's constructor would think this is a directory\n             // and not allow any data to be written\n             name = name.substring(0, name.length() - 1);\n-        }\n-        if (name.length() >= TarConstants.NAMELEN) {\n-            name = name.substring(0, TarConstants.NAMELEN - 1);\n         }\n         TarArchiveEntry pex = new TarArchiveEntry(name,\n                                                   TarConstants.LF_PAX_EXTENDED_HEADER_LC);", "timestamp": 1356644930, "metainfo": ""}