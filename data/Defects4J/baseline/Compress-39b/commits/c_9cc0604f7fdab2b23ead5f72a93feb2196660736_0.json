{"sha": "9cc0604f7fdab2b23ead5f72a93feb2196660736", "log": "[COMPRESS-350] TarArchiveEntry wastefully allocates empty arrays.", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java\n  */\n \n public class TarArchiveEntry implements TarConstants, ArchiveEntry {\n+    private static final TarArchiveEntry[] EMPTY_TAR_ARCHIVE_ENTRIES = new TarArchiveEntry[0];\n+\n     /** The entry's name. */\n     private String name = \"\";\n \n      */\n     public TarArchiveEntry[] getDirectoryEntries() {\n         if (file == null || !file.isDirectory()) {\n-            return new TarArchiveEntry[0];\n+            return EMPTY_TAR_ARCHIVE_ENTRIES;\n         }\n \n         String[] list = file.list();\n-        TarArchiveEntry[] result = new TarArchiveEntry[list == null ? 0 : list.length];\n+        if (list == null) {\n+            return EMPTY_TAR_ARCHIVE_ENTRIES;\n+        }\n+        TarArchiveEntry[] result = new TarArchiveEntry[list.length];\n \n         for (int i = 0; i < result.length; ++i) {\n             result[i] = new TarArchiveEntry(new File(file, list[i]));", "timestamp": 1460218236, "metainfo": ""}