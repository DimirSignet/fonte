{"sha": "cf64557bb2e1db1c46158a28a0010f279708e3d6", "log": "COMPRESS-69: Applied patch from Uwe Schindler. Writing magic BZ is now done by the stream again. COMPRESS-69: Updated docs  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/compressors/bzip2/BZip2CompressorOutputStream.java\n+++ b/src/main/java/org/apache/commons/compress/compressors/bzip2/BZip2CompressorOutputStream.java\n     /**\n      * Constructs a new <tt>CBZip2OutputStream</tt> with a blocksize of 900k.\n      *\n-     * <p>\n-     * <b>Attention: </b>The caller is resonsible to write the two BZip2 magic\n-     * bytes <tt>\"BZ\"</tt> to the specified stream prior to calling this\n-     * constructor.\n-     * </p>\n-     *\n-     * @param out *\n+     * @param out \n      *            the destination stream.\n      *\n      * @throws IOException\n \n     /**\n      * Constructs a new <tt>CBZip2OutputStream</tt> with specified blocksize.\n-     *\n-     * <p>\n-     * <b>Attention: </b>The caller is resonsible to write the two BZip2 magic\n-     * bytes <tt>\"BZ\"</tt> to the specified stream prior to calling this\n-     * constructor.\n-     * </p>\n-     *\n      *\n      * @param out\n      *            the destination stream.\n         }\n     }\n \n+    /**\n+     * Writes magic bytes like BZ on the first position of the stream\n+     * and bytes indiciating the file-format, which is \n+     * huffmanised, followed by a digit indicating blockSize100k.\n+     * @throws IOException if the magic bytes could not been written\n+     */\n     private void init() throws IOException {\n-        // write magic: done by caller who created this stream\n-        // this.out.write('B');\n-        // this.out.write('Z');\n+        bsPutUByte('B');\n+        bsPutUByte('Z');\n \n         this.data = new Data(this.blockSize100k);\n \n-        /*\n-         * Write `magic' bytes h indicating file-format == huffmanised, followed\n-         * by a digit indicating blockSize100k.\n-         */\n+        // huffmanised magic bytes\n         bsPutUByte('h');\n         bsPutUByte('0' + this.blockSize100k);\n ", "timestamp": 1239636024, "metainfo": ""}