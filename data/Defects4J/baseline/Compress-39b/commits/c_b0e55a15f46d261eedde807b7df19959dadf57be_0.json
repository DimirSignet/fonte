{"sha": "b0e55a15f46d261eedde807b7df19959dadf57be", "log": "make extraction tests pass for dump.  COMPRESS-132  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/dump/DumpArchiveEntry.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/dump/DumpArchiveEntry.java\n      * Returns the size of the entry.\n      */\n     public long getSize() {\n+        return isDirectory() ? SIZE_UNKNOWN : size;\n+    }\n+\n+    /**\n+     * Returns the size of the entry as read from the archive.\n+     */\n+    long getEntrySize() {\n         return size;\n     }\n \n--- a/src/main/java/org/apache/commons/compress/archivers/dump/DumpArchiveInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/dump/DumpArchiveInputStream.java\n                 readIdx = active.getHeaderCount();\n             } else {\n                 entryOffset = 0;\n-                entrySize = active.getSize();\n+                entrySize = active.getEntrySize();\n                 readIdx = 0;\n             }\n \n      */\n     private void readDirectoryEntry(DumpArchiveEntry entry)\n         throws IOException {\n-        long size = entry.getSize();\n+        long size = entry.getEntrySize();\n         boolean first = true;\n \n         while (first ||\n--- a/src/test/java/org/apache/commons/compress/archivers/DumpTestCase.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/DumpTestCase.java\n         }\n     }\n \n-    public void XtestCheckArchive() throws Exception {\n+    public void testCheckArchive() throws Exception {\n         checkDumpArchive(getFile(\"bla.dump\"));\n     }\n \n-    public void XtestCheckCompressedArchive() throws Exception {\n+    public void testCheckCompressedArchive() throws Exception {\n         checkDumpArchive(getFile(\"bla.z.dump\"));\n     }\n ", "timestamp": 1313590032, "metainfo": ""}