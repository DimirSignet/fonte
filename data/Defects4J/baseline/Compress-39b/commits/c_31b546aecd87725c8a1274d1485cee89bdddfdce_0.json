{"sha": "31b546aecd87725c8a1274d1485cee89bdddfdce", "log": "COMPRESS-312 normalize filename in TarArchiveEntry's (File, String) constructor  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java\n      * @param file The file that the entry represents.\n      */\n     public TarArchiveEntry(File file) {\n-        this(file, normalizeFileName(file.getPath(), false));\n+        this(file, file.getPath());\n     }\n \n     /**\n      * @param fileName the name to be used for the entry.\n      */\n     public TarArchiveEntry(File file, String fileName) {\n+        String normalizedName = normalizeFileName(fileName, false);\n         this.file = file;\n \n         if (file.isDirectory()) {\n             this.mode = DEFAULT_DIR_MODE;\n             this.linkFlag = LF_DIR;\n \n-            int nameLength = fileName.length();\n-            if (nameLength == 0 || fileName.charAt(nameLength - 1) != '/') {\n-                this.name = fileName + \"/\";\n+            int nameLength = normalizedName.length();\n+            if (nameLength == 0 || normalizedName.charAt(nameLength - 1) != '/') {\n+                this.name = normalizedName + \"/\";\n             } else {\n-                this.name = fileName;\n+                this.name = normalizedName;\n             }\n         } else {\n             this.mode = DEFAULT_FILE_MODE;\n             this.linkFlag = LF_NORMAL;\n             this.size = file.length();\n-            this.name = fileName;\n+            this.name = normalizedName;\n         }\n \n         this.modTime = file.lastModified() / MILLIS_PER_SECOND;", "timestamp": 1427569096, "metainfo": ""}