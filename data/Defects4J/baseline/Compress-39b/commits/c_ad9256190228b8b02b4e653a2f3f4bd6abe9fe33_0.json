{"sha": "ad9256190228b8b02b4e653a2f3f4bd6abe9fe33", "log": "Tidy up streams and files after use  ", "commit": "\n--- a/src/test/java/org/apache/commons/compress/compressors/BZip2TestCase.java\n+++ b/src/test/java/org/apache/commons/compress/compressors/BZip2TestCase.java\n \t\tfinal File output = new File(dir, \"test.txt.bz2\");\n \t\tfinal OutputStream out = new FileOutputStream(output);\n \t\tfinal CompressorOutputStream cos = new CompressorStreamFactory().createCompressorOutputStream(\"bzip2\", out);\n-\t\tIOUtils.copy(new FileInputStream(input), cos);\n+\t\tFileInputStream in = new FileInputStream(input);\n+\t\tIOUtils.copy(in, cos);\n \t\tcos.close();\n+\t\tin.close();\n \t}\n \t\n \tpublic void testBzip2Unarchive() throws Exception {\n \t\tfinal File output = new File(dir, \"bla.txt\");\n         final InputStream is = new FileInputStream(input);\n         final CompressorInputStream in = new CompressorStreamFactory().createCompressorInputStream(\"bzip2\", is);\n-        IOUtils.copy(in, new FileOutputStream(output));\n-\t\tin.close();\n+        FileOutputStream os = new FileOutputStream(output);\n+        IOUtils.copy(in, os);\n+\t\tis.close();\n+\t\tos.close();\n     }\n \n }\n--- a/src/test/java/org/apache/commons/compress/compressors/GZipTestCase.java\n+++ b/src/test/java/org/apache/commons/compress/compressors/GZipTestCase.java\n \t\tfinal File output = new File(dir, \"bla.tar\");\n         final InputStream is = new FileInputStream(input);\n         final CompressorInputStream in = new CompressorStreamFactory().createCompressorInputStream(\"gz\", is);\n-        IOUtils.copy(in, new FileOutputStream(output));\n+        FileOutputStream out = new FileOutputStream(output);\n+        IOUtils.copy(in, out);\n \t\tin.close();\n+\t\tis.close();\n+\t\tout.close();\n     }\n \n }", "timestamp": 1238089939, "metainfo": ""}