{"sha": "d2b38e02c0a70557d3e0401314940462ad51a9fa", "log": "Optimize performance of RandomStringUtils bug 35170, from Shaun Kalley  ", "commit": "\n--- a/src/java/org/apache/commons/lang/RandomStringUtils.java\n+++ b/src/java/org/apache/commons/lang/RandomStringUtils.java\n             }\n         }\n \n-        StringBuffer buffer = new StringBuffer();\n+        char[] buffer = new char[count];\n         int gap = end - start;\n \n         while (count-- != 0) {\n             } else {\n                 ch = chars[random.nextInt(gap) + start];\n             }\n-            if ((letters && numbers && Character.isLetterOrDigit(ch))\n-                || (letters && Character.isLetter(ch))\n+            if ((letters && Character.isLetter(ch))\n                 || (numbers && Character.isDigit(ch))\n                 || (!letters && !numbers)) {\n-                buffer.append(ch);\n+                buffer[count] = ch;\n             } else {\n                 count++;\n             }\n         }\n-        return buffer.toString();\n+        return new String(buffer);\n     }\n \n     /**", "timestamp": 1126346861, "metainfo": ""}