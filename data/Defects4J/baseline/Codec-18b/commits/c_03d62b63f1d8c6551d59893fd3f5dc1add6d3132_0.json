{"sha": "03d62b63f1d8c6551d59893fd3f5dc1add6d3132", "log": "Add thread-safety Javadoc  ", "commit": "\n--- a/src/main/java/org/apache/commons/codec/CharEncoding.java\n+++ b/src/main/java/org/apache/commons/codec/CharEncoding.java\n  * \n  * This perhaps would best belong in the [lang] project. Even if a similar interface is defined in [lang], it is not\n  * foreseen that [codec] would be made to depend on [lang].\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @see <a href=\"http://download.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html\">Standard charsets</a>\n  * @since 1.4\n--- a/src/main/java/org/apache/commons/codec/Charsets.java\n+++ b/src/main/java/org/apache/commons/codec/Charsets.java\n  * \n  * This perhaps would best belong in the Commons Lang project. Even if a similar class is defined in Commons Lang, it is\n  * not foreseen that Commons Codec would be made to depend on Commons Lang.\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @see <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html\">Standard charsets</a>\n  * @since 1.7\n--- a/src/main/java/org/apache/commons/codec/StringEncoderComparator.java\n+++ b/src/main/java/org/apache/commons/codec/StringEncoderComparator.java\n  * Compares Strings using a {@link StringEncoder}. This comparator is used to sort Strings by an encoding scheme such as\n  * Soundex, Metaphone, etc. This class can come in handy if one need to sort Strings by an encoded form of a name such\n  * as Soundex.\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @version $Id$\n  */\n--- a/src/main/java/org/apache/commons/codec/binary/BinaryCodec.java\n+++ b/src/main/java/org/apache/commons/codec/binary/BinaryCodec.java\n \n /**\n  * Converts between byte arrays and strings of \"0\"s and \"1\"s.\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * TODO: may want to add more bit vector functions like and/or/xor/nand \n  * TODO: also might be good to generate boolean[] from byte[] et cetera.\n--- a/src/main/java/org/apache/commons/codec/binary/Hex.java\n+++ b/src/main/java/org/apache/commons/codec/binary/Hex.java\n  * Converts hexadecimal Strings. The charset used for certain operation can be set, the default is set in\n  * {@link #DEFAULT_CHARSET_NAME}\n  * \n+ * This class is thread-safe.\n+ * \n  * @since 1.1\n  * @version $Id$\n  */\n--- a/src/main/java/org/apache/commons/codec/binary/StringUtils.java\n+++ b/src/main/java/org/apache/commons/codec/binary/StringUtils.java\n  * Converts String to and from bytes using the encodings required by the Java specification. These encodings are specified in <a\n  * href=\"http://download.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html\">Standard charsets</a>\n  * \n+ * This class is immutable and thread-safe.\n+ *\n  * @see CharEncoding\n  * @see <a href=\"http://download.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html\">Standard charsets</a>\n  * @version $Id$\n--- a/src/main/java/org/apache/commons/codec/digest/B64.java\n+++ b/src/main/java/org/apache/commons/codec/digest/B64.java\n  * Base64 like method to convert binary bytes into ASCII chars.\n  * \n  * TODO: Can Base64 be reused?\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @version $Id$\n  * @since 1.7\n--- a/src/main/java/org/apache/commons/codec/digest/Crypt.java\n+++ b/src/main/java/org/apache/commons/codec/digest/Crypt.java\n  * GNU libc crypt(3) compatible hash method.\n  * \n  * See {@link #crypt(String, String)} for further details.\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @version $Id$\n  * @since 1.7\n--- a/src/main/java/org/apache/commons/codec/digest/Md5Crypt.java\n+++ b/src/main/java/org/apache/commons/codec/digest/Md5Crypt.java\n  * The C style comments are from the original C code, the ones with \"//\" from the port.\n  * </p>\n  * \n+ * This class is immutable and thread-safe.\n+ * \n  * @version $Id$\n  * @since 1.7\n  */\n--- a/src/main/java/org/apache/commons/codec/digest/Sha2Crypt.java\n+++ b/src/main/java/org/apache/commons/codec/digest/Sha2Crypt.java\n  * Conversion to Kotlin and from there to Java in 2012 by Christian Hammers &lt;ch@lathspell.de&gt; and likewise put\n  * into the Public Domain.\n  * </p>\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @version $Id$\n  * @since 1.7\n--- a/src/main/java/org/apache/commons/codec/digest/UnixCrypt.java\n+++ b/src/main/java/org/apache/commons/codec/digest/UnixCrypt.java\n  *\n  * This class is slightly incompatible if the given salt contains characters\n  * that are not part of the allowed range [a-zA-Z0-9./].\n+ *\n+ * This class is immutable and thread-safe.\n  *\n  * @version $Id$\n  * @since 1.7\n             throw new IllegalArgumentException(\"Invalid salt value: \" + salt);\n         }\n \n-        for (; salt.length() < 2; salt = salt + \"A\");\n+        for (; salt.length() < 2; salt = salt + \"A\") {\n+            // NOOP\n+        }\n         StringBuilder buffer = new StringBuilder(\"             \");\n         char charZero = salt.charAt(0);\n         char charOne = salt.charAt(1);\n--- a/src/main/java/org/apache/commons/codec/language/AbstractCaverphone.java\n+++ b/src/main/java/org/apache/commons/codec/language/AbstractCaverphone.java\n  * \n  * This is an algorithm created by the Caversham Project at the University of Otago. It implements the Caverphone 2.0\n  * algorithm:\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @version $Id: Caverphone.java 1075947 2011-03-01 17:56:14Z ggregory $\n  * @see <a href=\"http://en.wikipedia.org/wiki/Caverphone\">Wikipedia - Caverphone</a>\n--- a/src/main/java/org/apache/commons/codec/language/Caverphone1.java\n+++ b/src/main/java/org/apache/commons/codec/language/Caverphone1.java\n  * @see <a href=\"http://en.wikipedia.org/wiki/Caverphone\">Wikipedia - Caverphone</a>\n  * @see <a href=\"http://caversham.otago.ac.nz/files/working/ctp060902.pdf\">Caverphone 1.0 specification</a>\n  * @since 1.5\n+ * \n+ * This class is immutable and thread-safe.\n  */\n public class Caverphone1 extends AbstractCaverphone {\n \n--- a/src/main/java/org/apache/commons/codec/language/Caverphone2.java\n+++ b/src/main/java/org/apache/commons/codec/language/Caverphone2.java\n  * @see <a href=\"http://en.wikipedia.org/wiki/Caverphone\">Wikipedia - Caverphone</a>\n  * @see <a href=\"http://caversham.otago.ac.nz/files/working/ctp150804.pdf\">Caverphone 2.0 specification</a>\n  * @since 1.5\n+ * \n+ * This class is immutable and thread-safe.\n  */\n public class Caverphone2 extends AbstractCaverphone {\n \n--- a/src/main/java/org/apache/commons/codec/language/ColognePhonetic.java\n+++ b/src/main/java/org/apache/commons/codec/language/ColognePhonetic.java\n  * \n  * </ul>\n  * \n+ * This class is thread-safe.\n+ * \n  * @see <a href=\"http://de.wikipedia.org/wiki/K%C3%B6lner_Phonetik\">Wikipedia (de): K&ouml;lner Phonetik (in German)</a>\n  * @since 1.5\n  */\n public class ColognePhonetic implements StringEncoder {\n \n+    /**\n+     * This class is not thread-safe; the field {@link #length} is mutable.\n+     * However, it is not shared between threads, as it is constructed on demand\n+     * by the method {@link ColognePhonetic#colognePhonetic(String)}\n+     */\n     private abstract class CologneBuffer {\n \n         protected final char[] data;\n--- a/src/main/java/org/apache/commons/codec/language/DoubleMetaphone.java\n+++ b/src/main/java/org/apache/commons/codec/language/DoubleMetaphone.java\n  * @see <a href=\"http://drdobbs.com/184401251?pgno=2\">Original Article</a>\n  * @see <a href=\"http://en.wikipedia.org/wiki/Metaphone\">http://en.wikipedia.org/wiki/Metaphone</a>\n  *\n+ * This class is conditionally thread-safe.\n+ * The instance field {@link #maxCodeLen} is mutable {@link #setMaxCodeLen(int)}\n+ * but is not volatile, and accesses are not synchronised.\n+ * If an instance of the class is shared between threads, the caller needs to ensure that suitable synchronisation\n+ * is used to ensure safe publication of the value between threads, and must not invoke {@link #setMaxCodeLen(int)}\n+ * after initial setup. \n+ * \n  * @version $Id$\n  */\n public class DoubleMetaphone implements StringEncoder {\n--- a/src/main/java/org/apache/commons/codec/language/Metaphone.java\n+++ b/src/main/java/org/apache/commons/codec/language/Metaphone.java\n  * They have had undocumented changes from the originally published algorithm. \n  * For more information, see <a href=\"https://issues.apache.org/jira/browse/CODEC-57\">CODEC-57</a>.\n  * </p>\n+ * \n+ * This class is conditionally thread-safe.\n+ * The instance field {@link #maxCodeLen} is mutable {@link #setMaxCodeLen(int)}\n+ * but is not volatile, and accesses are not synchronised.\n+ * If an instance of the class is shared between threads, the caller needs to ensure that suitable synchronisation\n+ * is used to ensure safe publication of the value between threads, and must not invoke {@link #setMaxCodeLen(int)}\n+ * after initial setup. \n  * \n  * @version $Id$\n  */\n--- a/src/main/java/org/apache/commons/codec/language/Nysiis.java\n+++ b/src/main/java/org/apache/commons/codec/language/Nysiis.java\n  * 9. Add original first character of name as first character of key\n  * </pre></p>\n  *\n+ * This class is immutable and thread-safe.\n+ * \n  * @see <a href=\"http://en.wikipedia.org/wiki/NYSIIS\">NYSIIS on Wikipedia</a>\n  * @see <a href=\"http://www.dropby.com/NYSIIS.html\">NYSIIS on dropby.com</a>\n  * @see Soundex\n--- a/src/main/java/org/apache/commons/codec/language/RefinedSoundex.java\n+++ b/src/main/java/org/apache/commons/codec/language/RefinedSoundex.java\n  * optimized for spell checking words. Soundex method originally developed by\n  * <CITE>Margaret Odell</CITE> and <CITE>Robert Russell</CITE>.\n  * \n+ * This class is immutable and thread-safe.\n+ * \n  * @version $Id$\n  */\n public class RefinedSoundex implements StringEncoder {\n--- a/src/main/java/org/apache/commons/codec/language/Soundex.java\n+++ b/src/main/java/org/apache/commons/codec/language/Soundex.java\n /**\n  * Encodes a string into a Soundex value. Soundex is an encoding used to relate similar names, but can also be used as a\n  * general purpose scheme to find word with similar phonemes.\n+ * \n+ * This class is thread-safe.\n+ * Although not strictly immutable, the {@link #maxLength} field is not actually used.\n  * \n  * @version $Id$\n  */\n--- a/src/main/java/org/apache/commons/codec/language/SoundexUtils.java\n+++ b/src/main/java/org/apache/commons/codec/language/SoundexUtils.java\n \n /**\n  * Utility methods for {@link Soundex} and {@link RefinedSoundex} classes.\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @version $Id$\n  * @since 1.3\n--- a/src/main/java/org/apache/commons/codec/language/bm/Languages.java\n+++ b/src/main/java/org/apache/commons/codec/language/bm/Languages.java\n  * </p>\n  * \n  * @since 1.6\n+ * \n+ * This class is immutable and thread-safe.\n  */\n public class Languages {\n     // Iimplementation note: This class is divided into two sections. The first part is a static factory interface that\n--- a/src/main/java/org/apache/commons/codec/language/bm/PhoneticEngine.java\n+++ b/src/main/java/org/apache/commons/codec/language/bm/PhoneticEngine.java\n      * matching rule was found, <code>phonemeBuilder</code> is replaced with a new buidler containing the phonemes\n      * updated by the matching rule.\n      *\n+     * Although this class is not thread-safe (it has mutable unprotected fields), it is not shared between threads\n+     * as it is constructed as needed by the calling methods.\n      * @since 1.6\n      */\n     private static final class RulesApplication {\n--- a/src/main/java/org/apache/commons/codec/language/bm/ResourceConstants.java\n+++ b/src/main/java/org/apache/commons/codec/language/bm/ResourceConstants.java\n /**\n  * Constants used to process resource files.\n  * \n+ * This class is immutable and thread-safe.\n+ * \n  * @since 1.6\n  */\n class ResourceConstants {\n--- a/src/main/java/org/apache/commons/codec/net/BCodec.java\n+++ b/src/main/java/org/apache/commons/codec/net/BCodec.java\n  * handling software.\n  * </p>\n  * \n+ * This class is immutable and thread-safe.\n+ * \n  * @see <a href=\"http://www.ietf.org/rfc/rfc1522.txt\">MIME (Multipurpose Internet Mail Extensions) Part Two: Message\n  *          Header Extensions for Non-ASCII Text</a>\n  * \n--- a/src/main/java/org/apache/commons/codec/net/QCodec.java\n+++ b/src/main/java/org/apache/commons/codec/net/QCodec.java\n  * text in various portions of a RFC 822 [2] message header, in a manner which is unlikely to confuse existing message\n  * handling software.\n  * </p>\n+ * \n+ * This class is conditionally thread-safe.\n+ * The instance field {@link #encodeBlanks} is mutable {@link #setEncodeBlanks(boolean)}\n+ * but is not volatile, and accesses are not synchronised.\n+ * If an instance of the class is shared between threads, the caller needs to ensure that suitable synchronisation\n+ * is used to ensure safe publication of the value between threads, and must not invoke {@link #setEncodeBlanks(boolean)}\n+ * after initial setup. \n  * \n  * @see <a href=\"http://www.ietf.org/rfc/rfc1522.txt\">MIME (Multipurpose Internet Mail Extensions) Part Two: Message\n  *          Header Extensions for Non-ASCII Text</a>\n--- a/src/main/java/org/apache/commons/codec/net/QuotedPrintableCodec.java\n+++ b/src/main/java/org/apache/commons/codec/net/QuotedPrintableCodec.java\n  * framework is ready. The motivation behind providing the codec in a partial form is that it can already come in handy\n  * for those applications that do not require quoted-printable line formatting (rules #3, #4, #5), for instance Q codec.\n  * </p>\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @see <a href=\"http://www.ietf.org/rfc/rfc1521.txt\"> RFC 1521 MIME (Multipurpose Internet Mail Extensions) Part One:\n  *          Mechanisms for Specifying and Describing the Format of Internet Message Bodies </a>\n--- a/src/main/java/org/apache/commons/codec/net/RFC1522Codec.java\n+++ b/src/main/java/org/apache/commons/codec/net/RFC1522Codec.java\n  * MIME (Multipurpose Internet Mail Extensions) Part Two:\n  * Message Header Extensions for Non-ASCII Text</a>\n  * </p>\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @since 1.3\n  * @version $Id$\n--- a/src/main/java/org/apache/commons/codec/net/URLCodec.java\n+++ b/src/main/java/org/apache/commons/codec/net/URLCodec.java\n  * on older Java platforms, as these classes in Java versions below \n  * 1.4 rely on the platform's default charset encoding.\n  * </p>\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @since 1.2\n  * @version $Id$\n--- a/src/main/java/org/apache/commons/codec/net/Utils.java\n+++ b/src/main/java/org/apache/commons/codec/net/Utils.java\n \n /**\n  * Utility methods for this package.\n+ * \n+ * This class is immutable and thread-safe.\n  * \n  * @version $Id$\n  * @since 1.4", "timestamp": 1336040471, "metainfo": ""}