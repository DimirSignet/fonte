{"sha": "fb41ecd7170303482bb50a5731d121110e15ea84", "log": "Refactor common code and complete test coverage (100%, see clover report).   ", "commit": "\n--- a/src/java/org/apache/commons/codec/digest/DigestUtils.java\n+++ b/src/java/org/apache/commons/codec/digest/DigestUtils.java\n import org.apache.commons.codec.binary.Hex;\n \n /**\n- * Operations to simplifiy common <code>MessageDigest</code> tasks.  This\n+ * Operations to simplifiy common {@link java.security.MessageDigest} tasks.  This\n  * class is thread safe.\n  *\n  * @author Dave Dribin\n  * @author David Graham\n+ * @author Gary Gregory\n  */\n public class DigestUtils {\n \n-\t/**\n-\t * Returns an MD5 MessageDigest.\n-\t *\n-\t * @return An MD5 digest instance.\n-\t */\n-\tprivate static MessageDigest getMd5Digest() {\n-\t\ttry {\n-\t\t\treturn MessageDigest.getInstance(\"MD5\");\n+    /**\n+     * Returns a MessageDigest for the given <code>algorithm</code>.\n+     *\n+     * @return An MD5 digest instance.\n+     * @throws RuntimeException when a {@link java.security.NoSuchAlgorithmException} is caught,\n+     */\n+    protected static MessageDigest getDigest(String algorithm) {\n+        try {\n+            return MessageDigest.getInstance(algorithm);\n+        } catch (NoSuchAlgorithmException e) {\n+            throw new RuntimeException(e.getMessage());\n+        }\n+    }\n \n-\t\t} catch (NoSuchAlgorithmException e) {\n-\t\t\tthrow new RuntimeException(e.getMessage());\n-\t\t}\n-\t}\n+    /**\n+     * Returns an MD5 MessageDigest.\n+     *\n+     * @return An MD5 digest instance.\n+     * @throws RuntimeException when a {@link java.security.NoSuchAlgorithmException} is caught,\n+     */\n+    private static MessageDigest getMd5Digest() {\n+        return getDigest(\"MD5\");\n+    }\n \n \t/**\n \t * Returns an SHA digest.\n \t *\n \t * @return An SHA digest instance.\n+     * @throws RuntimeException when a {@link java.security.NoSuchAlgorithmException} is caught,\n \t */\n \tprivate static MessageDigest getShaDigest() {\n-\t\ttry {\n-\t\t\treturn MessageDigest.getInstance(\"SHA\");\n-\n-\t\t} catch (NoSuchAlgorithmException e) {\n-\t\t\tthrow new RuntimeException(e.getMessage());\n-\t\t}\n+        return getDigest(\"SHA\");\n \t}\n \n \t/**", "timestamp": 1067832367, "metainfo": ""}