{"sha": "fd48c7cea91e4cc99e11c54206e0de227728eebe", "log": "[CODEC-168] Reported by Daniel Cassidy: Add DigestUtils.updateDigest(MessageDigest, InputStream). No need for additional tests as the method is used by Codec itself.  ", "commit": "\n--- a/src/main/java/org/apache/commons/codec/digest/DigestUtils.java\n+++ b/src/main/java/org/apache/commons/codec/digest/DigestUtils.java\n      *             On error reading from the stream\n      */\n     private static byte[] digest(final MessageDigest digest, final InputStream data) throws IOException {\n-        final byte[] buffer = new byte[STREAM_BUFFER_LENGTH];\n-        int read = data.read(buffer, 0, STREAM_BUFFER_LENGTH);\n-\n-        while (read > -1) {\n-            digest.update(buffer, 0, read);\n-            read = data.read(buffer, 0, STREAM_BUFFER_LENGTH);\n-        }\n-\n-        return digest.digest();\n+        return updateDigest(digest, data).digest();\n     }\n \n     /**\n     }\n \n     /**\n+     * Reads through an InputStream and updates the digest for the data\n+     *\n+     * @param digest\n+     *            The MessageDigest to use (e.g. MD5)\n+     * @param data\n+     *            Data to digest\n+     * @return MD5 digest\n+     * @throws IOException\n+     *             On error reading from the stream\n+     * @since 1.8             \n+     */\n+    public static MessageDigest updateDigest(final MessageDigest digest, final InputStream data) throws IOException {\n+        final byte[] buffer = new byte[STREAM_BUFFER_LENGTH];\n+        int read = data.read(buffer, 0, STREAM_BUFFER_LENGTH);\n+\n+        while (read > -1) {\n+            digest.update(buffer, 0, read);\n+            read = data.read(buffer, 0, STREAM_BUFFER_LENGTH);\n+        }\n+\n+        return digest;\n+    }\n+\n+    /**\n      * Updates the given {@link MessageDigest}.\n      *\n      * @param messageDigest", "timestamp": 1364624503, "metainfo": ""}