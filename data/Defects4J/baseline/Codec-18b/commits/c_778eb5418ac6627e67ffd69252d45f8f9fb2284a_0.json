{"sha": "778eb5418ac6627e67ffd69252d45f8f9fb2284a", "log": "Add methods from IO.  ", "commit": "\n--- a/src/main/java/org/apache/commons/codec/Charsets.java\n+++ b/src/main/java/org/apache/commons/codec/Charsets.java\n package org.apache.commons.codec;\n \n import java.nio.charset.Charset;\n+import java.nio.charset.UnsupportedCharsetException;\n \n /**\n  * Charsets required of every implementation of the Java platform.\n  * @version $Id: CharEncoding.java 1173287 2011-09-20 18:16:19Z ggregory $\n  */\n public class Charsets {\n+    \n     //\n     // This class should only contain Charset instances for required encodings. This guarantees that it will load correctly and\n     // without delay on all Java platforms.\n     //\n+    \n+    /**\n+     * Returns the given Charset or the default Charset if the given Charset is null. \n+     * \n+     * @param charset\n+     *            A charset or null.\n+     * @return the given Charset or the default Charset if the given Charset is null\n+     */\n+    public static Charset toCharset(Charset charset) {\n+        return charset == null ? Charset.defaultCharset() : charset;\n+    }\n+\n+    /**\n+     * Returns a Charset for the named charset. If the name is null, return the default Charset.\n+     * \n+     * @param charset\n+     *            The name of the requested charset, may be null.\n+     * @return a Charset for the named charset\n+     * @throws UnsupportedCharsetException\n+     *             If the named charset is unavailable\n+     */\n+    public static Charset toCharset(String charset) {\n+        return charset == null ? Charset.defaultCharset() : Charset.forName(charset);\n+    }\n+\n     /**\n      * CharEncodingISO Latin Alphabet No. 1, a.k.a. ISO-LATIN-1. </p>\n      * <p>\n--- a/src/test/java/org/apache/commons/codec/CharsetsTest.java\n+++ b/src/test/java/org/apache/commons/codec/CharsetsTest.java\n \n package org.apache.commons.codec;\n \n+import java.nio.charset.Charset;\n+\n import junit.framework.Assert;\n \n import org.junit.Test;\n  * @version $Id: CharEncodingTest.java 1298985 2012-03-09 19:12:49Z ggregory $\n  */\n public class CharsetsTest {\n+\n+    @Test\n+    public void testToCharset() {\n+        Assert.assertEquals(Charset.defaultCharset(), Charsets.toCharset((String) null));\n+        Assert.assertEquals(Charset.defaultCharset(), Charsets.toCharset((Charset) null));\n+        Assert.assertEquals(Charset.defaultCharset(), Charsets.toCharset(Charset.defaultCharset()));\n+        Assert.assertEquals(Charset.forName(\"UTF-8\"), Charsets.toCharset(Charset.forName(\"UTF-8\")));\n+    }\n \n     @Test\n     public void testIso8859_1() {", "timestamp": 1333131738, "metainfo": ""}