{"sha": "4a6c36401518a45a709ade671d442e061138d3ec", "log": "Add test for values() array  ", "commit": "\n--- a/src/test/java/org/apache/commons/codec/digest/MessageDigestAlgorithmsTest.java\n+++ b/src/test/java/org/apache/commons/codec/digest/MessageDigestAlgorithmsTest.java\n import java.io.ByteArrayInputStream;\n import java.io.File;\n import java.io.IOException;\n+import java.lang.reflect.Field;\n+import java.lang.reflect.Modifier;\n import java.nio.ByteBuffer;\n import java.security.MessageDigest;\n import java.security.NoSuchAlgorithmException;\n+\n import org.junit.After;\n import org.junit.Assert;\n import org.junit.Assume;\n import org.junit.Before;\n+import org.junit.BeforeClass;\n import org.junit.Test;\n import org.junit.runner.RunWith;\n import org.junit.runners.Parameterized;\n     @Parameters(name = \"{0}\")\n     public static Object[] data() {\n         return MessageDigestAlgorithms.values();\n+    }\n+\n+    private static boolean contains(String key) {\n+        for(String s : MessageDigestAlgorithms.values()) {\n+            if (s.equals(key)) {\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+\n+    @BeforeClass\n+    public static void checkValues() throws Exception {\n+        Field [] fields = MessageDigestAlgorithms.class.getDeclaredFields();\n+        boolean ok = true;\n+        int psf = 0;\n+        for(Field f : fields) {\n+            // Only interested in public fields\n+            final int modifiers = f.getModifiers();\n+            if (Modifier.isPublic(modifiers) && Modifier.isStatic(modifiers) && Modifier.isFinal(modifiers)) {\n+                psf++;\n+                if (!contains((String) f.get(null))) {\n+                    System.out.println(\"Not found in MessageDigestAlgorithms.values(): \"+f.getName());\n+                    ok = false;\n+                }\n+            }\n+        }\n+        if (!ok) {\n+            Assert.fail(\"One or more entries are missing from the MessageDigestAlgorithms.values() array\");\n+        }\n+        if (psf != MessageDigestAlgorithms.values().length) {\n+            Assert.fail(\"One or more unexpected entries found in the MessageDigestAlgorithms.values() array\");\n+        }\n     }\n \n     private DigestUtilsTest digestUtilsTest;", "timestamp": 1463570778, "metainfo": ""}