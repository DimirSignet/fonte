{"sha": "b7832d438495a0cd2c14ccf663f6f1d465fc1551", "log": "Applying Sebb's patch from CODEC-71, improving the memory consumption of isArrayByteBase64(). I've also deprecated the discardWhitespace method as nothing uses it now  ", "commit": "\n--- a/src/java/org/apache/commons/codec/binary/Base64.java\n+++ b/src/java/org/apache/commons/codec/binary/Base64.java\n      *         empty; false, otherwise\n      */\n     public static boolean isArrayByteBase64(byte[] arrayOctet) {\n-\n-        arrayOctet = discardWhitespace(arrayOctet);\n-\n-        int length = arrayOctet.length;\n-        if (length == 0) {\n-             return true;\n-        }\n-        for (int i = 0; i < length; i++) {\n-            if (!isBase64(arrayOctet[i])) {\n+        for (int i = 0; i < arrayOctet.length; i++) {\n+            if (!isBase64(arrayOctet[i]) && !isWhiteSpace(arrayOctet[i])) {\n                 return false;\n             }\n         }\n      * @param data\n      *            The base-64 encoded data to discard the whitespace from.\n      * @return The data, less whitespace (see RFC 2045).\n+     * @deprecated This method is no longer needed\n      */\n     static byte[] discardWhitespace(byte[] data) {\n         byte groomedData[] = new byte[data.length];\n         return packedData;\n     }\n \n+\n+    /**\n+     * Check if a byte value is whitespace or not.\n+     * \n+     * @param byteToCheck the byte to check\n+     * @return true if byte is whitespace, false otherwise\n+     */\n+    private static boolean isWhiteSpace(byte byteToCheck){\n+        switch (byteToCheck) {\n+        case ' ' :\n+        case '\\n' :\n+        case '\\r' :\n+        case '\\t' :\n+            return true;\n+        default :\n+            return false;\n+        }\n+    }\n+\n     /**\n      * Discards any characters outside of the base64 alphabet, per the requirements on page 25 of RFC 2045 - \"Any\n      * characters outside of the base64 alphabet are to be ignored in base64 encoded data.\"", "timestamp": 1214887141, "metainfo": ""}