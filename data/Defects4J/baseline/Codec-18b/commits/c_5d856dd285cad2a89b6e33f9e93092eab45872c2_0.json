{"sha": "5d856dd285cad2a89b6e33f9e93092eab45872c2", "log": "Addresses issue 37894.  Order of static initialization causes an NPE when trying to use static US_ENGLISH in Soundex. Issue was found by Reggie Riser.  ", "commit": "\n--- a/src/java/org/apache/commons/codec/language/Soundex.java\n+++ b/src/java/org/apache/commons/codec/language/Soundex.java\n public class Soundex implements StringEncoder {\n \n     /**\n-     * An instance of Soundex using the US_ENGLISH_MAPPING mapping.\n-     * \n-     * @see #US_ENGLISH_MAPPING\n-     */\n-    public static final Soundex US_ENGLISH = new Soundex();\n-\n-    /**\n      * This is a default mapping of the 26 letters used in US English. A value of <code>0</code> for a letter position\n      * means do not encode.\n      * <p>\n      * @see Soundex#Soundex(char[])\n      */\n     public static final char[] US_ENGLISH_MAPPING = US_ENGLISH_MAPPING_STRING.toCharArray();\n+\n+    /**\n+     * An instance of Soundex using the US_ENGLISH_MAPPING mapping.\n+     * \n+     * @see #US_ENGLISH_MAPPING\n+     */\n+    public static final Soundex US_ENGLISH = new Soundex();\n+\n \n     /**\n      * Encodes the Strings and returns the number of characters in the two encoded Strings that are the same. This\n--- a/src/test/org/apache/commons/codec/language/SoundexTest.java\n+++ b/src/test/org/apache/commons/codec/language/SoundexTest.java\n             // expected\n         }\n     }\n+    \n+    // This test fails.\n+    public void testUsEnglishStatic()\n+    {\n+        assertEquals( Soundex.US_ENGLISH.soundex( \"Williams\" ), \"W452\" );\n+    }\n+\n+    // This test succeeds.\n+    public void testNewInstance()\n+    {\n+        assertEquals( new Soundex().soundex( \"Williams\" ), \"W452\" );\n+    }\n }", "timestamp": 1136663856, "metainfo": ""}