{"sha": "369282db85567f1bf2c9635d0c0043d47f114814", "log": "Removing useless members variables. (Alan) R=robert DELTA=4  (0 added, 4 deleted, 0 changed)  Fix broken process_closure_primitives flag. (Nick) Fixes issue 130. R=robert DELTA=11  (7 added, 2 deleted, 2 changed)  Revision created by MOE tool push_codebase. MOE_MIGRATION=   ", "commit": "\n--- a/src/com/google/javascript/jscomp/CodingConvention.java\n+++ b/src/com/google/javascript/jscomp/CodingConvention.java\n  * Compiler for a specific team/company.\n  *\n  * // TODO(bolinfest): Tighten up this interface -- it is far too big.\n- *\n+ * \n *\n *\n  */\n \n   static class SubclassRelationship {\n     final SubclassType type;\n-    final Node subclassNode;\n-    final Node superclassNode;\n     final String subclassName;\n     final String superclassName;\n \n     SubclassRelationship(SubclassType type,\n         Node subclassNode, Node superclassNode) {\n       this.type = type;\n-      this.subclassNode = subclassNode;\n-      this.superclassNode = superclassNode;\n       this.subclassName = subclassNode.getQualifiedName();\n       this.superclassName = superclassNode.getQualifiedName();\n     }\n--- a/src/com/google/javascript/jscomp/CommandLineRunner.java\n+++ b/src/com/google/javascript/jscomp/CommandLineRunner.java\n     for (FormattingOption formattingOption : flags.formatting) {\n       formattingOption.applyToOptions(options);\n     }\n-    if (flags.process_closure_primitives) {\n-      options.closurePass = true;\n-    }\n-\n+\n+    options.closurePass = flags.process_closure_primitives;\n     initOptionsFromFlags(options);\n     return options;\n   }\n--- a/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n+++ b/test/com/google/javascript/jscomp/CommandLineRunnerTest.java\n     testSame(\"/** @type { not a type name } */ var x;\");\n   }\n \n+  public void testProcessClosurePrimitives() {\n+    test(\"var goog = {}; goog.provide('goog.dom');\",\n+         \"var goog = {}; goog.dom = {};\");\n+    args.add(\"--process_closure_primitives=false\");\n+    testSame(\"var goog = {}; goog.provide('goog.dom');\");\n+  }\n+\n   //////////////////////////////////////////////////////////////////////////////\n   // Integration tests\n ", "timestamp": 1269391259, "metainfo": ""}