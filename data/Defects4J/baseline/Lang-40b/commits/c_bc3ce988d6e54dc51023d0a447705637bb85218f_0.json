{"sha": "bc3ce988d6e54dc51023d0a447705637bb85218f", "log": "Add IS_OS_UNIX to SystemUtils from Rafal Krupinski   ", "commit": "\n--- a/src/java/org/apache/commons/lang/SystemUtils.java\n+++ b/src/java/org/apache/commons/lang/SystemUtils.java\n  * @author Gary Gregory\n  * @author Michael Becke\n  * @author Tetsuya Kaneuchi\n+ * @author Rafal Krupinski\n  * @since 1.0\n- * @version $Id: SystemUtils.java,v 1.23 2003/08/22 16:34:06 ggregory Exp $\n+ * @version $Id: SystemUtils.java,v 1.24 2003/10/07 20:59:46 scolebourne Exp $\n  */\n public class SystemUtils {\n \n      * @since 2.0\n      */\n     public static final boolean IS_OS_SUN_OS = getOSMatches(\"SunOS\");\n+\n+    /**\n+     * <p>Is <code>true</code> if this is POSIX compilant system,\n+     * ie. any of AIX, HP-UX, Irix, Linux, MacOSX, Solaris or SUN OS.</p>\n+     *\n+     * <p>The field will return <code>false</code> if <code>OS_NAME</code> is\n+     * <code>null</code>.</p>\n+     * \n+     * @since 2.1\n+     */\n+    public static final boolean IS_OS_UNIX =\n+        IS_OS_AIX || IS_OS_HP_UX || IS_OS_IRIX || IS_OS_LINUX ||\n+        IS_OS_MAC_OSX || IS_OS_SOLARIS || IS_OS_SUN_OS;\n \n     /**\n      * <p>Is <code>true</code> if this is Windows.</p>\n--- a/src/test/org/apache/commons/lang/SystemUtilsTest.java\n+++ b/src/test/org/apache/commons/lang/SystemUtilsTest.java\n  *\n  * @author Stephen Colebourne\n  * @author Tetsuya Kaneuchi\n- * @version $Id: SystemUtilsTest.java,v 1.6 2003/08/18 02:22:25 bayard Exp $\n+ * @version $Id: SystemUtilsTest.java,v 1.7 2003/10/07 20:59:46 scolebourne Exp $\n  */\n public class SystemUtilsTest extends TestCase {\n \n         String osName = System.getProperty(\"os.name\");\n         if (osName == null) {\n             assertEquals(false, SystemUtils.IS_OS_WINDOWS);\n+            assertEquals(false, SystemUtils.IS_OS_UNIX);\n             assertEquals(false, SystemUtils.IS_OS_SOLARIS);\n             assertEquals(false, SystemUtils.IS_OS_LINUX);\n             assertEquals(false, SystemUtils.IS_OS_MAC_OSX);\n         } else if (osName.startsWith(\"Windows\")) {\n-            assertTrue(SystemUtils.IS_OS_WINDOWS);\n+            assertEquals(false, SystemUtils.IS_OS_UNIX);\n+            assertEquals(true, SystemUtils.IS_OS_WINDOWS);\n         } else if (osName.startsWith(\"Solaris\")) {\n-            assertTrue(SystemUtils.IS_OS_SOLARIS);\n+            assertEquals(true, SystemUtils.IS_OS_SOLARIS);\n+            assertEquals(true, SystemUtils.IS_OS_UNIX);\n+            assertEquals(false, SystemUtils.IS_OS_WINDOWS);\n         } else if (osName.toLowerCase().startsWith(\"linux\")) {\n-            assertTrue(SystemUtils.IS_OS_LINUX);\n+            assertEquals(true, SystemUtils.IS_OS_LINUX);\n+            assertEquals(true, SystemUtils.IS_OS_UNIX);\n+            assertEquals(false, SystemUtils.IS_OS_WINDOWS);\n         } else if (osName.startsWith(\"Mac OS X\")) {\n-            assertTrue(SystemUtils.IS_OS_MAC_OSX);\n+            assertEquals(true, SystemUtils.IS_OS_MAC_OSX);\n+            assertEquals(true, SystemUtils.IS_OS_UNIX);\n+            assertEquals(false, SystemUtils.IS_OS_WINDOWS);\n         } else if (osName.startsWith(\"OS/2\")) {\n-            assertTrue(SystemUtils.IS_OS_OS2);\n+            assertEquals(true, SystemUtils.IS_OS_OS2);\n+            assertEquals(false, SystemUtils.IS_OS_UNIX);\n+            assertEquals(false, SystemUtils.IS_OS_WINDOWS);\n         } else if (osName.startsWith(\"SunOS\")) {\n-            assertTrue(SystemUtils.IS_OS_SUN_OS);\n+            assertEquals(true, SystemUtils.IS_OS_SUN_OS);\n+            assertEquals(true, SystemUtils.IS_OS_UNIX);\n+            assertEquals(false, SystemUtils.IS_OS_WINDOWS);\n         } else {\n             System.out.println(\"Can't test IS_OS value\");\n         }", "timestamp": 1065560386, "metainfo": ""}