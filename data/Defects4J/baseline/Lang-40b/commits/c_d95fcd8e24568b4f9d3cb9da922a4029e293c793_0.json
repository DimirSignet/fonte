{"sha": "d95fcd8e24568b4f9d3cb9da922a4029e293c793", "log": "Applying Vincent Behar's second patch for LANG-419 - fixing a bug in abbreviate such that lower limits greater than the length of the string weren't working correctly  ", "commit": "\n--- a/src/java/org/apache/commons/lang/WordUtils.java\n+++ b/src/java/org/apache/commons/lang/WordUtils.java\n             return StringUtils.EMPTY;\n         }\n \n+        // if the lower value is greater than the length of the string,\n+        // set to the length of the string\n+        if (lower > str.length()) {\n+            lower = str.length();    \n+        }\n         // if the upper value is -1 (i.e. no limit) or is greater\n         // than the length of the string, set to the length of the string\n         if (upper == -1 || upper > str.length()) {\n--- a/src/test/org/apache/commons/lang/WordUtilsTest.java\n+++ b/src/test/org/apache/commons/lang/WordUtilsTest.java\n         assertEquals(\"01234\", WordUtils.abbreviate(\"01234 56789\", 5, 10, null));\n         assertEquals(\"01 23 45 67\", WordUtils.abbreviate(\"01 23 45 67 89\", 9, -1, null));\n         assertEquals(\"01 23 45 6\", WordUtils.abbreviate(\"01 23 45 67 89\", 9, 10, null));\n+        assertEquals(\"0123456789\", WordUtils.abbreviate(\"0123456789\", 15, 20, null));\n \n         // test lower value + append\n         assertEquals(\"012\", WordUtils.abbreviate(\"012 3456789\", 0,5, null));", "timestamp": 1210483082, "metainfo": ""}