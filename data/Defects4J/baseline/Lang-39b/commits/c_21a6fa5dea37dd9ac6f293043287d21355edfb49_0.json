{"sha": "21a6fa5dea37dd9ac6f293043287d21355edfb49", "log": "Applying Dave Meikle's patch to LANG-333; adding a toClass(Object[]);Class[] method to ArrayUtils  ", "commit": "\n--- a/src/java/org/apache/commons/lang/ArrayUtils.java\n+++ b/src/java/org/apache/commons/lang/ArrayUtils.java\n         \n         return result;\n     }\n-    \n+\n+    /**\n+     * <p>Converts an array of <code>Object</code> in to an Array of <code>Class</code> objects.</p>\n+     *\n+     * <p>This method returns <code>null</code> for a <code>null</code> input array.</p>\n+     *\n+     * @param array an <code>Object</code> array\n+     * @return a <code>Class</code> array, <code>null</code> if null array input\n+     */\n+    public static Class[] toClass(Object[] array)\n+    {\n+        if (array == null) {\n+            return null;\n+        } else if (array.length == 0) {\n+            return EMPTY_CLASS_ARRAY;\n+        }\n+        Class[] classes = new Class[array.length];\n+        for (int i = 0; i < array.length; i++) {\n+            classes[i] = array[i].getClass();\n+        }\n+        return classes;\n+    }\n+\n }\n--- a/src/test/org/apache/commons/lang/ArrayUtilsTest.java\n+++ b/src/test/org/apache/commons/lang/ArrayUtilsTest.java\n                 new double[] { Double.MIN_VALUE, Double.MAX_VALUE, 9999999 })));\n     }\n \n+    public void testToClass_object() {\n+        assertEquals(null, ArrayUtils.toClass(null));\n+\n+        assertSame(\n+            ArrayUtils.EMPTY_CLASS_ARRAY,\n+            ArrayUtils.toClass(new Class[0]));\n+\n+        Object[] array = new Object[3];\n+        array[0] = new String(\"Test\");\n+        array[1] = new Integer(1);\n+        array[2] = new Double(99);\n+\n+        Class[] results = ArrayUtils.toClass(array);\n+        assertEquals(\"String\", results[0].getSimpleName());\n+        assertEquals(\"Integer\", results[1].getSimpleName());\n+        assertEquals(\"Double\", results[2].getSimpleName());\n+    }\n+\n     //-----------------------------------------------------------------------\n     /**\n      * Test for {@link ArrayUtils#isEmpty(java.lang.Object[])}.", "timestamp": 1194921528, "metainfo": ""}