{"sha": "8ef5603f7cf212f6bcc5b8b81083c6d6d6ab8334", "log": "Fixed indentation/tabs. Eclipse wasn't setup right I guess  ", "commit": "\n--- a/src/java/org/apache/commons/lang/builder/ToStringStyle.java\n+++ b/src/java/org/apache/commons/lang/builder/ToStringStyle.java\n            appendCyclicObject(buffer, fieldName, value);\n            return;\n         }   \n-           register(value);\n-try {\n-        if (value instanceof Collection) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (Collection) value);\n+\n+        register(value);\n+\n+        try {\n+            if (value instanceof Collection) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (Collection) value);\n+                } else {\n+                    appendSummarySize(buffer, fieldName, ((Collection) value).size());\n+                }\n+    \n+            } else if (value instanceof Map) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (Map) value);\n+                } else {\n+                    appendSummarySize(buffer, fieldName, ((Map) value).size());\n+                }\n+    \n+            } else if (value instanceof long[]) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (long[]) value);\n+                } else {\n+                    appendSummary(buffer, fieldName, (long[]) value);\n+                }\n+    \n+            } else if (value instanceof int[]) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (int[]) value);\n+                } else {\n+                    appendSummary(buffer, fieldName, (int[]) value);\n+                }\n+    \n+            } else if (value instanceof short[]) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (short[]) value);\n+                } else {\n+                    appendSummary(buffer, fieldName, (short[]) value);\n+                }\n+    \n+            } else if (value instanceof byte[]) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (byte[]) value);\n+                } else {\n+                    appendSummary(buffer, fieldName, (byte[]) value);\n+                }\n+    \n+            } else if (value instanceof char[]) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (char[]) value);\n+                } else {\n+                    appendSummary(buffer, fieldName, (char[]) value);\n+                }\n+    \n+            } else if (value instanceof double[]) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (double[]) value);\n+                } else {\n+                    appendSummary(buffer, fieldName, (double[]) value);\n+                }\n+    \n+            } else if (value instanceof float[]) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (float[]) value);\n+                } else {\n+                    appendSummary(buffer, fieldName, (float[]) value);\n+                }\n+    \n+            } else if (value instanceof boolean[]) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (boolean[]) value);\n+                } else {\n+                    appendSummary(buffer, fieldName, (boolean[]) value);\n+                }\n+    \n+            } else if (value.getClass().isArray()) {\n+                if (detail) {\n+                    appendDetail(buffer, fieldName, (Object[]) value);\n+                } else {\n+                    appendSummary(buffer, fieldName, (Object[]) value);\n+                }\n+    \n             } else {\n-                appendSummarySize(buffer, fieldName, ((Collection) value).size());\n+                    if (detail) {\n+                        appendDetail(buffer, fieldName, value);\n+                    } else {\n+                        appendSummary(buffer, fieldName, value);\n+                    }\n             }\n-\n-        } else if (value instanceof Map) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (Map) value);\n-            } else {\n-                appendSummarySize(buffer, fieldName, ((Map) value).size());\n-            }\n-\n-        } else if (value instanceof long[]) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (long[]) value);\n-            } else {\n-                appendSummary(buffer, fieldName, (long[]) value);\n-            }\n-\n-        } else if (value instanceof int[]) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (int[]) value);\n-            } else {\n-                appendSummary(buffer, fieldName, (int[]) value);\n-            }\n-\n-        } else if (value instanceof short[]) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (short[]) value);\n-            } else {\n-                appendSummary(buffer, fieldName, (short[]) value);\n-            }\n-\n-        } else if (value instanceof byte[]) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (byte[]) value);\n-            } else {\n-                appendSummary(buffer, fieldName, (byte[]) value);\n-            }\n-\n-        } else if (value instanceof char[]) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (char[]) value);\n-            } else {\n-                appendSummary(buffer, fieldName, (char[]) value);\n-            }\n-\n-        } else if (value instanceof double[]) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (double[]) value);\n-            } else {\n-                appendSummary(buffer, fieldName, (double[]) value);\n-            }\n-\n-        } else if (value instanceof float[]) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (float[]) value);\n-            } else {\n-                appendSummary(buffer, fieldName, (float[]) value);\n-            }\n-\n-        } else if (value instanceof boolean[]) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (boolean[]) value);\n-            } else {\n-                appendSummary(buffer, fieldName, (boolean[]) value);\n-            }\n-\n-        } else if (value.getClass().isArray()) {\n-            if (detail) {\n-                appendDetail(buffer, fieldName, (Object[]) value);\n-            } else {\n-                appendSummary(buffer, fieldName, (Object[]) value);\n-            }\n-\n-        } else {\n-                if (detail) {\n-                    appendDetail(buffer, fieldName, value);\n-                } else {\n-                    appendSummary(buffer, fieldName, value);\n-                }\n-        }\n-            } finally {\n-                unregister(value);\n-            }\n+        } finally {\n+            unregister(value);\n+        }\n     }\n     \n     /**\n      */\n     protected void appendClassName(StringBuffer buffer, Object object) {\n         if (useClassName && object != null) {\n-        \tregister(object);\n+            register(object);\n             if (useShortClassName) {\n                 buffer.append(getShortClassName(object.getClass()));\n             } else {\n      */\n     protected void appendIdentityHashCode(StringBuffer buffer, Object object) {\n         if (this.isUseIdentityHashCode() && object!=null) {\n-        \tregister(object);\n+            register(object);\n             buffer.append('@');\n             buffer.append(Integer.toHexString(System.identityHashCode(object)));\n         }", "timestamp": 1169882039, "metainfo": ""}