{"sha": "56d9bb88e5dc419921fe2ae84e11288f05d1e26a", "log": "[LANG-407] StringUtils.length(String) returns null-safe length.  ", "commit": "\n--- a/src/java/org/apache/commons/lang/StringUtils.java\n+++ b/src/java/org/apache/commons/lang/StringUtils.java\n         }\n     }\n \n+    /**\n+     * Gets a String's length or <code>0</code> if the String is <code>null</code>.\n+     * \n+     * @param str\n+     *            a String or <code>null</code>\n+     * @return String length or <code>0</code> if the String is <code>null</code>.\n+     * @since 2.4\n+     */\n+    public static int length(String str) {\n+        return str == null ? 0 : str.length();\n+    }\n+    \n     // Centering\n     //-----------------------------------------------------------------------\n     /**\n--- a/src/test/org/apache/commons/lang/StringUtilsTest.java\n+++ b/src/test/org/apache/commons/lang/StringUtilsTest.java\n         assertEquals(\"  abc\", StringUtils.leftPad(\"abc\", 5, \"\"));\n     }\n \n+    public void testLength() {\n+        assertEquals(0, StringUtils.length(null));\n+        assertEquals(0, StringUtils.length(\"\"));\n+        assertEquals(0, StringUtils.length(StringUtils.EMPTY));\n+        assertEquals(1, StringUtils.length(\"A\"));\n+        assertEquals(1, StringUtils.length(\" \"));\n+        assertEquals(8, StringUtils.length(\"ABCDEFGH\"));\n+    }\n+    \n     //-----------------------------------------------------------------------\n     public void testCenter_StringInt() {\n         assertEquals(null, StringUtils.center(null, -1));\n     public void testEMPTY() {\n         assertNotNull(StringUtils.EMPTY);\n         assertEquals(\"\", StringUtils.EMPTY);\n+        assertEquals(0, StringUtils.EMPTY.length());\n     }\n     \n     public void testRemoveStart() {", "timestamp": 1202272376, "metainfo": ""}