{"sha": "7fb0551bb91ef0ea82c2e82b26fc37022f4194e9", "log": "Don't inline a caught exception into a function.  R=johnlenz DELTA=9  (8 added, 0 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=2462   ", "commit": "\n--- a/src/com/google/javascript/jscomp/OptimizeParameters.java\n+++ b/src/com/google/javascript/jscomp/OptimizeParameters.java\n           return false;\n         } else {\n           Var v = s.getVar(n.getString());\n-          if (v != null && v.isLocal()) {\n+          // Make sure that the variable is global. A caught exception, while\n+          // it is in the global scope object in the compiler, it is not a\n+          // global variable.\n+          if (v != null &&\n+              (v.isLocal() ||\n+               v.nameNode.getParent().getType() == Token.CATCH)) {\n             return false;\n           }\n         }\n--- a/test/com/google/javascript/jscomp/OptimizeParametersTest.java\n+++ b/test/com/google/javascript/jscomp/OptimizeParametersTest.java\n         \"foo()\");\n   }\n \n+  public void testGlobalCatch() {\n+    testSame(\"function foo(a) {} try {} catch (e) {foo(e)}\");\n+  }\n }", "timestamp": 1309457005, "metainfo": ""}