{"sha": "1836235ce62e69f7d91432005eec9c3924d1aa1e", "log": "Add a way to suppress both const vars and properties at once  R=zhuyi DELTA=24  (24 added, 0 deleted, 0 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=2009   ", "commit": "\n--- a/src/com/google/javascript/jscomp/DiagnosticGroups.java\n+++ b/src/com/google/javascript/jscomp/DiagnosticGroups.java\n           CheckSideEffects.USELESS_CODE_ERROR,\n           CheckUnreachableCode.UNREACHABLE_CODE);\n \n+  public static DiagnosticGroup CONST =\n+      DiagnosticGroups.registerGroup(\"const\",\n+          CheckAccessControls.CONST_PROPERTY_REASSIGNED_VALUE,\n+          ConstCheck.CONST_REASSIGNED_VALUE_ERROR);\n+\n   public static DiagnosticGroup TYPE_INVALIDATION =\n     DiagnosticGroups.registerGroup(\"typeInvalidation\",\n         DisambiguateProperties.Warnings.INVALIDATION);\n--- a/test/com/google/javascript/jscomp/CheckAccessControlsTest.java\n+++ b/test/com/google/javascript/jscomp/CheckAccessControlsTest.java\n         \" */ function B() {\" +\n         \"/** @const */ this.bar = 3;this.bar += 4;}\");\n   }\n+\n+  public void testSuppressConstantProperty2() {\n+    testSame(\"/** @constructor */ function A() {\" +\n+        \"/** @const */ this.bar = 3;}\" +\n+        \"/**\\n\" +\n+        \" * @suppress {const}\\n\" +\n+        \" * @constructor\\n\" +\n+        \" */ function B() {\" +\n+        \"/** @const */ this.bar = 3;this.bar += 4;}\");\n+  }\n }\n--- a/test/com/google/javascript/jscomp/ConstCheckTest.java\n+++ b/test/com/google/javascript/jscomp/ConstCheckTest.java\n     testError(\"/** @const */ var xyz = 1; xyz = 3;\");\n   }\n \n+  public void testConstSuppression() {\n+    testSame(\"/**\\n\" +\n+             \" * @fileoverview\\n\" +\n+             \" * @suppress {const}\\n\" +\n+             \" */\\n\" +\n+             \"/** @const */ var xyz = 1; xyz = 3;\");\n+  }\n+\n   private void testError(String js) {\n     test(js, null, ConstCheck.CONST_REASSIGNED_VALUE_ERROR);\n   }", "timestamp": 1306291636, "metainfo": ""}