{"sha": "aa63078a6842c23d816f189e13e6a5acec6b61b5", "log": "Using ArrayUtils.isEmpty() when testing arrays.   ", "commit": "\n--- a/src/java/org/apache/commons/lang/ArrayUtils.java\n+++ b/src/java/org/apache/commons/lang/ArrayUtils.java\n  * @author <a href=\"mailto:equinus100@hotmail.com\">Ashwin S</a>\n  * @author Fredrik Westermarck\n  * @since 2.0\n- * @version $Id: ArrayUtils.java,v 1.32 2004/01/19 21:50:06 fredrik Exp $\n+ * @version $Id: ArrayUtils.java,v 1.33 2004/01/19 23:24:07 fredrik Exp $\n  */\n public class ArrayUtils {\n \n      *  <code>-1</code> if not found or <code>null</code> array input\n      */\n     public static int indexOf(final double[] array, final double valueToFind, int startIndex) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             return -1;\n         }\n         if (startIndex < 0) {\n      *  <code>-1</code> if not found or <code>null</code> array input\n      */\n     public static int indexOf(final double[] array, final double valueToFind, int startIndex, double tolerance) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             return -1;\n         }\n         if (startIndex < 0) {\n      *  <code>-1</code> if not found or <code>null</code> array input\n      */\n     public static int lastIndexOf(final double[] array, final double valueToFind, int startIndex) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             return -1;\n         }\n         if (startIndex < 0) {\n      *  <code>-1</code> if not found or <code>null</code> array input\n      */\n     public static int lastIndexOf(final double[] array, final double valueToFind, int startIndex, double tolerance) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             return -1;\n         }\n         if (startIndex < 0) {\n      *  <code>-1</code> if not found or <code>null</code> array input\n      */\n     public static int indexOf(final float[] array, final float valueToFind, int startIndex) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             return -1;\n         }\n         if (startIndex < 0) {\n      *  <code>-1</code> if not found or <code>null</code> array input\n      */\n     public static int lastIndexOf(final float[] array, final float valueToFind, int startIndex) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             return -1;\n         }\n         if (startIndex < 0) {\n      *  <code>-1</code> if not found or <code>null</code> array input\n      */\n     public static int indexOf(final boolean[] array, final boolean valueToFind, int startIndex) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             return -1;\n         }\n         if (startIndex < 0) {\n      *  <code>-1</code> if not found or <code>null</code> array input\n      */\n     public static int lastIndexOf(final boolean[] array, final boolean valueToFind, int startIndex) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             return -1;\n         }\n         if (startIndex < 0) {\n--- a/src/java/org/apache/commons/lang/CharSetUtils.java\n+++ b/src/java/org/apache/commons/lang/CharSetUtils.java\n /* ====================================================================\n  * The Apache Software License, Version 1.1\n  *\n- * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * Copyright (c) 2002-2004 The Apache Software Foundation.  All rights\n  * reserved.\n  *\n  * Redistribution and use in source and binary forms, with or without\n  * @author Phil Steitz\n  * @author Gary Gregory\n  * @since 1.0\n- * @version $Id: CharSetUtils.java,v 1.29 2003/11/04 21:16:34 fredrik Exp $\n+ * @version $Id: CharSetUtils.java,v 1.30 2004/01/19 23:24:07 fredrik Exp $\n  */\n public class CharSetUtils {\n \n      * @return modified String, <code>null</code> if null string input\n      */\n     public static String squeeze(String str, String[] set) {\n-        if (StringUtils.isEmpty(str) || set == null || set.length == 0) {\n+        if (StringUtils.isEmpty(str) || ArrayUtils.isEmpty(set)) {\n             return str;\n         }\n         CharSet chars = evaluateSet(set);\n      * @return character count, zero if null string input\n      */\n     public static int count(String str, String[] set) {\n-        if (StringUtils.isEmpty(str) || set == null || set.length == 0) {\n+        if (StringUtils.isEmpty(str) || ArrayUtils.isEmpty(set)) {\n             return 0;\n         }\n         CharSet chars = evaluateSet(set);\n         if (str == null) {\n             return null;\n         }\n-        if (str.length() == 0 || set == null || set.length == 0) {\n+        if (str.length() == 0 || ArrayUtils.isEmpty(set)) {\n             return \"\";\n         }\n         return modify(str, set, true);\n      * @return modified String, <code>null</code> if null string input\n      */\n     public static String delete(String str, String[] set) {\n-        if (StringUtils.isEmpty(str) || set == null || set.length == 0) {\n+        if (StringUtils.isEmpty(str) || ArrayUtils.isEmpty(set)) {\n             return str;\n         }\n         return modify(str, set, false);\n--- a/src/java/org/apache/commons/lang/Validate.java\n+++ b/src/java/org/apache/commons/lang/Validate.java\n /* ====================================================================\n  * The Apache Software License, Version 1.1\n  *\n- * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * Copyright (c) 2002-2004 The Apache Software Foundation.  All rights\n  * reserved.\n  *\n  * Redistribution and use in source and binary forms, with or without\n  * @author Stephen Colebourne\n  * @author Gary Gregory\n  * @since 2.0\n- * @version $Id: Validate.java,v 1.6 2003/08/23 10:39:20 scolebourne Exp $\n+ * @version $Id: Validate.java,v 1.7 2004/01/19 23:24:07 fredrik Exp $\n  */\n public class Validate {\n     \n      * @throws IllegalArgumentException if the array is empty\n      */\n     public static void notEmpty(Object[] array, String message) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             throw new IllegalArgumentException(message);\n         }\n     }\n      * @throws IllegalArgumentException if the array is empty\n      */\n     public static void notEmpty(Object[] array) {\n-        if (array == null || array.length == 0) {\n+        if (ArrayUtils.isEmpty(array)) {\n             throw new IllegalArgumentException(\"The validated array is empty\");\n         }\n     }", "timestamp": 1074554647, "metainfo": ""}