{"sha": "ef800725c14905bd0743ee675fa820f8819f16ce", "log": "PR: http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21021. Reduce object creation in ToStringBuilder. Applied the patch in spirit but not in detail since I used \"BooleanUtils.toBooleanObject(fullDetail)\" instead of \"fullDetail ? Boolean.TRUE : Boolean.FALSE\" to reduce code duplication.   ", "commit": "\n--- a/src/java/org/apache/commons/lang/builder/ToStringBuilder.java\n+++ b/src/java/org/apache/commons/lang/builder/ToStringBuilder.java\n  * <http://www.apache.org/>.\n  */\n package org.apache.commons.lang.builder;\n+\n+import org.apache.commons.lang.BooleanUtils;\n \n /**\n  * <p>Builds <code>toString()</code> values.</p>\n  * @author Stephen Colebourne\n  * @author Gary Gregory\n  * @since 1.0\n- * @version $Id: ToStringBuilder.java,v 1.22 2003/06/03 03:51:56 ggregory Exp $\n+ * @version $Id: ToStringBuilder.java,v 1.23 2003/06/23 17:04:39 ggregory Exp $\n  */\n public class ToStringBuilder {\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, boolean[] array, boolean fullDetail) {\n-        style.append(buffer, fieldName, array, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, array, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, byte[] array, boolean fullDetail) {\n-        style.append(buffer, fieldName, array, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, array, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, char[] array, boolean fullDetail) {\n-        style.append(buffer, fieldName, array, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, array, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, double[] array, boolean fullDetail) {\n-        style.append(buffer, fieldName, array, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, array, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, float[] array, boolean fullDetail) {\n-        style.append(buffer, fieldName, array, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, array, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, int[] array, boolean fullDetail) {\n-        style.append(buffer, fieldName, array, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, array, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, long[] array, boolean fullDetail) {\n-        style.append(buffer, fieldName, array, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, array, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, Object object, boolean fullDetail) {\n-        style.append(buffer, fieldName, object, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, object, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, Object[] array, boolean fullDetail) {\n-        style.append(buffer, fieldName, array, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, array, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n \n      * @return this\n      */\n     public ToStringBuilder append(String fieldName, short[] array, boolean fullDetail) {\n-        style.append(buffer, fieldName, array, new Boolean(fullDetail));\n+        style.append(buffer, fieldName, array, BooleanUtils.toBooleanObject(fullDetail));\n         return this;\n     }\n ", "timestamp": 1056387879, "metainfo": ""}