{"sha": "0433425ef67c56f0385665b124caaca8d929c27e", "log": "Preserve time zone when converting to Calendar.   ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/AbstractInstant.java\n+++ b/JodaTime/src/java/org/joda/time/AbstractInstant.java\n         if (locale == null) {\n             locale = Locale.getDefault();\n         }\n-        Calendar cal = Calendar.getInstance(locale);\n+        DateTimeZone zone = getDateTimeZone();\n+        Calendar cal;\n+        if (zone == null) {\n+            cal = Calendar.getInstance(locale);\n+        } else {\n+            cal = Calendar.getInstance(zone.toTimeZone(), locale);\n+        }\n         cal.setTime(toDate());\n         return cal;\n     }\n      * @return a GregorianCalendar initialised with this datetime\n      */\n     public final GregorianCalendar toGregorianCalendar() {\n-        GregorianCalendar cal = new GregorianCalendar();\n+        DateTimeZone zone = getDateTimeZone();\n+        GregorianCalendar cal;\n+        if (zone == null) {\n+            cal = new GregorianCalendar();\n+        } else {\n+            cal = new GregorianCalendar(zone.toTimeZone());\n+        }\n         cal.setTime(toDate());\n         return cal;\n     }", "timestamp": 1078006248, "metainfo": ""}