{"sha": "c196026b6845b678d16b5b84a2efc979391907f3", "log": "Add DateTime.Property withMaximumValue/withMinimumValue   ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/DateMidnight.java\n+++ b/JodaTime/src/java/org/joda/time/DateMidnight.java\n \n         //-----------------------------------------------------------------------\n         /**\n+         * Returns a new DateMidnight with this field set to the maximum value\n+         * for this field.\n+         * <p>\n+         * This operation is useful for obtaining a DateTime on the last day\n+         * of the month, as month lengths vary.\n+         * <pre>\n+         * DateMidnight lastDayOfMonth = dt.dayOfMonth().withMaximumValue();\n+         * </pre>\n+         * <p>\n+         * The DateMidnight attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the DateMidnight with this field set to its maximum\n+         */\n+        public DateMidnight withMaximumValue() {\n+            return setCopy(getMaximumValue());\n+        }\n+        \n+        /**\n+         * Returns a new DateMidnight with this field set to the minimum value\n+         * for this field.\n+         * <p>\n+         * The DateMidnight attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the DateMidnight with this field set to its minimum\n+         */\n+        public DateMidnight withMinimumValue() {\n+            return setCopy(getMinimumValue());\n+        }\n+        \n+        //-----------------------------------------------------------------------\n+        /**\n          * Rounds to the lowest whole unit of this field on a copy of this DateMidnight.\n          *\n          * @return a copy of the DateMidnight with the field value changed\n--- a/JodaTime/src/java/org/joda/time/DateTime.java\n+++ b/JodaTime/src/java/org/joda/time/DateTime.java\n         \n         //-----------------------------------------------------------------------\n         /**\n+         * Returns a new DateTime with this field set to the maximum value\n+         * for this field.\n+         * <p>\n+         * This operation is useful for obtaining a DateTime on the last day\n+         * of the month, as month lengths vary.\n+         * <pre>\n+         * DateTime lastDayOfMonth = dt.dayOfMonth().withMaximumValue();\n+         * </pre>\n+         * <p>\n+         * The DateTime attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the DateTime with this field set to its maximum\n+         */\n+        public DateTime withMaximumValue() {\n+            return setCopy(getMaximumValue());\n+        }\n+        \n+        /**\n+         * Returns a new DateTime with this field set to the minimum value\n+         * for this field.\n+         * <p>\n+         * The DateTime attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the DateTime with this field set to its minimum\n+         */\n+        public DateTime withMinimumValue() {\n+            return setCopy(getMinimumValue());\n+        }\n+        \n+        //-----------------------------------------------------------------------\n+        /**\n          * Rounds to the lowest whole unit of this field on a copy of this DateTime.\n          *\n          * @return a copy of the DateTime with the field value changed\n--- a/JodaTime/src/java/org/joda/time/Partial.java\n+++ b/JodaTime/src/java/org/joda/time/Partial.java\n         public Partial setCopy(String text) {\n             return setCopy(text, null);\n         }\n+\n+        //-----------------------------------------------------------------------\n+        /**\n+         * Returns a new Partial with this field set to the maximum value\n+         * for this field.\n+         * <p>\n+         * The Partial attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the Partial with this field set to its maximum\n+         */\n+        public Partial withMaximumValue() {\n+            return setCopy(getMaximumValue());\n+        }\n+\n+        /**\n+         * Returns a new Partial with this field set to the minimum value\n+         * for this field.\n+         * <p>\n+         * The Partial attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the Partial with this field set to its minimum\n+         */\n+        public Partial withMinimumValue() {\n+            return setCopy(getMinimumValue());\n+        }\n     }\n \n }\n--- a/JodaTime/src/java/org/joda/time/TimeOfDay.java\n+++ b/JodaTime/src/java/org/joda/time/TimeOfDay.java\n         public TimeOfDay setCopy(String text) {\n             return setCopy(text, null);\n         }\n+\n+        //-----------------------------------------------------------------------\n+        /**\n+         * Returns a new TimeOfDay with this field set to the maximum value\n+         * for this field.\n+         * <p>\n+         * The TimeOfDay attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the TimeOfDay with this field set to its maximum\n+         */\n+        public TimeOfDay withMaximumValue() {\n+            return setCopy(getMaximumValue());\n+        }\n+\n+        /**\n+         * Returns a new TimeOfDay with this field set to the minimum value\n+         * for this field.\n+         * <p>\n+         * The TimeOfDay attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the TimeOfDay with this field set to its minimum\n+         */\n+        public TimeOfDay withMinimumValue() {\n+            return setCopy(getMinimumValue());\n+        }\n     }\n \n }\n--- a/JodaTime/src/java/org/joda/time/YearMonthDay.java\n+++ b/JodaTime/src/java/org/joda/time/YearMonthDay.java\n         public YearMonthDay setCopy(String text) {\n             return setCopy(text, null);\n         }\n+\n+        //-----------------------------------------------------------------------\n+        /**\n+         * Returns a new YearMonthDay with this field set to the maximum value\n+         * for this field.\n+         * <p>\n+         * This operation is useful for obtaining a DateTime on the last day\n+         * of the month, as month lengths vary.\n+         * <pre>\n+         * YearMonthDay lastDayOfMonth = dt.dayOfMonth().withMaximumValue();\n+         * </pre>\n+         * <p>\n+         * The YearMonthDay attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the YearMonthDay with this field set to its maximum\n+         */\n+        public YearMonthDay withMaximumValue() {\n+            return setCopy(getMaximumValue());\n+        }\n+\n+        /**\n+         * Returns a new YearMonthDay with this field set to the minimum value\n+         * for this field.\n+         * <p>\n+         * The YearMonthDay attached to this property is unchanged by this call.\n+         *\n+         * @return a copy of the YearMonthDay with this field set to its minimum\n+         */\n+        public YearMonthDay withMinimumValue() {\n+            return setCopy(getMinimumValue());\n+        }\n     }\n \n }\n--- a/JodaTime/src/test/org/joda/time/TestDateMidnight_Properties.java\n+++ b/JodaTime/src/test/org/joda/time/TestDateMidnight_Properties.java\n         assertEquals(null, test.dayOfMonth().getLeapDurationField());\n     }\n \n+    public void testPropertyWithMaximumValueDayOfMonth() {\n+        DateMidnight test = new DateMidnight(2004, 6, 9);\n+        DateMidnight copy = test.dayOfMonth().withMaximumValue();\n+        assertEquals(\"2004-06-09T00:00:00.000+01:00\", test.toString());\n+        assertEquals(\"2004-06-30T00:00:00.000+01:00\", copy.toString());\n+    }\n+\n+    public void testPropertyWithMinimumValueDayOfMonth() {\n+        DateMidnight test = new DateMidnight(2004, 6, 9);\n+        DateMidnight copy = test.dayOfMonth().withMinimumValue();\n+        assertEquals(\"2004-06-09T00:00:00.000+01:00\", test.toString());\n+        assertEquals(\"2004-06-01T00:00:00.000+01:00\", copy.toString());\n+    }\n+\n     //-----------------------------------------------------------------------\n     public void testPropertyGetDayOfYear() {\n         // 31+29+31+30+31+9 = 161\n--- a/JodaTime/src/test/org/joda/time/TestDateTime_Properties.java\n+++ b/JodaTime/src/test/org/joda/time/TestDateTime_Properties.java\n         assertEquals(\"2004-06-12T00:00:00.000+01:00\", copy.toString());\n     }\n \n+    public void testPropertyWithMaximumValueDayOfMonth() {\n+        DateTime test = new DateTime(2004, 6, 9, 0, 0, 0, 0);\n+        DateTime copy = test.dayOfMonth().withMaximumValue();\n+        assertEquals(\"2004-06-09T00:00:00.000+01:00\", test.toString());\n+        assertEquals(\"2004-06-30T00:00:00.000+01:00\", copy.toString());\n+    }\n+\n+    public void testPropertyWithMinimumValueDayOfMonth() {\n+        DateTime test = new DateTime(2004, 6, 9, 0, 0, 0, 0);\n+        DateTime copy = test.dayOfMonth().withMinimumValue();\n+        assertEquals(\"2004-06-09T00:00:00.000+01:00\", test.toString());\n+        assertEquals(\"2004-06-01T00:00:00.000+01:00\", copy.toString());\n+    }\n+\n     public void testPropertyCompareToDayOfMonth() {\n         DateTime test1 = new DateTime(TEST_TIME1);\n         DateTime test2 = new DateTime(TEST_TIME2);\n--- a/JodaTime/src/test/org/joda/time/TestPartial_Properties.java\n+++ b/JodaTime/src/test/org/joda/time/TestPartial_Properties.java\n         check(copy, 12, 20, 30, 40);\n     }\n \n+    public void testPropertyWithMaximumValueHour() {\n+        Partial test = new Partial(TYPES, VALUES);\n+        Partial copy = test.property(DateTimeFieldType.hourOfDay()).withMaximumValue();\n+        check(test, 10, 20, 30, 40);\n+        check(copy, 23, 20, 30, 40);\n+    }\n+\n+    public void testPropertyWithMinimumValueHour() {\n+        Partial test = new Partial(TYPES, VALUES);\n+        Partial copy = test.property(DateTimeFieldType.hourOfDay()).withMinimumValue();\n+        check(test, 10, 20, 30, 40);\n+        check(copy, 0, 20, 30, 40);\n+    }\n+\n     public void testPropertyCompareToHour() {\n         Partial test1 = new Partial(TYPES, VALUES1);\n         Partial test2 = new Partial(TYPES, VALUES2);\n--- a/JodaTime/src/test/org/joda/time/TestTimeOfDay_Properties.java\n+++ b/JodaTime/src/test/org/joda/time/TestTimeOfDay_Properties.java\n         check(copy, 12, 20, 30, 40);\n     }\n \n+    public void testPropertyWithMaximumValueHour() {\n+        TimeOfDay test = new TimeOfDay(10, 20, 30, 40);\n+        TimeOfDay copy = test.hourOfDay().withMaximumValue();\n+        check(test, 10, 20, 30, 40);\n+        check(copy, 23, 20, 30, 40);\n+    }\n+\n+    public void testPropertyWithMinimumValueHour() {\n+        TimeOfDay test = new TimeOfDay(10, 20, 30, 40);\n+        TimeOfDay copy = test.hourOfDay().withMinimumValue();\n+        check(test, 10, 20, 30, 40);\n+        check(copy, 0, 20, 30, 40);\n+    }\n+\n     public void testPropertyCompareToHour() {\n         TimeOfDay test1 = new TimeOfDay(TEST_TIME1);\n         TimeOfDay test2 = new TimeOfDay(TEST_TIME2);\n--- a/JodaTime/src/test/org/joda/time/TestYearMonthDay_Properties.java\n+++ b/JodaTime/src/test/org/joda/time/TestYearMonthDay_Properties.java\n         check(copy, 1972, 6, 12);\n     }\n \n+    public void testPropertyWithMaximumValueDayOfMonth() {\n+        YearMonthDay test = new YearMonthDay(1972, 6, 9);\n+        YearMonthDay copy = test.dayOfMonth().withMaximumValue();\n+        check(test, 1972, 6, 9);\n+        check(copy, 1972, 6, 30);\n+    }\n+\n+    public void testPropertyWithMinimumValueDayOfMonth() {\n+        YearMonthDay test = new YearMonthDay(1972, 6, 9);\n+        YearMonthDay copy = test.dayOfMonth().withMinimumValue();\n+        check(test, 1972, 6, 9);\n+        check(copy, 1972, 6, 1);\n+    }\n+\n     public void testPropertyCompareToDay() {\n         YearMonthDay test1 = new YearMonthDay(TEST_TIME1);\n         YearMonthDay test2 = new YearMonthDay(TEST_TIME2);", "timestamp": 1130020782, "metainfo": ""}