{"sha": "b74427cc5ec5a56733c76e71a3005db4bb8e86bd", "log": "Removable of the last bits of old Rhino that we aren't using.  R=acleung DELTA=298  (1 added, 282 deleted, 15 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=3670   ", "commit": "\n--- a/src/com/google/javascript/rhino/SimpleErrorReporter.java\n+++ b/src/com/google/javascript/rhino/SimpleErrorReporter.java\n     }\n \n     private String formatDetailedMessage(\n-        String message, String sourceName, int line, String lineSource,\n+        String message, String sourceName, int lineNumber, String lineSource,\n         int lineOffset) {\n-        RhinoException e = new RhinoException(message);\n-        if (sourceName != null) {\n-          e.initSourceName(sourceName);\n-        }\n-        if (lineSource != null) {\n-          e.initLineSource(lineSource);\n-        }\n-        if (line > 0) {\n-          e.initLineNumber(line);\n-        }\n-        if (lineOffset > 0) {\n-          e.initColumnNumber(lineOffset);\n-        }\n-        return e.getMessage();\n+      String details = message;\n+      if (sourceName == null || lineNumber <= 0) {\n+        return details;\n+      }\n+      StringBuilder buf = new StringBuilder(details);\n+      buf.append(\" (\");\n+      if (sourceName != null) {\n+        buf.append(sourceName);\n+      }\n+      if (lineNumber > 0) {\n+        buf.append('#');\n+        buf.append(lineNumber);\n+      }\n+      buf.append(')');\n+      return buf.toString();\n     }\n }", "timestamp": 1320862031, "metainfo": ""}