{"sha": "a6d1f79dbe86e77ea02f308a467617e04378d607", "log": "Don't add window scope to javascript builtin objects in RescopeGlobalSymbols compiler pass. Adding this scope makes the code unnecessarily larger and can have a large negative performance impact (in particular on code that makes heavy use of Math). ------------- Created by MOE: http://code.google.com/p/moe-java MOE_MIGRATED_REVID=46636841", "commit": "\n--- a/src/com/google/javascript/jscomp/RescopeGlobalSymbols.java\n+++ b/src/com/google/javascript/jscomp/RescopeGlobalSymbols.java\n   private static final String DISAMBIGUATION_SUFFIX = \"$\";\n   private static final String WINDOW = \"window\";\n   private static final Set<String> SPECIAL_EXTERNS =\n-      ImmutableSet.of(WINDOW, \"eval\", \"arguments\");\n+      ImmutableSet.of(WINDOW, \"eval\", \"arguments\",\n+          // The javascript built-in objects (listed in Ecma 262 section 4.2)\n+          \"Object\", \"Function\", \"Array\", \"String\", \"Boolean\", \"Number\", \"Math\",\n+          \"Date\", \"RegExp\", \"JSON\", \"Error\", \"EvalError\", \"ReferenceError\",\n+          \"SyntaxError\", \"TypeError\", \"URIError\");\n \n   private final AbstractCompiler compiler;\n   private final String globalSymbolNamespace;\n--- a/test/com/google/javascript/jscomp/RescopeGlobalSymbolsTest.java\n+++ b/test/com/google/javascript/jscomp/RescopeGlobalSymbolsTest.java\n     test(\"\",\n         \"document\",\n         \"window.document\", null, null);\n+    // Javascript builtin objects\n+    test(\"Object;Function;Array;String;Boolean;Number;Math;\" +\n+        \"Date;RegExp;JSON;Error;EvalError;ReferenceError;\" +\n+        \"SyntaxError;TypeError;URIError;\",\n+        \"Object;Function;Array;String;Boolean;Number;Math;\" +\n+        \"Date;RegExp;JSON;Error;EvalError;ReferenceError;\" +\n+        \"SyntaxError;TypeError;URIError;\");\n   }\n \n   private class StringCompare extends CompilerTestCase {", "timestamp": 1368581577, "metainfo": ""}