{"sha": "ab19f92156b25dda0ec354a198bf25190887eca0", "log": "Force recompile in ant task Contributed by jamesots Fixes issue 619  R=johnlenz DELTA=10  (9 added, 0 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=4106   ", "commit": "\n--- a/src/com/google/javascript/jscomp/ant/CompileTask.java\n+++ b/src/com/google/javascript/jscomp/ant/CompileTask.java\n   private boolean printInputDelimiter;\n   private boolean generateExports;\n   private boolean replaceProperties;\n+  private boolean forceRecompile;\n   private String replacePropertiesPrefix;\n   private File outputFile;\n   private final List<Parameter> defineParams;\n     this.printInputDelimiter = false;\n     this.generateExports = false;\n     this.replaceProperties = false;\n+    this.forceRecompile = false;\n     this.replacePropertiesPrefix = \"closure.define.\";\n     this.defineParams = Lists.newLinkedList();\n     this.externFileLists = Lists.newLinkedList();\n   }\n \n   /**\n+   * Set force recompile option\n+   */\n+  public void setForceRecompile(boolean forceRecompile) {\n+    this.forceRecompile = forceRecompile;\n+  }\n+\n+  /**\n    * Set generateExports option\n    */\n   public void setGenerateExports(boolean generateExports) {\n     JSSourceFile[] externs = findExternFiles();\n     JSSourceFile[] sources = findSourceFiles();\n \n-    if (isStale()) {\n+    if (isStale() || forceRecompile) {\n       log(\"Compiling \" + sources.length + \" file(s) with \" +\n           externs.length + \" extern(s)\");\n ", "timestamp": 1326992592, "metainfo": ""}