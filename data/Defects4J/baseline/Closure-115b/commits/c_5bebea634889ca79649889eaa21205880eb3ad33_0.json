{"sha": "5bebea634889ca79649889eaa21205880eb3ad33", "log": "what was i thinking? i was right the first time. union(?, *) == *  R=johnlenz DELTA=6  (2 added, 2 deleted, 2 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=337   ", "commit": "\n--- a/src/com/google/javascript/rhino/jstype/UnionTypeBuilder.java\n+++ b/src/com/google/javascript/rhino/jstype/UnionTypeBuilder.java\n    * type, return null.\n    */\n   private JSType reduceAlternatesWithoutUnion() {\n-    if (isNativeUnknownType) {\n+    if (isAllType) {\n+      return registry.getNativeType(ALL_TYPE);\n+    } else if (isNativeUnknownType) {\n       if (areAllUnknownsChecked) {\n         return registry.getNativeType(CHECKED_UNKNOWN_TYPE);\n       } else {\n         return registry.getNativeType(UNKNOWN_TYPE);\n       }\n-    } else if (isAllType) {\n-      return registry.getNativeType(ALL_TYPE);\n     } else {\n       int size = alternates.size();\n       if (size > MAX_UNION_SIZE) {\n--- a/test/com/google/javascript/rhino/jstype/JSTypeTest.java\n+++ b/test/com/google/javascript/rhino/jstype/JSTypeTest.java\n     // getLeastSupertype\n     assertTypeEquals(ALL_TYPE,\n         ALL_TYPE.getLeastSupertype(ALL_TYPE));\n-    assertTypeEquals(UNKNOWN_TYPE,\n+    assertTypeEquals(ALL_TYPE,\n         ALL_TYPE.getLeastSupertype(UNKNOWN_TYPE));\n     assertTypeEquals(ALL_TYPE,\n         ALL_TYPE.getLeastSupertype(STRING_OBJECT_TYPE));", "timestamp": 1295643664, "metainfo": ""}