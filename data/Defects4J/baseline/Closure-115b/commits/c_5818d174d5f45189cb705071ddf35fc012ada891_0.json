{"sha": "5818d174d5f45189cb705071ddf35fc012ada891", "log": "Always do an AST validation sanity check.  R=acleung DELTA=11  (10 added, 0 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=1487   ", "commit": "\n--- a/src/com/google/javascript/jscomp/DefaultPassConfig.java\n+++ b/src/com/google/javascript/jscomp/DefaultPassConfig.java\n       passes.add(operaCompoundAssignFix);\n     }\n \n-    // Safety check\n+    // Safety checks\n+    passes.add(sanityCheckAst);\n     if (options.checkSymbols) {\n       passes.add(sanityCheckVars);\n     }\n   };\n \n   /** Checks that all variables are defined. */\n+  private final PassFactory sanityCheckAst =\n+      new PassFactory(\"sanityCheckAst\", true) {\n+    @Override\n+    protected CompilerPass createInternal(AbstractCompiler compiler) {\n+      return new AstValidator();\n+    }\n+  };\n+\n+  /** Checks that all variables are defined. */\n   private final PassFactory sanityCheckVars =\n       new PassFactory(\"sanityCheckVars\", true) {\n     @Override", "timestamp": 1302812873, "metainfo": ""}