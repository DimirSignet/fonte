{"sha": "c556f119588c5a2d1ece64ec6e897fbcf593827d", "log": "better error recovery when sorting sources  R=johnlenz DELTA=13  (11 added, 0 deleted, 2 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=3982   ", "commit": "\n--- a/src/com/google/javascript/jscomp/Compiler.java\n+++ b/src/com/google/javascript/jscomp/Compiler.java\n         } catch (CircularDependencyException e) {\n           report(JSError.make(\n               JSModule.CIRCULAR_DEPENDENCY_ERROR, e.getMessage()));\n-          return null;\n+\n+          // If in IDE mode, we ignore the error and keep going.\n+          if (hasErrors()) {\n+            return null;\n+          }\n         } catch (MissingProvideException e) {\n           report(JSError.make(\n               MISSING_ENTRY_ERROR, e.getMessage()));\n-          return null;\n+\n+          // If in IDE mode, we ignore the error and keep going.\n+          if (hasErrors()) {\n+            return null;\n+          }\n         }\n       }\n \n--- a/test/com/google/javascript/jscomp/CompilerTest.java\n+++ b/test/com/google/javascript/jscomp/CompilerTest.java\n     assertEquals(compiler.externAndJsRoot, compiler.jsRoot.getParent());\n     assertEquals(compiler.externAndJsRoot, compiler.externsRoot.getParent());\n     assertNotNull(compiler.externAndJsRoot);\n+\n+    Node jsRoot = compiler.jsRoot;\n+    assertEquals(3, jsRoot.getChildCount());\n   }\n \n   public void testLocalUndefined() throws Exception {", "timestamp": 1323914321, "metainfo": ""}