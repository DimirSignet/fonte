{"sha": "ee8344091722c28c9351e78dcb4155fbfddfd1af", "log": "Codepoint U+007f should not appear raw in output Fixes issue 416 http://code.google.com/p/closure-compiler/issues/detail?id=416  R=johnlenz DELTA=7  (6 added, 0 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=1489   ", "commit": "\n--- a/src/com/google/javascript/jscomp/CodeGenerator.java\n+++ b/src/com/google/javascript/jscomp/CodeGenerator.java\n             // No charsetEncoder provided - pass straight latin characters\n             // through, and escape the rest.  Doing the explicit character\n             // check is measurably faster than using the CharsetEncoder.\n-            if (c > 0x1f && c <= 0x7f) {\n+            if (c > 0x1f && c < 0x7f) {\n               sb.append(c);\n             } else {\n               // Other characters can be misinterpreted by some js parsers,\n--- a/test/com/google/javascript/jscomp/CodePrinterTest.java\n+++ b/test/com/google/javascript/jscomp/CodePrinterTest.java\n     assertPrint(\"var x ='\\\\x00';\", \"var x=\\\"\\\\0\\\"\");\n     assertPrint(\"var x ='\\\\u0000';\", \"var x=\\\"\\\\0\\\"\");\n   }\n+\n+  public void testUnicode() {\n+    assertPrint(\"var x ='\\\\x0f';\", \"var x=\\\"\\\\u000f\\\"\");\n+    assertPrint(\"var x ='\\\\x68';\", \"var x=\\\"h\\\"\");\n+    assertPrint(\"var x ='\\\\x7f';\", \"var x=\\\"\\\\u007f\\\"\");\n+  }\n }", "timestamp": 1302883854, "metainfo": ""}