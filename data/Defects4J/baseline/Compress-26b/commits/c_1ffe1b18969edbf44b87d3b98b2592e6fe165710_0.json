{"sha": "1ffe1b18969edbf44b87d3b98b2592e6fe165710", "log": "parse last modification date from PAX headers if present.  COMPRESS-182  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveInputStream.java\n     private void applyPaxHeadersToCurrentEntry(Map<String, String> headers) {\n         /*\n          * The following headers are defined for Pax.\n-         * atime, ctime, mtime, charset: cannot use these without changing TarArchiveEntry fields\n+         * atime, ctime, charset: cannot use these without changing TarArchiveEntry fields\n+         * mtime\n          * comment\n          * gid, gname\n          * linkpath\n          * size\n          * uid,uname\n+         * SCHILY.devminor, SCHILY.devmajor: don't have setters/getters for those\n          */\n         for (Entry<String, String> ent : headers.entrySet()){\n             String key = ent.getKey();\n                 currEntry.setUserName(val);\n             } else if (\"size\".equals(key)){\n                 currEntry.setSize(Long.parseLong(val));\n+            } else if (\"mtime\".equals(key)){\n+                currEntry.setModTime((long) (Double.parseDouble(val) * 1000));\n+            /* currently not settable\n+            } else if (\"SCHILY.devminor\".equals(key)){\n+                currEntry.setMinor(Integer.parseInt(val));\n+            } else if (\"SCHILY.devmajor\".equals(key)){\n+                currEntry.setMajor(Integer.parseInt(val));\n+            */\n             }\n         }\n     }\n--- a/src/test/java/org/apache/commons/compress/archivers/tar/TarArchiveInputStreamTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/tar/TarArchiveInputStreamTest.java\n \n     @Test\n     public void datePriorToEpochInGNUFormat() throws Exception {\n-        URL tar = getClass().getResource(\"/preepoch-gnu.tar\");\n+        datePriorToEpoch(\"/preepoch-gnu.tar\");\n+    }\n+\n+\n+    @Test\n+    public void datePriorToEpochInPAXFormat() throws Exception {\n+        datePriorToEpoch(\"/preepoch-posix.tar\");\n+    }\n+\n+    private void datePriorToEpoch(String archive) throws Exception {\n+        URL tar = getClass().getResource(archive);\n         TarArchiveInputStream in = null;\n         try {\n             in = new TarArchiveInputStream(new FileInputStream(new File(new URI(tar.toString()))));", "timestamp": 1330847208, "metainfo": ""}