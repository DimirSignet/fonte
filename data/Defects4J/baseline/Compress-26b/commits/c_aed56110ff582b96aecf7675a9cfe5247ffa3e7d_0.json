{"sha": "aed56110ff582b96aecf7675a9cfe5247ffa3e7d", "log": "COMPRESS-264 make sure the very first read operation actually fills the ByteBuffer  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStream.java\n         in = new PushbackInputStream(inputStream, buf.capacity());\n         this.allowStoredEntriesWithDataDescriptor =\n             allowStoredEntriesWithDataDescriptor;\n+        // haven't read anything so far\n+        buf.limit(0);\n     }\n \n     public ZipArchiveEntry getNextZipEntry() throws IOException {\n--- a/src/test/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStreamTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStreamTest.java\n      * <a href=\"https://issues.apache.org/jira/browse/COMPRESS-264\"\n      * >COMPRESS-264</a>.\n      */\n-    //@Test\n-    public void testCompress264() throws Exception {\n+    @Test\n+    public void testReadingOfFirstStoredEntry() throws Exception {\n         ZipArchiveInputStream in = new ZipArchiveInputStream(new FileInputStream(getFile(\"COMPRESS-264.zip\")));\n         \n         try {\n--- a/src/test/java/org/apache/commons/compress/archivers/zip/ZipFileTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/zip/ZipFileTest.java\n      * <a href=\"https://issues.apache.org/jira/browse/COMPRESS-264\"\n      * >COMPRESS-264</a>.\n      */\n-    public void testCompress264() throws Exception {\n+    public void testReadingOfFirstStoredEntry() throws Exception {\n         File archive = getFile(\"COMPRESS-264.zip\");\n         zf = new ZipFile(archive);\n         ZipArchiveEntry ze = zf.getEntry(\"test.txt\");", "timestamp": 1392992472, "metainfo": ""}