{"sha": "a1015f312480c697c8dbc2772e4076eb15e41406", "log": "properly count bytes read.  COMPRESS-74  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStream.java\n                     throw new EOFException(\n                             \"Truncated ZIP entry: \" + current.getName());\n                 } else {\n+                    count(n);\n                     remaining -= n;\n                 }\n             }\n             if ((diff = bytesReadFromStream - inB) != 0) {\n                 ((PushbackInputStream) in).unread(\n                         buf,  lengthOfLastRead - diff, diff);\n+                pushedBackBytes(diff);\n             }\n         }\n \n             throw new IOException(\"The stream is closed\");\n         }\n         if ((lengthOfLastRead = in.read(buf)) > 0) {\n+            count(lengthOfLastRead);\n             inf.setInput(buf, 0, lengthOfLastRead);\n         }\n     }\n             if (x == -1) {\n                 throw new EOFException();\n             }\n+            count(x);\n         }\n     }\n }", "timestamp": 1266509473, "metainfo": ""}