{"sha": "fc425ae267e72bc741c5ccfd9816b9f5ed69cd30", "log": "Oops, forgot to change check for initial value when the default changed Add some Javadoc  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveOutputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveOutputStream.java\n  * CpioArchiveOutputStream out = new CpioArchiveOutputStream(\n  *         new FileOutputStream(new File(\"test.cpio\")));\n  * CpioArchiveEntry entry = new CpioArchiveEntry();\n- * entry.setName(&quot;testfile&quot;);\n+ * entry.setName(\"testfile\");\n  * String contents = &quot;12345&quot;;\n  * entry.setFileSize(contents.length());\n+ * entry.setMode(CpioConstants.C_ISREG); // regular file\n+ * ... set other attributes, e.g. time, number of links\n  * out.putNextEntry(entry);\n  * out.write(testContents.getBytes());\n  * out.close();\n         }\n \n         final short format = e.getFormat();\n-        if (format == -1) {\n+        if (format == 0) {// Not yet initialised\n             e.setFormat(this.entryFormat);\n         } else if (format != this.entryFormat){\n             throw new IOException(\"Header format: \"+format+\" does not match existing format: \"+this.entryFormat);", "timestamp": 1238102633, "metainfo": ""}