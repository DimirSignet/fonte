{"sha": "cc734856258ae520272b23eef2aba057ccf9cd3b", "log": "add time/mode handling tests for arj  ", "commit": "\n--- a/src/test/java/org/apache/commons/compress/archivers/arj/ArjArchiveInputStreamTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/arj/ArjArchiveInputStreamTest.java\n package org.apache.commons.compress.archivers.arj;\n \n import java.io.FileInputStream;\n+import java.util.Calendar;\n+import java.util.TimeZone;\n \n import org.apache.commons.compress.AbstractTestCase;\n \n             while ((tmp = in.read()) != -1) {\n                 result.append((char) tmp);\n             }\n+            assertFalse(entry.isDirectory());\n         }\n         in.close();\n         assertEquals(result.toString(), expected.toString());\n     }\n+\n+    public void testReadingOfAttributesDosVersion() throws Exception {\n+        ArjArchiveInputStream in = new ArjArchiveInputStream(new FileInputStream(getFile(\"bla.arj\")));\n+        ArjArchiveEntry entry = in.getNextEntry();\n+        assertEquals(\"test1.xml\", entry.getName());\n+        assertEquals(30, entry.getSize());\n+        assertEquals(0, entry.getUnixMode());\n+        Calendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"GMT+0000\"));\n+        cal.set(2008, 9, 6, 21, 50, 52);\n+        cal.set(Calendar.MILLISECOND, 0);\n+        assertEquals(cal.getTime(), entry.getLastModifiedDate());\n+    }\n+\n+    public void testReadingOfAttributesUnixVersion() throws Exception {\n+        ArjArchiveInputStream in = new ArjArchiveInputStream(new FileInputStream(getFile(\"bla.unix.arj\")));\n+        ArjArchiveEntry entry = in.getNextEntry();\n+        assertEquals(\"test1.xml\", entry.getName());\n+        assertEquals(30, entry.getSize());\n+        assertEquals(0664, entry.getUnixMode() & 07777 /* UnixStat.PERM_MASK */);\n+        Calendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"GMT+0000\"));\n+        cal.set(2008, 9, 6, 21, 50, 52);\n+        cal.set(Calendar.MILLISECOND, 0);\n+        assertEquals(cal.getTime(), entry.getLastModifiedDate());\n+    }\n }", "timestamp": 1381680797, "metainfo": ""}