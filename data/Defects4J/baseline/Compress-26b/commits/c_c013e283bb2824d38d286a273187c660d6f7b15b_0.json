{"sha": "c013e283bb2824d38d286a273187c660d6f7b15b", "log": "use proper size for directories - SANDBOX-303  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java\n             if (nameLength == 0 || name.charAt(nameLength - 1) != '/') {\n                 this.name.append(\"/\");\n             }\n+            this.size = 0;\n         } else {\n             this.mode = DEFAULT_FILE_MODE;\n             this.linkFlag = LF_NORMAL;\n-        }\n-\n-        this.size = file.length();\n+            this.size = file.length();\n+        }\n+\n         this.modTime = file.lastModified() / MILLIS_PER_SECOND;\n         this.devMajor = 0;\n         this.devMinor = 0;\n--- a/src/test/java/org/apache/commons/compress/archivers/tar/TarArchiveEntryTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/tar/TarArchiveEntryTest.java\n         try {\n             tout = new TarArchiveOutputStream(new FileOutputStream(f));\n             TarArchiveEntry t = new TarArchiveEntry(new File(ROOT));\n-            t.setSize(0);\n             tout.putNextEntry(t);\n             tout.closeEntry();\n             t = new TarArchiveEntry(new File(new File(ROOT), \"foo.txt\"));", "timestamp": 1237351127, "metainfo": ""}