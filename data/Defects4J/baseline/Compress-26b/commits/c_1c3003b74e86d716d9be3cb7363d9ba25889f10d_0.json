{"sha": "1c3003b74e86d716d9be3cb7363d9ba25889f10d", "log": "COMPRESS-63: entry name is stored in ASCII  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/ar/ArArchiveInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/ar/ArArchiveInputStream.java\n         }\n \n         if (offset == 0) {\n-            final byte[] expected = ArchiveUtils\n-                    .toAsciiBytes(ArArchiveEntry.HEADER);\n+            final byte[] expected = ArchiveUtils.toAsciiBytes(ArArchiveEntry.HEADER);\n             final byte[] realized = new byte[expected.length];\n             final int read = read(realized);\n             if (read != expected.length) {\n             }\n             for (int i = 0; i < expected.length; i++) {\n                 if (expected[i] != realized[i]) {\n-                    throw new IOException(\"invalid header \"\n-                            + ArchiveUtils.toAsciiString(realized));\n+                    throw new IOException(\"invalid header \" + ArchiveUtils.toAsciiString(realized));\n                 }\n             }\n         }\n         read(length);\n \n         {\n-            final byte[] expected = ArchiveUtils\n-                    .toAsciiBytes(ArArchiveEntry.TRAILER);\n+            final byte[] expected = ArchiveUtils.toAsciiBytes(ArArchiveEntry.TRAILER);\n             final byte[] realized = new byte[expected.length];\n             final int read = read(realized);\n             if (read != expected.length) {\n         entryOffset = offset;\n \n         // SVR4/GNU adds a trailing \"/\" to names\n-        String temp = new String(name).trim(); // TODO is it correct to use the\n-        // default charset here?\n+        // entry name is stored as ASCII string\n+        String temp = ArchiveUtils.toAsciiString(name).trim();\n         if (temp.endsWith(\"/\")) {\n             temp = temp.substring(0, temp.length() - 1);\n         }\n-        currentEntry = new ArArchiveEntry(temp, // TODO is it correct to use the\n-                // default charset here?\n-                Long.parseLong(new String(length).trim()));\n+        currentEntry = new ArArchiveEntry(temp, \n+                                          Long.parseLong(\n+                                                  new String(length).trim()));\n         return currentEntry;\n     }\n ", "timestamp": 1240465530, "metainfo": ""}