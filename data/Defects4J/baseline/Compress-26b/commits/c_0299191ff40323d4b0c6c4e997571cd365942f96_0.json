{"sha": "0299191ff40323d4b0c6c4e997571cd365942f96", "log": "Bzip2CompressorInputStream never called count() - reported by Lasse Collin  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/compressors/bzip2/BZip2CompressorInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/compressors/bzip2/BZip2CompressorInputStream.java\n     @Override\n     public int read() throws IOException {\n         if (this.in != null) {\n-            return read0();\n+            int r = read0();\n+            count(r < 0 ? -1 : 1);\n+            return r;\n         } else {\n             throw new IOException(\"stream closed\");\n         }\n             dest[destOffs++] = (byte) b;\n         }\n \n-        return (destOffs == offs) ? -1 : (destOffs - offs);\n+        int c = (destOffs == offs) ? -1 : (destOffs - offs);\n+        count(c);\n+        return c;\n     }\n \n     private void makeMaps() {", "timestamp": 1312778475, "metainfo": ""}