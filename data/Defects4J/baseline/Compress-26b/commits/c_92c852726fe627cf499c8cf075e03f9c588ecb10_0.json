{"sha": "92c852726fe627cf499c8cf075e03f9c588ecb10", "log": "testcase for COMPRESS-245 provided by Andreas Aronsson  ", "commit": "\n--- a/src/test/java/org/apache/commons/compress/archivers/tar/TarArchiveInputStreamTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/tar/TarArchiveInputStreamTest.java\n import java.util.Date;\n import java.util.Map;\n import java.util.TimeZone;\n+import java.util.zip.GZIPInputStream;\n \n import org.apache.commons.compress.utils.CharsetNames;\n import org.junit.Test;\n         tar.close();\n     }\n \n+    @Test\n+    public void readsArchiveCompletely_COMPRESS245() throws Exception {\n+        InputStream is = TarArchiveInputStreamTest.class\n+            .getResourceAsStream(\"/COMPRESS-245.tar.gz\");\n+        try {\n+            InputStream gin = new GZIPInputStream(is);\n+            TarArchiveInputStream tar = new TarArchiveInputStream(gin);\n+            int count = 0;\n+            TarArchiveEntry entry = tar.getNextTarEntry();\n+            while (entry != null) {\n+                count++;\n+                entry = tar.getNextTarEntry();\n+            }\n+            assertEquals(31, count);\n+        } catch (IOException e) {\n+            fail(\"COMPRESS-245: \" + e.getMessage());\n+        } finally {\n+            is.close();\n+        }\n+    }\n+\n+\n     private TarArchiveInputStream getTestStream(String name) {\n         return new TarArchiveInputStream(\n                 TarArchiveInputStreamTest.class.getResourceAsStream(name));", "timestamp": 1386315425, "metainfo": ""}