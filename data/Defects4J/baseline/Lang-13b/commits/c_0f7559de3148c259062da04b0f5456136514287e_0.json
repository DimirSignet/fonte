{"sha": "0f7559de3148c259062da04b0f5456136514287e", "log": "Applying my patch to LANG-355, making StrBuilder implement Appendable  ", "commit": "\n--- a/src/java/org/apache/commons/lang/text/StrBuilder.java\n+++ b/src/java/org/apache/commons/lang/text/StrBuilder.java\n  * @since 2.2\n  * @version $Id$\n  */\n-public class StrBuilder implements CharSequence {\n+public class StrBuilder implements CharSequence, Appendable {\n \n     /**\n      * The extra capacity for new builders.\n             return appendNull();\n         } \n         return append(obj.toString());        \n+    }\n+\n+    /**\n+     * Appends a CharSequence to this string builder.\n+     * Appending null will call {@link #appendNull()}.\n+     *\n+     * @param seq  the CharSequence to append\n+     * @return this, to enable chaining\n+     */\n+    public StrBuilder append(CharSequence seq) {\n+        if (seq == null) {\n+            return appendNull();\n+        } \n+        return append(seq.toString());        \n+    }\n+\n+    /**\n+     * Appends part of a CharSequence to this string builder.\n+     * Appending null will call {@link #appendNull()}.\n+     *\n+     * @param seq  the CharSequence to append\n+     * @param startIndex  the start index, inclusive, must be valid\n+     * @param length  the length to append, must be valid\n+     * @return this, to enable chaining\n+     */\n+    public StrBuilder append(CharSequence seq, int startIndex, int length) {\n+        if (seq == null) {\n+            return appendNull();\n+        } \n+        return append(seq.toString(), startIndex, length);\n     }\n \n     /**\n--- a/src/test/org/apache/commons/lang/text/StrBuilderAppendInsertTest.java\n+++ b/src/test/org/apache/commons/lang/text/StrBuilderAppendInsertTest.java\n \n         sb.append(new StrBuilder(\"yes\"));\n         assertEquals(\"foobazyes\", sb.toString());\n+\n+        sb.append((CharSequence) \"Seq\");\n+        assertEquals(\"foobazyesSeq\", sb.toString());\n     }\n \n     //-----------------------------------------------------------------------\n \n         sb.append(\"abcbardef\", 3, 3);\n         assertEquals(\"foobar\", sb.toString());\n+\n+        sb.append( (CharSequence)\"abcbardef\", 4, 3);\n+        assertEquals(\"foobarard\", sb.toString());\n     }\n \n     //-----------------------------------------------------------------------", "timestamp": 1248032510, "metainfo": ""}