{"sha": "2a645614db9d035d1fdd75bed1c3a989f44ddf62", "log": "account for unavailability of NumberFormat.getIntegerInstance(...) pre JDK 1.4  ", "commit": "\n--- a/src/test/org/apache/commons/lang/text/AbstractMessageFormatTest.java\n+++ b/src/test/org/apache/commons/lang/text/AbstractMessageFormatTest.java\n import java.util.GregorianCalendar;\n import java.util.Locale;\n \n+import org.apache.commons.lang.SystemUtils;\n+\n import junit.framework.TestCase;\n \n /**\n     }\n \n     public void testInteger() {\n-        doAssertions(NumberFormat.getIntegerInstance(locale), NUMBERS,\n+        doAssertions(getIntegerNumberFormat(locale), NUMBERS,\n                 \"number,integer\");\n     }\n \n     public void testIntegerLooseFormatting() {\n-        doAssertions(NumberFormat.getIntegerInstance(locale), NUMBERS,\n+        doAssertions(getIntegerNumberFormat(locale), NUMBERS,\n                 \" number , integer \", \"number,integer\");\n     }\n \n         doAssertions(new ChoiceFormat(choice.toString()), NUMBERS, format\n                 .toString());\n     }\n+\n+    private NumberFormat getIntegerNumberFormat(Locale locale) {\n+        NumberFormat result = NumberFormat.getInstance(locale);\n+        result.setMaximumFractionDigits(0);\n+        result.setParseIntegerOnly(true);\n+        return result;\n+    }\n+\n }", "timestamp": 1196702585, "metainfo": ""}