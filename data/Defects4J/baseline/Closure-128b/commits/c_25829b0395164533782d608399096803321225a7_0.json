{"sha": "25829b0395164533782d608399096803321225a7", "log": "Delete the divide by zero error I've never heard of this catching any real bug. It seems like if you explicitly typed \"1 / 0\", you meant to do that. fixes issue 381  R=johnlenz DELTA=8  (0 added, 6 deleted, 2 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=924   ", "commit": "\n--- a/src/com/google/javascript/jscomp/PeepholeFoldConstants.java\n+++ b/src/com/google/javascript/jscomp/PeepholeFoldConstants.java\n  *\n  */\n class PeepholeFoldConstants extends AbstractPeepholeOptimization {\n-\n-  static final DiagnosticType DIVIDE_BY_0_ERROR = DiagnosticType.error(\n-      \"JSC_DIVIDE_BY_0_ERROR\",\n-      \"Divide by 0\");\n \n   static final DiagnosticType INVALID_GETELEM_INDEX_ERROR =\n       DiagnosticType.error(\n         break;\n       case Token.MOD:\n         if (rval == 0) {\n-          error(DIVIDE_BY_0_ERROR, right);\n           return null;\n         }\n         result = lval % rval;\n         break;\n       case Token.DIV:\n         if (rval == 0) {\n-          error(DIVIDE_BY_0_ERROR, right);\n           return null;\n         }\n         result = lval / rval;\n--- a/test/com/google/javascript/jscomp/PeepholeFoldConstantsTest.java\n+++ b/test/com/google/javascript/jscomp/PeepholeFoldConstantsTest.java\n     fold(\"x = 2.25 * 3\", \"x = 6.75\");\n     fold(\"z = x * y\", \"z = x * y\");\n     fold(\"x = y * 5\", \"x = y * 5\");\n-    fold(\"x = 1 / 0\", \"\", PeepholeFoldConstants.DIVIDE_BY_0_ERROR);\n+    fold(\"x = 1 / 0\", \"x = 1 / 0\");\n     fold(\"x = 3 % 2\", \"x = 1\");\n     fold(\"x = 3 % -2\", \"x = 1\");\n     fold(\"x = -1 % 3\", \"x = -1\");\n-    fold(\"x = 1 % 0\", \"\", PeepholeFoldConstants.DIVIDE_BY_0_ERROR);\n+    fold(\"x = 1 % 0\", \"x = 1 % 0\");\n   }\n \n   public void testFoldArithmetic2() {", "timestamp": 1300385552, "metainfo": ""}