{"sha": "95876c343fb7e628978397bc8311f1b3788e28f2", "log": "Fix smart name removal handling of \"throw\" statements in global scope.  R=acleung DELTA=14  (13 added, 0 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=716   ", "commit": "\n--- a/src/com/google/javascript/jscomp/NameAnalyzer.java\n+++ b/src/com/google/javascript/jscomp/NameAnalyzer.java\n \n       if (parent.getType() == Token.VAR ||\n           parent.getType() == Token.EXPR_RESULT ||\n-          parent.getType() == Token.RETURN) {\n+          parent.getType() == Token.RETURN ||\n+          parent.getType() == Token.THROW) {\n         addSimplifiedExpression(n, parent);\n       }\n \n--- a/test/com/google/javascript/jscomp/NameAnalyzerTest.java\n+++ b/test/com/google/javascript/jscomp/NameAnalyzerTest.java\n         \"map[1].style.display = 'block';\");\n   }\n \n+  public void testNoRemoveThrowReference1() {\n+    testSame(\n+      \"var e = {}\\n\" +\n+      \"throw e;\");\n+  }\n+\n+  public void testNoRemoveThrowReference2() {\n+    testSame(\n+      \"function e() {}\\n\" +\n+      \"throw new e();\");\n+  }\n+\n   @Override\n   protected CompilerPass getProcessor(Compiler compiler) {\n     return new MarkNoSideEffectCallsAndNameAnalyzerRunner(compiler);", "timestamp": 1299022896, "metainfo": ""}