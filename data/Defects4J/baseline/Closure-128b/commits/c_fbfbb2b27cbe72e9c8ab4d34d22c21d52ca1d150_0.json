{"sha": "fbfbb2b27cbe72e9c8ab4d34d22c21d52ca1d150", "log": "Bugfix for switch cases with empty bodies   Revision created by MOE tool push_codebase. MOE_MIGRATION=5833   ", "commit": "\n--- a/src/com/google/javascript/jscomp/PeepholeRemoveDeadCode.java\n+++ b/src/com/google/javascript/jscomp/PeepholeRemoveDeadCode.java\n             block = cur.getLastChild();\n             lastStm = block.getLastChild();\n             cur = cur.getNext();\n-            if (lastStm.isBreak()) {\n+            if (lastStm != null && lastStm.isBreak()) {\n               block.removeChild(lastStm);\n               reportCodeChange();\n               break;\n--- a/test/com/google/javascript/jscomp/PeepholeRemoveDeadCodeTest.java\n+++ b/test/com/google/javascript/jscomp/PeepholeRemoveDeadCodeTest.java\n         \"case '\\\\u000B':\\n\" +\n         \"  foo();\\n\" +\n         \"}\");\n+    foldSame(\"switch ('empty') {\\n\" +\n+        \"case 'empty':\\n\" +\n+        \"case 'foo':\\n\" +\n+        \"  foo();\\n\" +\n+        \"}\");\n   }\n \n   public void testRemoveNumber() {", "timestamp": 1353085744, "metainfo": ""}