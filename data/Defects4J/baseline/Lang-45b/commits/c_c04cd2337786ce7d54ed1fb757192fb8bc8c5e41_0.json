{"sha": "c04cd2337786ce7d54ed1fb757192fb8bc8c5e41", "log": "Applying a unit test for LANG-299 and the fix that Francisco Benavent suggests.   ", "commit": "\n--- a/src/java/org/apache/commons/lang/text/StrBuilder.java\n+++ b/src/java/org/apache/commons/lang/text/StrBuilder.java\n             String str = (obj == null ? getNullText() : obj.toString());\n             int strLen = str.length();\n             if (strLen >= width) {\n-                str.getChars(0, strLen, buffer, size);\n+                str.getChars(0, width, buffer, size);\n             } else {\n                 int padLen = width - strLen;\n                 str.getChars(0, strLen, buffer, size);\n--- a/src/test/org/apache/commons/lang/text/StrBuilderAppendInsertTest.java\n+++ b/src/test/org/apache/commons/lang/text/StrBuilderAppendInsertTest.java\n         assertEquals(\"null-\", sb.toString());\n     }\n \n+    // See: http://issues.apache.org/jira/browse/LANG-299\n+    public void testLang299() {\n+        StrBuilder sb = new StrBuilder(1);\n+        sb.appendFixedWidthPadRight(\"foo\", 1, '-');\n+        assertEquals(\"f\", sb.toString());\n+    }\n+\n     //-----------------------------------------------------------------------\n     public void testAppendFixedWidthPadRight_int() {\n         StrBuilder sb = new StrBuilder();", "timestamp": 1165962879, "metainfo": ""}