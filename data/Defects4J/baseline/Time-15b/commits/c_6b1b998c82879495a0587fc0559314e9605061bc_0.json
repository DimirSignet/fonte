{"sha": "6b1b998c82879495a0587fc0559314e9605061bc", "log": "make sure streams get closed when exception occurs", "commit": "\n--- a/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java\n+++ b/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java\n                         file.getParentFile().mkdirs();\n                     }\n                     OutputStream out = new FileOutputStream(file);\n-                    builder.writeTo(zone.iName, out);\n-                    out.close();\n+                    try {\n+                        builder.writeTo(zone.iName, out);\n+                    } finally {\n+                        out.close();\n+                    }\n \n                     // Test if it can be read back.\n                     InputStream in = new FileInputStream(file);\n \n             OutputStream out = new FileOutputStream(file);\n             DataOutputStream dout = new DataOutputStream(out);\n-            // Sort and filter out any duplicates that match case.\n-            Map<String, DateTimeZone> zimap = new TreeMap<String, DateTimeZone>(String.CASE_INSENSITIVE_ORDER);\n-            zimap.putAll(map);\n-            writeZoneInfoMap(dout, zimap);\n-            dout.close();\n+            try {\n+                // Sort and filter out any duplicates that match case.\n+                Map<String, DateTimeZone> zimap = new TreeMap<String, DateTimeZone>(String.CASE_INSENSITIVE_ORDER);\n+                zimap.putAll(map);\n+                writeZoneInfoMap(dout, zimap);\n+            } finally {\n+                dout.close();\n+            }\n         }\n \n         return map;", "timestamp": 1310703130, "metainfo": ""}