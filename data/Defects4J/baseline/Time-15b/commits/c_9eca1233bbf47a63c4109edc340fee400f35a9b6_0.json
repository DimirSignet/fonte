{"sha": "9eca1233bbf47a63c4109edc340fee400f35a9b6", "log": "Add AbstractPeriod.toString(PeriodFormatter)  ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/base/AbstractPeriod.java\n+++ b/JodaTime/src/java/org/joda/time/base/AbstractPeriod.java\n import org.joda.time.Period;\n import org.joda.time.ReadablePeriod;\n import org.joda.time.format.ISOPeriodFormat;\n+import org.joda.time.format.PeriodFormatter;\n \n /**\n  * AbstractPeriod provides the common behaviour for period classes.\n         return ISOPeriodFormat.standard().print(this);\n     }\n \n+    //-----------------------------------------------------------------------\n+    /**\n+     * Uses the specified formatter to convert this period to a String.\n+     *\n+     * @param formatter  the formatter to use, null means use <code>toString()</code>.\n+     * @return the formatted string\n+     * @since 1.5\n+     */\n+    public String toString(PeriodFormatter formatter) {\n+        if (formatter == null) {\n+            return toString();\n+        }\n+        return formatter.print(this);\n+    }\n+\n }\n--- a/JodaTime/src/test/org/joda/time/TestPeriod_Basics.java\n+++ b/JodaTime/src/test/org/joda/time/TestPeriod_Basics.java\n import junit.framework.TestSuite;\n \n import org.joda.time.base.BasePeriod;\n+import org.joda.time.format.PeriodFormat;\n+import org.joda.time.format.PeriodFormatter;\n \n /**\n  * This class is a Junit unit test for Duration.\n     }\n \n     //-----------------------------------------------------------------------\n+    public void testToString_PeriodFormatter() {\n+        Period test = new Period(1, 2, 3, 4, 5, 6, 7, 8);\n+        assertEquals(\"1 year, 2 months, 3 weeks, 4 days, 5 hours, 6 minutes, 7 seconds and 8 milliseconds\", test.toString(PeriodFormat.getDefault()));\n+        \n+        test = new Period(0, 0, 0, 0, 0, 0, 0, 0);\n+        assertEquals(\"0 milliseconds\", test.toString(PeriodFormat.getDefault()));\n+    }\n+\n+    public void testToString_nullPeriodFormatter() {\n+        Period test = new Period(1, 2, 3, 4, 5, 6, 7, 8);\n+        assertEquals(\"P1Y2M3W4DT5H6M7.008S\", test.toString((PeriodFormatter) null));\n+    }\n+\n+    //-----------------------------------------------------------------------\n     public void testToPeriod() {\n         Period test = new Period(123L);\n         Period result = test.toPeriod();", "timestamp": 1177858769, "metainfo": ""}