{"sha": "b6028fa67a8a8c0d8560b47297163f91ca8e34f7", "log": "Add some tests for both kinds of reflection, to make sure disambiguation is working as expected. i'm actually very impressed that this \"just works\"  R=moedinger DELTA=42  (42 added, 0 deleted, 0 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=109   ", "commit": "\n--- a/test/com/google/javascript/jscomp/DisambiguatePropertiesTest.java\n+++ b/test/com/google/javascript/jscomp/DisambiguatePropertiesTest.java\n     testSets(true, js, js, \"{}\");\n   }\n \n+  public void testObjectLiteralReflected() {\n+    String js = \"\"\n+        + \"var goog = {};\"\n+        + \"goog.reflect = {};\"\n+        + \"goog.reflect.object = function(x, y) { return y; };\"\n+        + \"/** @constructor */ function F() {}\"\n+        + \"/** @type {number} */ F.prototype.foo = 3;\"\n+        + \"/** @constructor */ function G() {}\"\n+        + \"/** @type {number} */ G.prototype.foo = 3;\"\n+        + \"goog.reflect.object(F, {foo: 5});\";\n+    String result = \"\"\n+        + \"var goog = {};\"\n+        + \"goog.reflect = {};\"\n+        + \"goog.reflect.object = function(x, y) { return y; };\"\n+        + \"function F() {}\"\n+        + \"F.prototype.F_prototype$foo = 3;\"\n+        + \"function G() {}\"\n+        + \"G.prototype.G_prototype$foo = 3;\"\n+        + \"goog.reflect.object(F, {F_prototype$foo: 5});\";\n+    testSets(false, js, result, \"{foo=[[F.prototype], [G.prototype]]}\");\n+    testSets(true, js, result, \"{foo=[[F.prototype], [G.prototype]]}\");\n+  }\n+\n+  public void testObjectLiteralLends() {\n+    String js = \"\"\n+        + \"var mixin = function(x) { return x; };\"\n+        + \"/** @constructor */ function F() {}\"\n+        + \"/** @type {number} */ F.prototype.foo = 3;\"\n+        + \"/** @constructor */ function G() {}\"\n+        + \"/** @type {number} */ G.prototype.foo = 3;\"\n+        + \"mixin(/** @lends {F.prototype} */ ({foo: 5}));\";\n+    String result = \"\"\n+        + \"var mixin = function(x) { return x; };\"\n+        + \"function F() {}\"\n+        + \"F.prototype.F_prototype$foo = 3;\"\n+        + \"function G() {}\"\n+        + \"G.prototype.G_prototype$foo = 3;\"\n+        + \"mixin(/** @lends {F.prototype} */ ({F_prototype$foo: 5}));\";\n+    testSets(false, js, result, \"{foo=[[F.prototype], [G.prototype]]}\");\n+    testSets(true, js, result, \"{foo=[[F.prototype], [G.prototype]]}\");\n+  }\n+\n   public void testClosureInherits() {\n     String js = \"\"\n         + \"var goog = {};\"", "timestamp": 1291943788, "metainfo": ""}