{"sha": "9ae37525134089dd0c9ee1cf8738192b70e0fc07", "log": "SnappyInputStream didn't count bytes read when sliding the window  may be related to COMPRESS-358", "commit": "\n--- a/src/main/java/org/apache/commons/compress/compressors/snappy/SnappyCompressorInputStream.java\n+++ b/src/main/java/org/apache/commons/compress/compressors/snappy/SnappyCompressorInputStream.java\n             case 0x00:\n \n                 length = readLiteralLength(b);\n+                uncompressedBytesRemaining -= length;\n \n                 if (expandLiteral(length)) {\n                     return;\n                  */\n \n                 length = 4 + ((b >> 2) & 0x07);\n+                uncompressedBytesRemaining -= length;\n                 offset = (b & 0xE0) << 3;\n                 offset |= readOneByte();\n \n                  */\n \n                 length = (b >> 2) + 1;\n+                uncompressedBytesRemaining -= length;\n \n                 offset = readOneByte();\n                 offset |= readOneByte() << 8;\n                  */\n \n                 length = (b >> 2) + 1;\n+                uncompressedBytesRemaining -= length;\n \n                 offset = readOneByte();\n                 offset |= readOneByte() << 8;\n             }\n \n             readNow -= length;\n-            uncompressedBytesRemaining -= length;\n         }\n     }\n ", "timestamp": 1483971990, "metainfo": ""}