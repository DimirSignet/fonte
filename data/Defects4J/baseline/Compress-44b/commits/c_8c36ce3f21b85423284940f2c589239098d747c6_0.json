{"sha": "8c36ce3f21b85423284940f2c589239098d747c6", "log": "Show modes as hex (easier to understand)  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.java\n      *            The mode to set.\n      */\n     public void setMode(final long mode) {\n-        switch ((int) (mode & S_IFMT)) {\n+        final long maskedMode = mode & S_IFMT;\n+        switch ((int) maskedMode) {\n         case C_ISDIR:\n         case C_ISLNK:\n         case C_ISREG:\n         default:\n             // FIXME: testCpioUnarchive fails if I change the line to\n             // actually throw the excpetion\n-            new IllegalArgumentException(\"Unknown mode (full mode: \" + mode\n-                    + \", masked mode: \" + (mode & S_IFMT));\n+            new IllegalArgumentException(\n+                    \"Unknown mode. \"\n+                    + \"Full: \" + Long.toHexString(mode) \n+                    + \" Masked: \" + Long.toHexString(maskedMode));\n         }\n \n         this.mode = mode;", "timestamp": 1238074838, "metainfo": ""}