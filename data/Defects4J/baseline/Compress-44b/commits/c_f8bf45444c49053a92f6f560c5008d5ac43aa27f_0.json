{"sha": "f8bf45444c49053a92f6f560c5008d5ac43aa27f", "log": "revert 'fix' for COMPRESS-301 as GNU tar doesn't like embedded NULs either  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java\n \n         for ( ;start < end; start++) {\n             final byte currentByte = buffer[start];\n-            if (currentByte == 0) {\n-                // some archivers don't pad the whole field but just insert a NUL\n-                // COMPRESS-301\n-                break;\n-            }\n             // CheckStyle:MagicNumber OFF\n             if (currentByte < '0' || currentByte > '7'){\n                 throw new IllegalArgumentException(\n--- a/src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java\n         try {\n             TarUtils.parseOctal(buffer,0, buffer.length);\n             fail(\"Expected IllegalArgumentException - embedded space\");\n+        } catch (IllegalArgumentException expected) {\n+        }\n+        buffer = \" 0\\00007 \".getBytes(CharsetNames.UTF_8); // Invalid - embedded NUL\n+        try {\n+            TarUtils.parseOctal(buffer,0, buffer.length);\n+            fail(\"Expected IllegalArgumentException - embedded NUL\");\n         } catch (IllegalArgumentException expected) {\n         }\n     }", "timestamp": 1424449845, "metainfo": ""}