{"sha": "6a6d62d5901acb5cd5f74ee0003ecc3aba9b1cb3", "log": "Check for closing non-existent entry  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveOutputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveOutputStream.java\n         if(finished) {\n             throw new IOException(\"Stream has already been finished\");\n         }\n+        if (!haveUnclosedEntry){\n+            throw new IOException(\"No current entry to close\");\n+        }\n         if (assemLen > 0) {\n             for (int i = assemLen; i < assemBuf.length; ++i) {\n                 assemBuf[i] = 0;\n--- a/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveOutputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/zip/ZipArchiveOutputStream.java\n         }\n         \n         if (entry == null) {\n-            return;\n+            throw new IOException(\"No current entry to close\");\n         }\n \n         long realCrc = crc.getValue();\n             throw new IOException(\"Stream has already been finished\");\n         }\n         \n-        closeArchiveEntry();\n+        if (entry != null) {\n+            closeArchiveEntry();\n+        }\n \n         entry = ((ZipArchiveEntry) archiveEntry);\n         entries.add(entry);", "timestamp": 1240864546, "metainfo": ""}