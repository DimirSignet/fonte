{"sha": "631c1dd6ca8e4859bef1b7e41e54b198429f4662", "log": "Fix bug: deleteDir should not delete file with matching name Don't exit loop if name does not match Use startsWith() rather than match() as it's simpler and quicker  ", "commit": "\n--- a/src/main/java/org/apache/commons/compress/changes/ChangeSetPerformer.java\n+++ b/src/main/java/org/apache/commons/compress/changes/ChangeSetPerformer.java\n                         break;\n                     }\n                 } else if(type == Change.TYPE_DELETE_DIR && name != null) {\n-                    if (name.matches(\n-                            change.targetFile() + \"/.*\")) {\n+                    if (name.startsWith(change.targetFile() + \"/\")) {\n                         copy = false;\n                         break;\n                     }\n             for (Iterator it = workingSet.iterator(); it.hasNext();) {\n                 Change change = (Change) it.next();\n                 final int type = change.type();\n-                if (type == Change.TYPE_DELETE || type == Change.TYPE_DELETE_DIR) {\n-                    String target = change.targetFile();\n+                String target = change.targetFile();\n+                if (type == Change.TYPE_DELETE && source.equals(target)) {\n+                    return true;\n+                }\n \n-                    if (source.equals(target)) {\n-                        return true;\n-                    }\n-\n-                    return (type == Change.TYPE_DELETE_DIR) && source.matches(target + \"/.*\");\n+                if (type == Change.TYPE_DELETE_DIR && source.startsWith(target + \"/\")){\n+                    return true;\n                 }\n             }\n         }", "timestamp": 1239802428, "metainfo": ""}