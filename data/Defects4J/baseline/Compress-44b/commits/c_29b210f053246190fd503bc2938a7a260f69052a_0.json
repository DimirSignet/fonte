{"sha": "29b210f053246190fd503bc2938a7a260f69052a", "log": "Add cpio version of test Note: had to hack file list because cpio does not add trailing \"/\" to directory names  ", "commit": "\n--- a/src/test/java/org/apache/commons/compress/archivers/LongPathTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/LongPathTest.java\n import junit.framework.TestSuite;\n \n import org.apache.commons.compress.AbstractTestCase;\n+import org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream;\n import org.apache.commons.compress.archivers.tar.TarArchiveInputStream;\n import org.apache.commons.compress.archivers.zip.ZipArchiveInputStream;\n \n     }\n     \n     public static TestSuite suite() throws IOException{\n-        TestSuite suite = new TestSuite(\"TarReadTests\");\n+        TestSuite suite = new TestSuite(\"LongPathTests\");\n         File arcdir =new File(classLoader.getResource(\"longpath\").getFile());\n         assertTrue(arcdir.exists());\n         File listing= new File(arcdir,\"files.txt\");\n             assertTrue(ais instanceof TarArchiveInputStream);\n         } else if (name.endsWith(\".jar\") || name.endsWith(\".zip\")){\n             assertTrue(ais instanceof ZipArchiveInputStream);\n+        } else if (name.endsWith(\".cpio\")){\n+            assertTrue(ais instanceof CpioArchiveInputStream);\n+            // Hack: cpio does not add trailing \"/\" to directory names\n+            for(int i=0; i < expected.size(); i++){\n+                String ent = (String) expected.get(i);\n+                if (ent.endsWith(\"/\")){\n+                    expected.set(i, ent.substring(0, ent.length()-1));\n+                }\n+            }\n         } else {\n             fail(\"Unexpected file type: \"+name);\n         }", "timestamp": 1273693045, "metainfo": ""}