{"sha": "b53ead4b43c6c248b1a39f4a1cce7a0c4062285d", "log": "reformulate test", "commit": "\n--- a/src/test/java/org/apache/commons/compress/compressors/xz/XZCompressorOutputStreamTest.java\n+++ b/src/test/java/org/apache/commons/compress/compressors/xz/XZCompressorOutputStreamTest.java\n \n import org.junit.Test;\n \n+import java.io.ByteArrayInputStream;\n import java.io.ByteArrayOutputStream;\n import java.io.IOException;\n \n     public void testWrite() throws IOException {\n \n         ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(4590);\n-        XZCompressorOutputStream xZCompressorOutputStream = new XZCompressorOutputStream(byteArrayOutputStream);\n-        xZCompressorOutputStream.write(4590);\n+        try (XZCompressorOutputStream xZCompressorOutputStream = new XZCompressorOutputStream(byteArrayOutputStream)) {\n+            xZCompressorOutputStream.write(4590);\n+        }\n \n-        assertEquals(24, byteArrayOutputStream.size());\n-        assertEquals(\"\\uFFFD7zXZ\\u0000\\u0000\\u0004\\uFFFD\\u05B4F\\u0002\\u0000!\\u0001\\u0016\\u0000\\u0000\\u0000t/\\uFFFD\", byteArrayOutputStream.toString());\n-\n+        try (XZCompressorInputStream xZCompressorInputStream =\n+            new XZCompressorInputStream(new ByteArrayInputStream(byteArrayOutputStream.toByteArray()))) {\n+            assertEquals(4590 % 256, xZCompressorInputStream.read());\n+            assertEquals(-1, xZCompressorInputStream.read());\n+        }\n     }\n \n \n-}\n+}", "timestamp": 1497722374, "metainfo": ""}