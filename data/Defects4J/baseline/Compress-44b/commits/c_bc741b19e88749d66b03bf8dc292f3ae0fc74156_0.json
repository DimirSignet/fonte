{"sha": "bc741b19e88749d66b03bf8dc292f3ae0fc74156", "log": "COMPRESS-264 add a (failing) Unit Test  ", "commit": "\n--- a/src/test/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStreamTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/zip/ZipArchiveInputStreamTest.java\n             original.close();\n         }\n     }\n+\n+\n+    /**\n+     * Test case for \n+     * <a href=\"https://issues.apache.org/jira/browse/COMPRESS-264\"\n+     * >COMPRESS-264</a>.\n+     */\n+    //@Test\n+    public void testCompress264() throws Exception {\n+        ZipArchiveInputStream in = new ZipArchiveInputStream(new FileInputStream(getFile(\"COMPRESS-264.zip\")));\n+        \n+        try {\n+            ZipArchiveEntry ze = in.getNextZipEntry();\n+            assertEquals(5, ze.getSize());\n+            assertArrayEquals(new byte[] {'d', 'a', 't', 'a', '\\n'},\n+                              IOUtils.toByteArray(in));\n+        } finally {\n+            in.close();\n+        }\n+    }\n }\n--- a/src/test/java/org/apache/commons/compress/archivers/zip/ZipFileTest.java\n+++ b/src/test/java/org/apache/commons/compress/archivers/zip/ZipFileTest.java\n         }\n     }\n \n+    /**\n+     * Test case for \n+     * <a href=\"https://issues.apache.org/jira/browse/COMPRESS-264\"\n+     * >COMPRESS-264</a>.\n+     */\n+    public void testCompress264() throws Exception {\n+        File archive = getFile(\"COMPRESS-264.zip\");\n+        zf = new ZipFile(archive);\n+        ZipArchiveEntry ze = zf.getEntry(\"test.txt\");\n+        assertEquals(5, ze.getSize());\n+        assertArrayEquals(new byte[] {'d', 'a', 't', 'a', '\\n'},\n+                          IOUtils.toByteArray(zf.getInputStream(ze)));\n+    }\n+\n     /*\n      * ordertest.zip has been handcrafted.\n      *", "timestamp": 1392989453, "metainfo": ""}