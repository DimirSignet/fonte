{"sha": "b893471b95285cc2364e3b2b8f6220ac6dc362a4", "log": "ensure CPIO only uses the least-significant 32bit of CRC  https://people.freebsd.org/~kientzle/libarchive/man/cpio.5.txt  > The CRC format is identical to the new ASCII format described in the previous section except that the magic field is set to ``070702'' and the check field is set to the sum of all bytes in the file data. This sum is computed treating all bytes as unsigned values and using unsigned arithmetic. Only the least-significant 32 bits of the sum are stored.", "commit": "\n--- a/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.java\n      */\n     public long getChksum() {\n         checkNewFormat();\n-        return this.chksum;\n+        return this.chksum & 0xFFFFFFFFL;\n     }\n \n     /**\n      */\n     public void setChksum(final long chksum) {\n         checkNewFormat();\n-        this.chksum = chksum;\n+        this.chksum = chksum & 0xFFFFFFFFL;\n     }\n \n     /**\n--- a/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveOutputStream.java\n+++ b/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveOutputStream.java\n         if (this.entry.getFormat() == FORMAT_NEW_CRC) {\n             for (int pos = 0; pos < len; pos++) {\n                 this.crc += b[pos] & 0xFF;\n+                this.crc &= 0xFFFFFFFFL;\n             }\n         }\n         count(len);", "timestamp": 1490790760, "metainfo": ""}