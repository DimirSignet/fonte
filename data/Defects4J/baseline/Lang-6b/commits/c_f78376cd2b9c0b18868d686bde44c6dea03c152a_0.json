{"sha": "f78376cd2b9c0b18868d686bde44c6dea03c152a", "log": "Performance improvement per Anthony Whitford in LANG-574. Check for isArray to short-circuit the 9 instanceof checks. Improves both non-arrays and Object[] in tests  ", "commit": "\n--- a/src/main/java/org/apache/commons/lang3/builder/HashCodeBuilder.java\n+++ b/src/main/java/org/apache/commons/lang3/builder/HashCodeBuilder.java\n             iTotal = iTotal * iConstant;\n \n         } else {\n+            Class clss = object.getClass();\n+            if(clss.isArray()) {\n                 // 'Switch' on type of array, to dispatch to the correct handler\n                 // This handles multi dimensional arrays\n                 if (object instanceof long[]) {\n                     append((float[]) object);\n                 } else if (object instanceof boolean[]) {\n                     append((boolean[]) object);\n-                } else if (object instanceof Object[]) {\n+                } else {\n                     // Not an array of primitives\n                     append((Object[]) object);\n-                } else {\n-                    iTotal = iTotal * iConstant + object.hashCode();\n                 }\n+            } else {\n+                iTotal = iTotal * iConstant + object.hashCode();\n+            }\n         }\n         return this;\n     }", "timestamp": 1263036049, "metainfo": ""}