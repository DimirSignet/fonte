{"sha": "55f642725742513824975af0e5e91cb1920b6d72", "log": "LANG-677 DateUtils isSameLocalTime() compares the hour using 12hour Calendar.HOUR instead of 24hour Calendar.HOUR_OF_DAY - thanks to Christian  ", "commit": "\n--- a/src/main/java/org/apache/commons/lang3/time/DateUtils.java\n+++ b/src/main/java/org/apache/commons/lang3/time/DateUtils.java\n         return (cal1.get(Calendar.MILLISECOND) == cal2.get(Calendar.MILLISECOND) &&\n                 cal1.get(Calendar.SECOND) == cal2.get(Calendar.SECOND) &&\n                 cal1.get(Calendar.MINUTE) == cal2.get(Calendar.MINUTE) &&\n-                cal1.get(Calendar.HOUR) == cal2.get(Calendar.HOUR) &&\n+                cal1.get(Calendar.HOUR_OF_DAY) == cal2.get(Calendar.HOUR_OF_DAY) &&\n                 cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR) &&\n                 cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR) &&\n                 cal1.get(Calendar.ERA) == cal2.get(Calendar.ERA) &&\n--- a/src/test/java/org/apache/commons/lang3/time/DateUtilsTest.java\n+++ b/src/test/java/org/apache/commons/lang3/time/DateUtilsTest.java\n         cal2.set(2004, 6, 9, 13, 45, 0);\n         cal2.set(Calendar.MILLISECOND, 0);\n         assertEquals(true, DateUtils.isSameLocalTime(cal1, cal2));\n+\n+        Calendar cal3 = Calendar.getInstance();\n+        Calendar cal4 = Calendar.getInstance();\n+        cal3.set(2004, 6, 9, 4,  0, 0);\n+        cal4.set(2004, 6, 9, 16, 0, 0);\n+        cal3.set(Calendar.MILLISECOND, 0);\n+        cal4.set(Calendar.MILLISECOND, 0);\n+        assertFalse(\"LANG-677\", DateUtils.isSameLocalTime(cal3, cal4));\n         \n         cal2.set(2004, 6, 9, 11, 45, 0);\n         assertEquals(false, DateUtils.isSameLocalTime(cal1, cal2));", "timestamp": 1296683715, "metainfo": ""}