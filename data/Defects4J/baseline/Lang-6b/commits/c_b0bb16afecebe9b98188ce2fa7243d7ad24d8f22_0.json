{"sha": "b0bb16afecebe9b98188ce2fa7243d7ad24d8f22", "log": "Fix Javadoc bug; Improve implementation and tests  ", "commit": "\n--- a/src/main/java/org/apache/commons/lang3/BooleanUtils.java\n+++ b/src/main/java/org/apache/commons/lang3/BooleanUtils.java\n     /**\n      * <p>Converts a String to a Boolean throwing an exception if no match found.</p>\n      *\n-     * <p>null is returned if there is no match.</p>\n-     *\n      * <pre>\n      *   BooleanUtils.toBoolean(\"true\", \"true\", \"false\")  = true\n      *   BooleanUtils.toBoolean(\"false\", \"true\", \"false\") = false\n      * @throws IllegalArgumentException if the String doesn't match\n      */\n     public static boolean toBoolean(String str, String trueString, String falseString) {\n-        if (str == null) {\n-            if (trueString == null) {\n+        if (str == trueString) {\n+            return true;\n+        } else if (str == falseString) {\n+            return false;\n+        } else if (str != null) {\n+            if (str.equals(trueString)) {\n                 return true;\n-            }\n-            if (falseString == null) {\n+            } else if (str.equals(falseString)) {\n                 return false;\n             }\n-        } else if (str.equals(trueString)) {\n-            return true;\n-        } else if (str.equals(falseString)) {\n-            return false;\n         }\n         // no match\n         throw new IllegalArgumentException(\"The String did not match either specified value\");\n--- a/src/test/java/org/apache/commons/lang3/BooleanUtilsTest.java\n+++ b/src/test/java/org/apache/commons/lang3/BooleanUtilsTest.java\n     public void test_toBoolean_String_String_String() {\n         assertEquals(true, BooleanUtils.toBoolean((String) null, null, \"N\"));\n         assertEquals(false, BooleanUtils.toBoolean((String) null, \"Y\", null));\n-        try {\n-            BooleanUtils.toBooleanObject((String) null, \"Y\", \"N\", \"U\");\n-            fail();\n-        } catch (IllegalArgumentException ex) {}\n-        \n         assertEquals(true, BooleanUtils.toBoolean(\"Y\", \"Y\", \"N\"));\n+        assertEquals(true, BooleanUtils.toBoolean(\"Y\", new String(\"Y\"), new String(\"N\")));\n         assertEquals(false, BooleanUtils.toBoolean(\"N\", \"Y\", \"N\"));\n+        assertEquals(false, BooleanUtils.toBoolean(\"N\", new String(\"Y\"), new String(\"N\")));\n         try {\n             BooleanUtils.toBoolean(null, \"Y\", \"N\");\n             fail();\n             BooleanUtils.toBoolean(\"X\", \"Y\", \"N\");\n             fail();\n         } catch (IllegalArgumentException ex) {}\n+        assertEquals(true, BooleanUtils.toBoolean((String) null, null, null));\n+        assertEquals(true, BooleanUtils.toBoolean(\"Y\", \"Y\", \"Y\"));\n+        assertEquals(true, BooleanUtils.toBoolean(\"Y\", new String(\"Y\"), new String(\"Y\")));\n     }\n \n     //-----------------------------------------------------------------------", "timestamp": 1307530287, "metainfo": ""}