{"sha": "44c28a1e9e109378d4c303928bfaa9c4e41bf227", "log": "testHtml40Nbsp   ", "commit": "\n--- a/src/test/org/apache/commons/lang/EntitiesTest.java\n+++ b/src/test/org/apache/commons/lang/EntitiesTest.java\n  *\n  * @author of original StringUtilsTest.testEscape = ?\n  * @author <a href=\"mailto:alex@purpletech.com\">Alexander Day Chaffee</a>\n- * @version $Id: EntitiesTest.java,v 1.5 2003/05/24 19:24:15 ggregory Exp $\n+ * @version $Id: EntitiesTest.java,v 1.6 2003/06/29 03:04:33 alex Exp $\n  */\n public class EntitiesTest extends TestCase\n {\n \n     public void testArrayIntMap() throws Exception\n     {\n-        Entities.ArrayIntMap map = new Entities.ArrayIntMap(2);\n-        checkSomeIntMap(map);\n+        Entities.ArrayEntityMap map = new Entities.ArrayEntityMap(2);\n+        checkSomeEntityMap(map);\n     }\n \n     public void testTreeIntMap() throws Exception\n     {\n-        Entities.IntMap map = new Entities.TreeIntMap();\n-        checkSomeIntMap(map);\n+        Entities.EntityMap map = new Entities.TreeEntityMap();\n+        checkSomeEntityMap(map);\n     }\n \n     public void testHashIntMap() throws Exception\n     {\n-        Entities.IntMap map = new Entities.HashIntMap();\n-        checkSomeIntMap(map);\n+        Entities.EntityMap map = new Entities.HashEntityMap();\n+        checkSomeEntityMap(map);\n     }\n \n     public void testBinaryIntMap() throws Exception\n     {\n-        Entities.BinaryIntMap map = new Entities.BinaryIntMap(2);\n-        checkSomeIntMap(map);\n+        Entities.BinaryEntityMap map = new Entities.BinaryEntityMap(2);\n+        checkSomeEntityMap(map);\n     }\n \n-    private void checkSomeIntMap(Entities.IntMap map) {\n+    public void testPrimitiveIntMap() throws Exception\n+    {\n+        Entities.PrimitiveEntityMap map = new Entities.PrimitiveEntityMap();\n+        checkSomeEntityMap(map);\n+    }\n+\n+    private void checkSomeEntityMap(Entities.EntityMap map) {\n         map.add(\"foo\", 1);\n         assertEquals(1, map.value(\"foo\"));\n         assertEquals(\"foo\", map.name(1));\n         assertEquals(3, map.value(\"baz\"));\n         assertEquals(\"baz\", map.name(3));\n     }\n+\n+    public void testHtml40Nbsp() throws Exception\n+    {\n+        assertEquals(\"&nbsp;\", Entities.HTML40.escape(\"\\u00A0\"));\n+        Entities e = new Entities();\n+        e.map = new Entities.PrimitiveEntityMap();\n+        Entities.fillWithHtml40Entities(e);\n+        assertEquals(\"&nbsp;\", e.escape(\"\\u00A0\"));\n+    }\n+\n }\n ", "timestamp": 1056855873, "metainfo": ""}