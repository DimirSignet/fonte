{"sha": "552148a7cdf57d0adfab8ca14c99d5f600627512", "log": "Improve the error message for the new global name check, so that it contains two locations (where both the owner and property are defined)  R=acleung DELTA=6  (4 added, 0 deleted, 2 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=1679   ", "commit": "\n--- a/src/com/google/javascript/jscomp/CheckGlobalNames.java\n+++ b/src/com/google/javascript/jscomp/CheckGlobalNames.java\n   static final DiagnosticType NAME_DEFINED_LATE_WARNING =\n       DiagnosticType.warning(\n           \"JSC_NAME_DEFINED_LATE\",\n-          \"{0} is not defined yet, so properties cannot be referenced on it\");\n+          \"{0} defined before its owner. {1} is defined at {2}:{3}\");\n \n   static final DiagnosticType STRICT_MODULE_DEP_QNAME =\n       DiagnosticType.disabled(\n           parent.declaration.preOrderIndex > ref.preOrderIndex) {\n         compiler.report(\n             JSError.make(ref.source.getName(), ref.node,\n-                NAME_DEFINED_LATE_WARNING, parent.fullName()));\n+                NAME_DEFINED_LATE_WARNING,\n+                name.fullName(),\n+                parent.fullName(),\n+                parent.declaration.source.getName(),\n+                String.valueOf(parent.declaration.node.getLineno())));\n       }\n     }\n   }", "timestamp": 1304107483, "metainfo": ""}