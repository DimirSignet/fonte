{"sha": "95248f54ad685bdbde6d9268239cd39ec434b466", "log": "Perform VariableMap specific escaping.  R=mwr DELTA=6  (5 added, 0 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=57   ", "commit": "\n--- a/src/com/google/javascript/jscomp/ReplaceStrings.java\n+++ b/src/com/google/javascript/jscomp/ReplaceStrings.java\n   VariableMap getStringMap() {\n     Map<String, String> map = Maps.newHashMap();\n     for (Result result : results.values()) {\n-      map.put(result.replacement, result.original);\n+      /* VariableMap don't support newlines, escape them. */\n+      map.put(result.replacement, escapeForVariableMap(result.original));\n     }\n \n     VariableMap stringMap = new VariableMap(map);\n     return stringMap;\n+  }\n+\n+  private String escapeForVariableMap(String original) {\n+    return original.replace(\"\\\\\", \"\\\\\\\\\").replace(\"\\n\", \"\\\\n\");\n   }\n \n   @Override", "timestamp": 1291413604, "metainfo": ""}