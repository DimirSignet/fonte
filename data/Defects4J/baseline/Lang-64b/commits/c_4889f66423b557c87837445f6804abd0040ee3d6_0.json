{"sha": "4889f66423b557c87837445f6804abd0040ee3d6", "log": "Fixes http://issues.apache.org/bugzilla/show_bug.cgi?id=33737. [lang] ExceptionUtils.addCauseMethodName(String) does not check for duplicates. Fix adds:  ExceptionUtils.removeCauseMethodName(String)  ExceptionUtils.isCauseMethodName(String)  ", "commit": "\n--- a/src/test/org/apache/commons/lang/exception/ExceptionUtilsTestCase.java\n+++ b/src/test/org/apache/commons/lang/exception/ExceptionUtilsTestCase.java\n import java.lang.reflect.InvocationTargetException;\n import java.sql.SQLException;\n \n+import junit.framework.Assert;\n import junit.framework.Test;\n import junit.framework.TestSuite;\n import org.apache.commons.lang.SystemUtils;\n  * @author <a href=\"mailto:dlr@finemaltcoding.com\">Daniel Rall</a>\n  * @author <a href=\"mailto:steven@caswell.name\">Steven Caswell</a>\n  * @author Stephen Colebourne\n+ * @author <a href=\"mailto:ggregory@seagullsw.com\">Gary Gregory</a>\n  * @since 1.0\n  */\n public class ExceptionUtilsTestCase extends junit.framework.TestCase {\n     }\n \n     //-----------------------------------------------------------------------\n+    \n+    public void testCauseMethodNameOps() {\n+        this.testCauseMethodNameOps(null);\n+        this.testCauseMethodNameOps(\"\");\n+        this.testCauseMethodNameOps(\" \");\n+        this.testCauseMethodNameOps(\"\\t\\r\\n\\t\");\n+        this.testCauseMethodNameOps(\"testMethodName\");\n+    }\n+    \n+    void testCauseMethodNameOps(String name) {\n+        String methodName = \"testMethodName\";\n+        try {\n+            Assert.assertFalse(ExceptionUtils.isCauseMethodName(methodName));\n+            ExceptionUtils.addCauseMethodName(methodName);            \n+            ExceptionUtils.addCauseMethodName(methodName);            \n+            Assert.assertTrue(ExceptionUtils.isCauseMethodName(methodName));\n+        } finally {\n+            ExceptionUtils.removeCauseMethodName(methodName);\n+            Assert.assertFalse(\n+                    \"The method name \" + methodName + \" should not be in the array\", \n+                    ExceptionUtils.isCauseMethodName(methodName));\n+        }\n+    }\n+    \n     public void testGetCause_Throwable() {\n         assertSame(null, ExceptionUtils.getCause(null));\n         assertSame(null, ExceptionUtils.getCause(withoutCause));", "timestamp": 1109276766, "metainfo": ""}