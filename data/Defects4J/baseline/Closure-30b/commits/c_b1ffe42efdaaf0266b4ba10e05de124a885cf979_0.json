{"sha": "b1ffe42efdaaf0266b4ba10e05de124a885cf979", "log": "Change on 2010/06/25 by elnatan          Putting in a few informative error messages          R=johnlenz         DELTA=13  (9 added, 0 deleted, 4 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=40001   ", "commit": "\n--- a/src/com/google/javascript/jscomp/CodeGenerator.java\n+++ b/src/com/google/javascript/jscomp/CodeGenerator.java\n \n     // Handle all binary operators\n     if (opstr != null && first != last) {\n-      Preconditions.checkState(childCount == 2);\n+      Preconditions.checkState(\n+          childCount == 2,\n+          \"Bad binary operator \\\"%s\\\": expected 2 arguments but got %s\",\n+          opstr, childCount);\n       int p = NodeUtil.precedence(type);\n       addLeftExpr(first, p, context);\n       cc.addOp(opstr, true);\n         break;\n \n       case Token.GETPROP: {\n-        Preconditions.checkState(childCount == 2);\n-        Preconditions.checkState(last.getType() == Token.STRING);\n+        Preconditions.checkState(\n+            childCount == 2,\n+            \"Bad GETPROP: expected 2 children, but got %s\", childCount);\n+        Preconditions.checkState(\n+            last.getType() == Token.STRING,\n+            \"Bad GETPROP: RHS should be STRING\");\n         boolean needsParens = (first.getType() == Token.NUMBER);\n         if (needsParens) {\n           add(\"(\");\n       }\n \n       case Token.GETELEM:\n-        Preconditions.checkState(childCount == 2);\n+        Preconditions.checkState(\n+            childCount == 2,\n+            \"Bad GETELEM: expected 2 children but got %s\", childCount);\n         addLeftExpr(first, NodeUtil.precedence(type), context);\n         add(\"[\");\n         add(first.getNext());", "timestamp": 1277501729, "metainfo": ""}