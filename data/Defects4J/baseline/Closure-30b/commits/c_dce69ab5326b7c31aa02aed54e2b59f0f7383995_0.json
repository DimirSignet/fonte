{"sha": "dce69ab5326b7c31aa02aed54e2b59f0f7383995", "log": "fix a bad cast  R=johnlenz DELTA=14  (12 added, 1 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=3521   ", "commit": "\n--- a/src/com/google/javascript/rhino/jstype/EnumElementType.java\n+++ b/src/com/google/javascript/rhino/jstype/EnumElementType.java\n   @Override\n   JSType resolveInternal(ErrorReporter t, StaticScope<JSType> scope) {\n     primitiveType = primitiveType.resolve(t, scope);\n-    primitiveObjectType =\n-        (ObjectType) safeResolve(primitiveObjectType, t, scope);\n+    primitiveObjectType = ObjectType.cast(primitiveType);\n     return this;\n   }\n }\n--- a/test/com/google/javascript/jscomp/TypeCheckTest.java\n+++ b/test/com/google/javascript/jscomp/TypeCheckTest.java\n         \"actual parameter 1 of g does not match formal parameter\\n\" +\n         \"found   : Error\\n\" +\n         \"required: Array\");\n+  }\n+\n+  public void testBackwardsTypedefUse10() throws Exception {\n+    testTypes(\n+        \"/** @param {goog.MyEnum} x */ function g(x) {}\" +\n+        \"var goog = {};\" +\n+        \"/** @enum {goog.MyTypedef} */ goog.MyEnum = {FOO: 1};\" +\n+        \"/** @typedef {number} */ goog.MyTypedef;\" +\n+        \"g(1);\",\n+        \"actual parameter 1 of g does not match formal parameter\\n\" +\n+        \"found   : number\\n\" +\n+        \"required: goog.MyEnum.<number>\");\n   }\n \n   public void testBackwardsConstructor1() throws Exception {", "timestamp": 1319581122, "metainfo": ""}