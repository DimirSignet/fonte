{"sha": "66ceadf2aba8b7e8f5558921cede94f9e2e1e77c", "log": "Some properties have no defined source node (ex: \"prototype\" on built in types).  Better not to throw NPEs on cleanup for those. If we don't konw where the property was defined, we assume it was NOT the class we are incrementally compiling.  R=nicksantos DELTA=1  (0 added, 0 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=3101   ", "commit": "\n--- a/src/com/google/javascript/jscomp/FieldCleanupPass.java\n+++ b/src/com/google/javascript/jscomp/FieldCleanupPass.java\n             typeRegistry.getEachReferenceTypeWithProperty(propName));\n         for (ObjectType type : types) {\n           Node pNode = type.getPropertyNode(propName);\n-          if (srcName.equals(pNode.getSourceFileName())) {\n+          if (pNode != null && srcName.equals(pNode.getSourceFileName())) {\n             typeRegistry.unregisterPropertyOnType(propName, type);\n             type.removeProperty(propName);\n           }", "timestamp": 1314119077, "metainfo": ""}