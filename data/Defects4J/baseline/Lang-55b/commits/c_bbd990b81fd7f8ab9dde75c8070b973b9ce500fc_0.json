{"sha": "bbd990b81fd7f8ab9dde75c8070b973b9ce500fc", "log": "Applying test for LANG-304 and fix to LocaleUtils  ", "commit": "\n--- a/src/java/org/apache/commons/lang/LocaleUtils.java\n+++ b/src/java/org/apache/commons/lang/LocaleUtils.java\n      * @return true if the locale is a known locale\n      */\n     public static boolean isAvailableLocale(Locale locale) {\n-        return cAvailableLocaleSet.contains(locale);\n+        return availableLocaleList().contains(locale);\n     }\n \n     //-----------------------------------------------------------------------\n--- a/src/test/org/apache/commons/lang/LocaleUtilsTest.java\n+++ b/src/test/org/apache/commons/lang/LocaleUtilsTest.java\n         TestSuite suite = new TestSuite(LocaleUtilsTest.class);\n         suite.setName(\"LocaleUtilsTest Tests\");\n         return suite;\n+    }\n+\n+    public void setUp() throws Exception {\n+        super.setUp();\n+\n+        // Testing #LANG-304. Must be called before availableLocaleSet is called.\n+        LocaleUtils.isAvailableLocale(Locale.getDefault());\n     }\n \n     //-----------------------------------------------------------------------", "timestamp": 1166819677, "metainfo": ""}