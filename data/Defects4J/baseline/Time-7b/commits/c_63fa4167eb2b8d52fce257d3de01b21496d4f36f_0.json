{"sha": "63fa4167eb2b8d52fce257d3de01b21496d4f36f", "log": "Optimise toInterval   ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/DateMidnight.java\n+++ b/JodaTime/src/java/org/joda/time/DateMidnight.java\n      * @return a YearMonthDay using the same millis and chronology\n      */\n     public Interval toInterval() {\n-        return new Interval(this, Period.days(1));\n+        Chronology chrono = getChronology();\n+        long start = getMillis();\n+        long end = DurationFieldType.days().getField(chrono).add(start, 1);\n+        return new Interval(start, end, chrono);\n     }\n \n     // Date properties\n--- a/JodaTime/src/java/org/joda/time/YearMonthDay.java\n+++ b/JodaTime/src/java/org/joda/time/YearMonthDay.java\n      */\n     public Interval toInterval(DateTimeZone zone) {\n         zone = DateTimeUtils.getZone(zone);\n-        DateMidnight start = toDateMidnight(zone);\n-        return new Interval(start, start.plus(Period.days(1)));\n+        return toDateMidnight(zone).toInterval();\n     }\n \n     //-----------------------------------------------------------------------", "timestamp": 1094935603, "metainfo": ""}