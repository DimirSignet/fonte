{"sha": "b9b9292a5101bf7d8aa667dac72b4042436f4b5e", "log": "Handle ordinal dates   ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/format/ISODateTimeFormat.java\n+++ b/JodaTime/src/java/org/joda/time/format/ISODateTimeFormat.java\n         we,  // weekyear element (xxxx)\n         wwe, // weekOfWeekyear element (-ww)\n         dwe, // dayOfWeek element (-ee)\n+        dye, // dayOfYear element (-ooo)\n         hde, // hourOfDay element (HH)\n         mhe, // minuteOfHour element (:mm)\n         sme, // secondOfMinute element (:ss)\n      * the following syntax:\n      * <pre>\n      * date              = date-element ['T' offset]\n-     * date-element      = (yyyy ['-' MM ['-' dd]]) | week-date-element\n+     * date-element      = std-date-element | ord-date-element | week-date-element\n+     * std-date-element  = yyyy ['-' MM ['-' dd]]\n+     * ord-date-element  = yyyy ['-' ddd]\n      * week-date-element = xxxx '-W' ww ['-' e]\n      * offset            = 'Z' | (('+' | '-') HH ':' mm)\n      * </pre>\n      * Returns a generic ISO date parser. It accepts formats described by\n      * the following syntax:\n      * <pre>\n-     * date-element      = (yyyy ['-' MM ['-' dd]]) | week-date-element\n+     * date-element      = std-date-element | ord-date-element | week-date-element\n+     * std-date-element  = yyyy ['-' MM ['-' dd]]\n+     * ord-date-element  = yyyy ['-' ddd]\n      * week-date-element = xxxx '-W' ww ['-' e]\n      * </pre>\n      */\n                     .append(weekyearElement())\n                     .append(weekElement())\n                     .appendOptional(dayOfWeekElement())\n+                    .toParser(),\n+                    new DateTimeFormatterBuilder(iChrono)\n+                    .append(yearElement())\n+                    .append(dayOfYearElement())\n                     .toParser()\n                 })\n                 .toParser();\n      * <pre>\n      * datetime          = time | (date-element [time | ('T' offset)])\n      * time              = 'T' time-element [offset]\n-     * date-element      = (yyyy ['-' MM ['-' dd]]) | week-date-element\n+     * date-element      = std-date-element | ord-date-element | week-date-element\n+     * std-date-element  = yyyy ['-' MM ['-' dd]]\n+     * ord-date-element  = yyyy ['-' ddd]\n      * week-date-element = xxxx '-W' ww ['-' e]\n      * time-element      = HH [minute-element] | [fraction]\n      * minute-element    = ':' mm [second-element] | [fraction]\n         return dwe;\n     }\n \n+    private DateTimeFormatter dayOfYearElement() {\n+        if (dye == null) {\n+            dye = new DateTimeFormatterBuilder(iChrono)\n+                .appendLiteral('-')\n+                .appendDayOfYear(3)\n+                .toFormatter();\n+        }\n+        return dye;\n+    }\n+\n     private DateTimeFormatter hourElement() {\n         if (hde == null) {\n             hde = new DateTimeFormatterBuilder(iChrono)\n         }\n         return ze;\n     }\n+    \n }", "timestamp": 1073172071, "metainfo": ""}