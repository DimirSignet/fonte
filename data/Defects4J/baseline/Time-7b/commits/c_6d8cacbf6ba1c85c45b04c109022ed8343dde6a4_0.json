{"sha": "6d8cacbf6ba1c85c45b04c109022ed8343dde6a4", "log": "Handle LocalDate era field  ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/LocalDate.java\n+++ b/JodaTime/src/java/org/joda/time/LocalDate.java\n         DATE_DURATION_TYPES.add(DurationFieldType.weekyears());\n         DATE_DURATION_TYPES.add(DurationFieldType.years());\n         DATE_DURATION_TYPES.add(DurationFieldType.centuries());\n+        // eras are supported, although the DurationField generally isn't\n         DATE_DURATION_TYPES.add(DurationFieldType.eras());\n     }\n \n         if (type == null) {\n             return false;\n         }\n-        return isSupported(type.getDurationType());\n+        DurationFieldType durType = type.getDurationType();\n+        if (DATE_DURATION_TYPES.contains(durType) ||\n+                durType.getField(getChronology()).getUnitMillis() >=\n+                    getChronology().days().getUnitMillis()) {\n+            return type.getField(getChronology()).isSupported();\n+        }\n+        return false;\n     }\n \n     /**\n--- a/JodaTime/src/test/org/joda/time/TestAll.java\n+++ b/JodaTime/src/test/org/joda/time/TestAll.java\n         suite.addTest(TestLocalTime_Constructors.suite());\n         suite.addTest(TestLocalTime_Properties.suite());\n         \n-//        suite.addTest(TestLocalDate_Basics.suite());\n+        suite.addTest(TestLocalDate_Basics.suite());\n         \n         suite.addTest(TestMutableInterval_Constructors.suite());\n         suite.addTest(TestMutableInterval_Basics.suite());\n--- a/JodaTime/src/test/org/joda/time/TestLocalDate_Basics.java\n+++ b/JodaTime/src/test/org/joda/time/TestLocalDate_Basics.java\n \n     public void testIsSupported_DurationFieldType() {\n         LocalDate test = new LocalDate(1970, 6, 9);\n-        assertEquals(true, test.isSupported(DurationFieldType.eras()));\n+        assertEquals(false, test.isSupported(DurationFieldType.eras()));\n         assertEquals(true, test.isSupported(DurationFieldType.centuries()));\n         assertEquals(true, test.isSupported(DurationFieldType.years()));\n         assertEquals(true, test.isSupported(DurationFieldType.months()));", "timestamp": 1142036775, "metainfo": ""}