{"sha": "8151ee57fded437dfec53444405e317832bdd1c5", "log": "Add ability to build compound hashCode using superclass   ", "commit": "\n--- a/src/java/org/apache/commons/lang/builder/HashCodeBuilder.java\n+++ b/src/java/org/apache/commons/lang/builder/HashCodeBuilder.java\n  *   public int hashCode() {\n  *     // you pick a hard-coded, randomly chosen, non-zero, odd number\n  *     // ideally different for each class\n- *     return new HashCodeBuilder(17, 37).   \n+ *     return new HashCodeBuilder(17, 37).\n  *       append(name).\n  *       append(age).\n  *       append(smoker).\n  *   }\n  * }\n  * </pre>\n+ * \n+ * <p>If required, the superclass hashCode can be added using {@link #appendSuper}.</p>\n  *\n  * <p>Alternatively, there is a method that uses reflection to determine\n  * the fields to test. Because these fields are usually private, the method, \n  * </pre>\n  * \n  * @author <a href=\"mailto:scolebourne@joda.org\">Stephen Colebourne</a>\n- * @version $Id: HashCodeBuilder.java,v 1.5 2002/11/17 21:46:42 scolebourne Exp $\n+ * @version $Id: HashCodeBuilder.java,v 1.6 2002/12/08 21:22:07 scolebourne Exp $\n  */\n public class HashCodeBuilder {\n     \n         return hashCodeBuilder.toHashCode();\n     }\n \n+    //-------------------------------------------------------------------------\n+    \n+    /**\n+     * <p>Adds the result of super.hashCode() to this builder.</p>\n+     *\n+     * @param superHashCode  the result of calling <code>super.hashCode()</code>\n+     * @return this HashCodeBuilder, used to chain calls.\n+     */\n+    public HashCodeBuilder appendSuper(int superHashCode) {\n+        iTotal = iTotal * iConstant + superHashCode;\n+        return this;\n+    }\n+    \n     //-------------------------------------------------------------------------\n     \n     /**\n--- a/src/test/org/apache/commons/lang/builder/HashCodeBuilderTest.java\n+++ b/src/test/org/apache/commons/lang/builder/HashCodeBuilderTest.java\n  * Unit tests {@link org.apache.commons.lang.HashCodeBuilder}.\n  *\n  * @author <a href=\"mailto:scolebourne@joda.org\">Stephen Colebourne</a>\n- * @version $Id: HashCodeBuilderTest.java,v 1.1 2002/09/12 22:01:00 scolebourne Exp $\n+ * @version $Id: HashCodeBuilderTest.java,v 1.2 2002/12/08 21:22:42 scolebourne Exp $\n  */\n public class HashCodeBuilderTest extends TestCase {\n \n             return;\n         }\n         fail();\n+    }\n+\n+    public void testSuper() {\n+        Object obj = new Object();\n+        assertEquals(17 * 37 + (19 * 41 + obj.hashCode()), new HashCodeBuilder(17, 37).appendSuper(\n+            new HashCodeBuilder(19, 41).append(obj).toHashCode()\n+        ).toHashCode());\n     }\n \n     public void testObject() {", "timestamp": 1039382562, "metainfo": ""}