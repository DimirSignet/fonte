{"sha": "65714d6c49ce1b3c722836717e38f9b13021b8bb", "log": "Clean up IRFactory so that it fails if it encounters unexpected node types in the coming from the Rhino parser.  R=nicksantos DELTA=122  (0 added, 121 deleted, 1 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=1367   ", "commit": "\n--- a/src/com/google/javascript/jscomp/parsing/IRFactory.java\n+++ b/src/com/google/javascript/jscomp/parsing/IRFactory.java\n \n   private static int transformTokenType(int token) {\n     switch (token) {\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.ERROR:\n-        return Token.ERROR;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.EOF:\n-        return Token.EOF;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.EOL:\n-        return Token.EOL;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.ENTERWITH:\n-        return Token.ENTERWITH;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.LEAVEWITH:\n-        return Token.LEAVEWITH;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.RETURN:\n         return Token.RETURN;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.GOTO:\n-        return Token.GOTO;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.IFEQ:\n-        return Token.IFEQ;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.IFNE:\n-        return Token.IFNE;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.SETNAME:\n-        return Token.SETNAME;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.BITOR:\n         return Token.BITOR;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.BITXOR:\n         return Token.SHNE;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.REGEXP:\n         return Token.REGEXP;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.BINDNAME:\n-        return Token.BINDNAME;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.THROW:\n         return Token.THROW;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.RETHROW:\n-        return Token.RETHROW;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.IN:\n         return Token.IN;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.INSTANCEOF:\n         return Token.INSTANCEOF;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.LOCAL_LOAD:\n-        return Token.LOCAL_LOAD;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.GETVAR:\n-        return Token.GETVAR;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.SETVAR:\n-        return Token.SETVAR;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.CATCH_SCOPE:\n-        return Token.CATCH_SCOPE;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.ENUM_INIT_KEYS:\n-        return Token.ENUM_INIT_KEYS;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.ENUM_INIT_VALUES:\n-        return Token.ENUM_INIT_VALUES;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.ENUM_NEXT:\n-        return Token.ENUM_NEXT;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.ENUM_ID:\n-        return Token.ENUM_ID;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.THISFN:\n-        return Token.THISFN;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.RETURN_RESULT:\n-        return Token.RETURN_RESULT;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.ARRAYLIT:\n         return Token.ARRAYLIT;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.OBJECTLIT:\n         return Token.OBJECTLIT;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.GET_REF:\n-        return Token.GET_REF;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.SET_REF:\n-        return Token.SET_REF;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.DEL_REF:\n-        return Token.DEL_REF;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.REF_CALL:\n-        return Token.REF_CALL;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.REF_SPECIAL:\n-        return Token.REF_SPECIAL;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.DEFAULTNAMESPACE:\n-        return Token.DEFAULTNAMESPACE;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.ESCXMLTEXT:\n-        return Token.ESCXMLTEXT;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.ESCXMLATTR:\n-        return Token.ESCXMLATTR;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.REF_MEMBER:\n-        return Token.REF_MEMBER;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.REF_NS_MEMBER:\n-        return Token.REF_NS_MEMBER;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.REF_NAME:\n-        return Token.REF_NAME;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.REF_NS_NAME:\n-        return Token.REF_NS_NAME;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.TRY:\n         return Token.TRY;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.SEMI:\n-        return Token.SEMI;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.LB:\n-        return Token.LB;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.RB:\n-        return Token.RB;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.LC:\n-        return Token.LC;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.RC:\n-        return Token.RC;\n+      // The LP represents a parameter list\n       case com.google.javascript.jscomp.mozilla.rhino.Token.LP:\n         return Token.LP;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.RP:\n-        return Token.RP;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.COMMA:\n         return Token.COMMA;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.ASSIGN:\n         return Token.INC;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.DEC:\n         return Token.DEC;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.DOT:\n-        return Token.DOT;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.FUNCTION:\n         return Token.FUNCTION;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.EXPORT:\n-        return Token.EXPORT;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.IMPORT:\n-        return Token.IMPORT;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.IF:\n         return Token.IF;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.ELSE:\n         return Token.FINALLY;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.VOID:\n         return Token.VOID;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.RESERVED:\n-        return Token.RESERVED;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.EMPTY:\n         return Token.EMPTY;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.BLOCK:\n         return Token.BLOCK;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.LABEL:\n         return Token.LABEL;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.TARGET:\n-        return Token.TARGET;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.LOOP:\n-        return Token.LOOP;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.EXPR_VOID:\n       case com.google.javascript.jscomp.mozilla.rhino.Token.EXPR_RESULT:\n         return Token.EXPR_RESULT;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.JSR:\n-        return Token.JSR;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.SCRIPT:\n         return Token.SCRIPT;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.TYPEOFNAME:\n-        return Token.TYPEOFNAME;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.USE_STACK:\n-        return Token.USE_STACK;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.SETPROP_OP:\n-        return Token.SETPROP_OP;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.SETELEM_OP:\n-        return Token.SETELEM_OP;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.LOCAL_BLOCK:\n-        return Token.LOCAL_BLOCK;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.SET_REF_OP:\n-        return Token.SET_REF_OP;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.DOTDOT:\n-        return Token.DOTDOT;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.COLONCOLON:\n-        return Token.COLONCOLON;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.XML:\n-        return Token.XML;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.DOTQUERY:\n-        return Token.DOTQUERY;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.XMLATTR:\n-        return Token.XMLATTR;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.XMLEND:\n-        return Token.XMLEND;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.TO_OBJECT:\n-        return Token.TO_OBJECT;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.TO_DOUBLE:\n-        return Token.TO_DOUBLE;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.GET:\n         return Token.GET;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.SET:\n         return Token.SET;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.CONST:\n         return Token.CONST;\n-      case com.google.javascript.jscomp.mozilla.rhino.Token.SETCONST:\n-        return Token.SETCONST;\n       case com.google.javascript.jscomp.mozilla.rhino.Token.DEBUGGER:\n         return Token.DEBUGGER;\n     }", "timestamp": 1302567587, "metainfo": ""}