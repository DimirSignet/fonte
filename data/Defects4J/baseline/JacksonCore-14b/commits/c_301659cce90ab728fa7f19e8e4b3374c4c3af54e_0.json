{"sha": "301659cce90ab728fa7f19e8e4b3374c4c3af54e", "log": "Merge pull request #174 from Scytl/master  resolves #172 by adding last operation in JsonPointer.", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/core/JsonPointer.java\n+++ b/src/main/java/com/fasterxml/jackson/core/JsonPointer.java\n     public boolean mayMatchElement() { return _matchingElementIndex >= 0; }\n \n     /**\n+     * Returns the leaf of current json pointer expression.\n+     * Leaf is the last non-null segment of current json pointer.\n+     */\n+    public JsonPointer last() {\n+        JsonPointer current = this;\n+        while(!JsonPointer.EMPTY.equals(current._nextSegment)) {\n+            current = current._nextSegment;\n+        }\n+        return current;\n+    }\n+\n+    public JsonPointer append(JsonPointer jsonPointer) {\n+        String currentJsonPointer = _asString;\n+        if(currentJsonPointer.endsWith(\"/\")) {\n+            //removes final slash\n+            currentJsonPointer = currentJsonPointer.substring(0, currentJsonPointer.length()-1);\n+        }\n+        return compile(currentJsonPointer + jsonPointer._asString);\n+    }\n+\n+    /**\n      * Method that may be called to see if the pointer would match property\n      * (of a JSON Object) with given name.\n      * \n--- a/src/test/java/com/fasterxml/jackson/core/TestJsonPointer.java\n+++ b/src/test/java/com/fasterxml/jackson/core/TestJsonPointer.java\n         JsonPointer ptr = JsonPointer.compile(\"/1e0\");\n         assertFalse(ptr.matches());\n     }\n-    \n+\n+    public void testLast()\n+    {\n+        final String INPUT = \"/Image/15/name\";\n+\n+        JsonPointer ptr = JsonPointer.compile(INPUT);\n+        JsonPointer leaf = ptr.last();\n+\n+        assertEquals(\"name\", leaf.getMatchingProperty());\n+    }\n+\n+    public void testAppend()\n+    {\n+        final String INPUT = \"/Image/15/name\";\n+        final String APPEND = \"/extension\";\n+\n+        JsonPointer ptr = JsonPointer.compile(INPUT);\n+        JsonPointer apd = JsonPointer.compile(APPEND);\n+\n+        JsonPointer appended = ptr.append(apd);\n+\n+        assertEquals(\"extension\", appended.last().getMatchingProperty());\n+    }\n+\n+    public void testAppendWithFinalSlash()\n+    {\n+        final String INPUT = \"/Image/15/name/\";\n+        final String APPEND = \"/extension\";\n+\n+        JsonPointer ptr = JsonPointer.compile(INPUT);\n+        JsonPointer apd = JsonPointer.compile(APPEND);\n+\n+        JsonPointer appended = ptr.append(apd);\n+\n+        assertEquals(\"extension\", appended.last().getMatchingProperty());\n+    }\n+\n     public void testQuotedPath() throws Exception\n     {\n         final String INPUT = \"/w~1out/til~0de/a~1b\";", "timestamp": 1418160258, "metainfo": ""}