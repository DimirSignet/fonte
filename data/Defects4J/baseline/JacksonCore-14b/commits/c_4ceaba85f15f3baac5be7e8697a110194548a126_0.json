{"sha": "4ceaba85f15f3baac5be7e8697a110194548a126", "log": "Fix #143 (regression, not present in 2.3.3)", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/core/io/IOContext.java\n+++ b/src/main/java/com/fasterxml/jackson/core/io/IOContext.java\n     /**********************************************************\n      */\n \n-    protected void _verifyAlloc(Object buffer) {\n+    protected final void _verifyAlloc(Object buffer) {\n         if (buffer != null) { throw new IllegalStateException(\"Trying to call same allocXxx() method second time\"); }\n     }\n \n-    protected void _verifyRelease(byte[] toRelease, byte[] src) {\n+    protected final void _verifyRelease(byte[] toRelease, byte[] src) {\n         if ((toRelease != src) && (toRelease.length <= src.length)) { throw wrongBuf(); }\n     }\n \n-    protected void _verifyRelease(char[] toRelease, char[] src) {\n+    protected final void _verifyRelease(char[] toRelease, char[] src) {\n         if ((toRelease != src) && (toRelease.length <= src.length)) { throw wrongBuf(); }\n     }\n \n--- a/src/main/java/com/fasterxml/jackson/core/util/BufferRecycler.java\n+++ b/src/main/java/com/fasterxml/jackson/core/util/BufferRecycler.java\n     public final static int CHAR_NAME_COPY_BUFFER = 3; // Temporary buffer for getting name characters\n \n     // Buffer lengths, defined in 2.4 (smaller before that)\n-    \n+\n     private final static int[] BYTE_BUFFER_LENGTHS = new int[] { 8000, 8000, 2000, 2000 };\n     private final static int[] CHAR_BUFFER_LENGTHS = new int[] { 4000, 4000, 200, 200 };\n     \n     }\n \n     public byte[] allocByteBuffer(int ix, int minSize) {\n-        final int DEF_SIZE = charBufferLength(ix);\n+        final int DEF_SIZE = byteBufferLength(ix);\n         if (minSize < DEF_SIZE) {\n             minSize = DEF_SIZE;\n         }\n         byte[] buffer = _byteBuffers[ix];\n         if (buffer == null || buffer.length < minSize) {\n-            buffer = balloc(byteBufferLength(ix));\n+            buffer = balloc(minSize);\n         } else {\n             _byteBuffers[ix] = null;\n         }", "timestamp": 1402087481, "metainfo": ""}