{"sha": "7f5065ac837ef92c86bccd6a6d5372c7122f1b64", "log": "Update release notes wrt #182", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/core/util/TextBuffer.java\n+++ b/src/main/java/com/fasterxml/jackson/core/util/TextBuffer.java\n         if (_resultString != null) return false;\n         return true;\n     }\n-    \n+\n+    /**\n+     * Accessor that may be used to get the contents of this buffer in a single\n+     * <code>char</code> array regardless of whether they were collected in a segmented\n+     * fashion or not.\n+     */\n     public char[] getTextBuffer()\n     {\n         // Are we just using shared input buffer?\n             return (_resultArray = _resultString.toCharArray());\n         }\n         // Nope; but does it fit in just one segment?\n-        if (!_hasSegments && _currentSegment != null)  return _currentSegment;\n+        if (!_hasSegments) {\n+            return (_currentSegment == null) ? NO_CHARS : _currentSegment;\n+        }\n         // Nope, need to have/create a non-segmented array and return it\n         return contentsAsArray();\n     }", "timestamp": 1424735498, "metainfo": ""}