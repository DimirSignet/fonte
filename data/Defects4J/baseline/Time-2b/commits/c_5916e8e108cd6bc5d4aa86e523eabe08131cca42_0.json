{"sha": "5916e8e108cd6bc5d4aa86e523eabe08131cca42", "log": "Add withDurationType method   ", "commit": "\n--- a/JodaTime/src/java/org/joda/time/Duration.java\n+++ b/JodaTime/src/java/org/joda/time/Duration.java\n \n     //-----------------------------------------------------------------------\n     /**\n+     * Creates a new Duration instance with the same total milliseconds but\n+     * different DurationType.\n+     * \n+     * @param type  the duration type to use, null means AllType\n+     * @return the new duration instance\n+     * @throws IllegalStateException if this duration is imprecise\n+     */\n+    public Duration withDurationType(DurationType type) {\n+        if (type == null) {\n+            type = DurationType.getAllType();\n+        }\n+        if (type.equals(getDurationType())) {\n+            return this;\n+        }\n+        return new Duration(getTotalMillis(), type);\n+    }\n+\n+    //-----------------------------------------------------------------------\n+    /**\n      * Overridden to do nothing, ensuring this class and all subclasses are immutable.\n      */\n     protected final void setDuration(ReadableDuration duration) {", "timestamp": 1090966503, "metainfo": ""}