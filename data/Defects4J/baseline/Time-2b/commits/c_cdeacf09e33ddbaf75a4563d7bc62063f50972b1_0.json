{"sha": "cdeacf09e33ddbaf75a4563d7bc62063f50972b1", "log": "Fix multi-lingual period format for using English from another language default [3471414]  An empty messages file ensures the bunde loader works correctly", "commit": "\n--- a/src/test/java/org/joda/time/format/TestPeriodFormat.java\n+++ b/src/test/java/org/joda/time/format/TestPeriodFormat.java\n /*\n- *  Copyright 2001-2005 Stephen Colebourne\n+ *  Copyright 2001-2012 Stephen Colebourne\n  *\n  *  Licensed under the Apache License, Version 2.0 (the \"License\");\n  *  you may not use this file except in compliance with the License.\n  */\n public class TestPeriodFormat extends TestCase {\n     \n+    private static final Locale EN = new Locale(\"en\");\n     private static final Locale FR = new Locale(\"fr\");\n     private static final Locale PT = new Locale(\"pt\");\n     private static final Locale ES = new Locale(\"es\");\n \n     protected void setUp() throws Exception {\n         originalLocale = Locale.getDefault();\n-        Locale.setDefault(Locale.UK);\n+        Locale.setDefault(DE);\n     }\n \n     protected void tearDown() throws Exception {\n     }\n \n     //-----------------------------------------------------------------------\n+    // wordBased() - default locale (de)\n+    //-----------------------------------------------------------------------\n+    public void test_wordBased_default() {\n+        Period p = new Period(0, 0, 0, 1, 5, 6 ,7, 8);\n+        assertEquals(\"1 Tag, 5 Stunden, 6 Minuten, 7 Sekunden und 8 Millisekunden\", PeriodFormat.wordBased().print(p));\n+    }\n+\n+    //-----------------------------------------------------------------------\n     // wordBased(Locale.FRENCH)\n     //-----------------------------------------------------------------------\n     public void test_wordBased_fr_formatStandard() {\n         assertSame(PeriodFormat.wordBased(NL), PeriodFormat.wordBased(NL));\n     }\n \n+    //-----------------------------------------------------------------------\n+    // Cross check languages\n+    //-----------------------------------------------------------------------\n+    public void test_wordBased_fr_from_de() {\n+      Locale.setDefault(DE);\n+      Period p = new Period(0, 0, 0, 1, 5, 6 ,7, 8);\n+      assertEquals(\"1 jour, 5 heures, 6 minutes, 7 secondes et 8 millisecondes\", PeriodFormat.wordBased(FR).print(p));\n+  }\n+\n+    public void test_wordBased_fr_from_nl() {\n+      Locale.setDefault(NL);\n+      Period p = new Period(0, 0, 0, 1, 5, 6 ,7, 8);\n+      assertEquals(\"1 jour, 5 heures, 6 minutes, 7 secondes et 8 millisecondes\", PeriodFormat.wordBased(FR).print(p));\n+  }\n+\n+    public void test_wordBased_en_from_de() {\n+      Locale.setDefault(DE);\n+      Period p = new Period(0, 0, 0, 1, 5, 6 ,7, 8);\n+      assertEquals(\"1 day, 5 hours, 6 minutes, 7 seconds and 8 milliseconds\", PeriodFormat.wordBased(EN).print(p));\n+  }\n+\n+    public void test_wordBased_en_from_nl() {\n+      Locale.setDefault(NL);\n+      Period p = new Period(0, 0, 0, 1, 5, 6 ,7, 8);\n+      assertEquals(\"1 day, 5 hours, 6 minutes, 7 seconds and 8 milliseconds\", PeriodFormat.wordBased(EN).print(p));\n+  }\n+\n }", "timestamp": 1328182958, "metainfo": ""}