{"sha": "48aea0ff7d027507362007415963a4b662fb10a7", "log": "Encode the null byte more correctly, because we have to be careful of look ahead. Contributed by kosmo.zb Fixes issue 486  R=acleung DELTA=9  (4 added, 1 deleted, 4 changed)   Revision created by MOE tool push_codebase. MOE_MIGRATION=2280   ", "commit": "\n--- a/src/com/google/javascript/jscomp/CodeGenerator.java\n+++ b/src/com/google/javascript/jscomp/CodeGenerator.java\n     for (int i = 0; i < s.length(); i++) {\n       char c = s.charAt(i);\n       switch (c) {\n-        case '\\0': sb.append(\"\\\\0\"); break;\n+        case '\\0': sb.append(\"\\\\000\"); break;\n         case '\\n': sb.append(\"\\\\n\"); break;\n         case '\\r': sb.append(\"\\\\r\"); break;\n         case '\\t': sb.append(\"\\\\t\"); break;\n--- a/test/com/google/javascript/jscomp/CodePrinterTest.java\n+++ b/test/com/google/javascript/jscomp/CodePrinterTest.java\n   }\n \n   public void testZero() {\n-    assertPrint(\"var x ='\\\\0';\", \"var x=\\\"\\\\0\\\"\");\n-    assertPrint(\"var x ='\\\\x00';\", \"var x=\\\"\\\\0\\\"\");\n-    assertPrint(\"var x ='\\\\u0000';\", \"var x=\\\"\\\\0\\\"\");\n+    assertPrint(\"var x ='\\\\0';\", \"var x=\\\"\\\\000\\\"\");\n+    assertPrint(\"var x ='\\\\x00';\", \"var x=\\\"\\\\000\\\"\");\n+    assertPrint(\"var x ='\\\\u0000';\", \"var x=\\\"\\\\000\\\"\");\n+    assertPrint(\"var x ='\\\\u00003';\", \"var x=\\\"\\\\0003\\\"\");\n   }\n \n   public void testUnicode() {", "timestamp": 1308096584, "metainfo": ""}