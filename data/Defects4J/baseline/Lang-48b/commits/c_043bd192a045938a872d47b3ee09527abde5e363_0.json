{"sha": "043bd192a045938a872d47b3ee09527abde5e363", "log": "CharacterEncoding renamed to CharEncoding   ", "commit": "\n--- /dev/null\n+++ b/src/java/org/apache/commons/lang/CharEncoding.java\n+/*\n+ * Copyright 2001-2004 The Apache Software Foundation.\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.commons.lang;\n+\n+import java.io.UnsupportedEncodingException;\n+\n+/**\n+ * TODO: Accept/Reject for 2.1.\n+ * \n+ * Character encoding names required of every implementation of the Java platform.\n+ * \n+ * According to the Java documentation <a\n+ * href=\"http://java.sun.com/j2se/1.3/docs/api/java/lang/package-summary.html#charenc\">JRE character encoding names\n+ * </a>:\n+ * <p>\n+ * <cite>Every implementation of the Java platform is required to support the following character encodings. Consult the\n+ * release documentation for your implementation to see if any other encodings are supported. </cite>\n+ * </p>\n+ * \n+ * @see <a href=\"http://java.sun.com/j2se/1.3/docs/api/java/lang/package-summary.html#charenc\">JRE character encoding\n+ *          names </a>\n+ * @author Apache Software Foundation\n+ * @since 2.1\n+ * @version $Id: CharEncoding.java,v 1.1 2004/10/02 01:46:29 bayard Exp $\n+ */\n+public class CharEncoding {\n+\n+    /**\n+     * <p>\n+     * ISO Latin Alphabet #1, also known as ISO-LATIN-1.\n+     * </p>\n+     * <p>\n+     * Every implementation of the Java platform is required to support this character encoding.\n+     * </p>\n+     * \n+     * @see <a href=\"http://java.sun.com/j2se/1.3/docs/api/java/lang/package-summary.html#charenc\">JRE character\n+     *          encoding names </a>\n+     */\n+    public static final String ISO_8859_1 = \"ISO-8859-1\";\n+\n+    /**\n+     * <p>\n+     * Seven-bit ASCII, also known as ISO646-US, also known as the Basic Latin block of the Unicode character set.\n+     * </p>\n+     * <p>\n+     * Every implementation of the Java platform is required to support this character encoding.\n+     * </p>\n+     * \n+     * @see <a href=\"http://java.sun.com/j2se/1.3/docs/api/java/lang/package-summary.html#charenc\">JRE character\n+     *          encoding names </a>\n+     */\n+    public static final String US_ASCII = \"US-ASCII\";\n+\n+    /**\n+     * <p>\n+     * Sixteen-bit Unicode Transformation Format, byte order specified by a mandatory initial byte-order mark (either\n+     * order accepted on input, big-endian used on output).\n+     * </p>\n+     * <p>\n+     * Every implementation of the Java platform is required to support this character encoding.\n+     * </p>\n+     * \n+     * @see <a href=\"http://java.sun.com/j2se/1.3/docs/api/java/lang/package-summary.html#charenc\">JRE character\n+     *          encoding names </a>\n+     */\n+    public static final String UTF_16 = \"UTF-16\";\n+\n+    /**\n+     * <p>\n+     * Sixteen-bit Unicode Transformation Format, big-endian byte order.\n+     * </p>\n+     * <p>\n+     * Every implementation of the Java platform is required to support this character encoding.\n+     * </p>\n+     * \n+     * @see <a href=\"http://java.sun.com/j2se/1.3/docs/api/java/lang/package-summary.html#charenc\">JRE character\n+     *          encoding names </a>\n+     */\n+    public static final String UTF_16BE = \"UTF-16BE\";\n+\n+    /**\n+     * <p>\n+     * Sixteen-bit Unicode Transformation Format, little-endian byte order.\n+     * </p>\n+     * <p>\n+     * Every implementation of the Java platform is required to support this character encoding.\n+     * </p>\n+     * \n+     * @see <a href=\"http://java.sun.com/j2se/1.3/docs/api/java/lang/package-summary.html#charenc\">JRE character\n+     *          encoding names </a>\n+     */\n+    public static final String UTF_16LE = \"UTF-16LE\";\n+\n+    /**\n+     * <p>\n+     * Eight-bit Unicode Transformation Format.\n+     * </p>\n+     * <p>\n+     * Every implementation of the Java platform is required to support this character encoding.\n+     * </p>\n+     * \n+     * @see <a href=\"http://java.sun.com/j2se/1.3/docs/api/java/lang/package-summary.html#charenc\">JRE character\n+     *          encoding names </a>\n+     */\n+    public static final String UTF_8 = \"UTF-8\";\n+\n+    /**\n+     * <p>\n+     * Returns whether the named charset is supported.\n+     * </p>\n+     * <p>\n+     * This is similar to <a\n+     * href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/nio/charset/Charset.html#isSupported(java.lang.String)\">java.nio.charset.Charset.isSupported(String)\n+     * </a>\n+     * </p>\n+     * \n+     * @param name\n+     *                  The name of the requested charset; may be either a canonical name or an alias\n+     * @return <code>true</code> if, and only if, support for the named charset is available in the current Java virtual machine\n+     * \n+     * @see <a href=\"http://java.sun.com/j2se/1.3/docs/api/java/lang/package-summary.html#charenc\">JRE character\n+     *          encoding names </a>\n+     */\n+    public static boolean isSupported(String name) {\n+        if (name == null) {\n+            return false;\n+        }\n+        try {\n+            new String(ArrayUtils.EMPTY_BYTE_ARRAY, name);\n+        } catch (UnsupportedEncodingException e) {\n+            return false;\n+        }\n+        return true;\n+    }\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/lang/CharEncodingTest.java\n+/*\n+ * Copyright 2001-2004 The Apache Software Foundation.\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.commons.lang;\n+\n+import junit.framework.Test;\n+import junit.framework.TestCase;\n+import junit.framework.TestSuite;\n+import junit.textui.TestRunner;\n+\n+/**\n+ * Tests CharEncoding.\n+ * \n+ * @see CharEncoding\n+ * @author Gary D. Gregory\n+ * @version $Id: CharEncodingTest.java,v 1.1 2004/10/02 01:46:30 bayard Exp $\n+ */\n+public class CharEncodingTest extends TestCase {\n+\n+    public static void main(String[] args) {\n+        TestRunner.run(suite());\n+    }\n+\n+    public static Test suite() {\n+        TestSuite suite = new TestSuite(CharEncodingTest.class);\n+        suite.setName(\"CharEncoding Tests\");\n+        return suite;\n+    }\n+\n+    private void assertSupportedEncoding(String name) {\n+        assertTrue(\"Encoding should be supported: \" + name, CharEncoding.isSupported(name));\n+    }\n+\n+    public void testMustBeSupportedJava1_3_1() {\n+        if (SystemUtils.isJavaVersionAtLeast(1.3f)) {\n+            this.assertSupportedEncoding(CharEncoding.ISO_8859_1);\n+            this.assertSupportedEncoding(CharEncoding.US_ASCII);\n+            this.assertSupportedEncoding(CharEncoding.UTF_16);\n+            this.assertSupportedEncoding(CharEncoding.UTF_16BE);\n+            this.assertSupportedEncoding(CharEncoding.UTF_16LE);\n+            this.assertSupportedEncoding(CharEncoding.UTF_8);\n+        } else {\n+            this.warn(\"Java 1.3 tests not run since the current version is \" + SystemUtils.JAVA_VERSION);\n+        }\n+    }\n+\n+    public void testNotSupported() {\n+        assertFalse(CharEncoding.isSupported(null));\n+        assertFalse(CharEncoding.isSupported(\"\"));\n+        assertFalse(CharEncoding.isSupported(\" \"));\n+        assertFalse(CharEncoding.isSupported(\"\\t\\r\\n\"));\n+        assertFalse(CharEncoding.isSupported(\"DOESNOTEXIST\"));\n+        assertFalse(CharEncoding.isSupported(\"this is not a valid encoding name\"));\n+    }\n+\n+    public void testWorksOnJava1_1_8() {\n+        //\n+        // In this test, I simply deleted the encodings from the 1.3.1 list.\n+        // The Javadoc do not specify which encodings are required.\n+        //\n+        if (SystemUtils.isJavaVersionAtLeast(1.1f)) {\n+            this.assertSupportedEncoding(CharEncoding.ISO_8859_1);\n+            this.assertSupportedEncoding(CharEncoding.US_ASCII);\n+            this.assertSupportedEncoding(CharEncoding.UTF_8);\n+        } else {\n+            this.warn(\"Java 1.1 tests not run since the current version is \" + SystemUtils.JAVA_VERSION);\n+        }\n+    }\n+\n+    public void testWorksOnJava1_2_2() {\n+        //\n+        // In this test, I simply deleted the encodings from the 1.3.1 list.\n+        // The Javadoc do not specify which encodings are required.\n+        //\n+        if (SystemUtils.isJavaVersionAtLeast(1.2f)) {\n+            this.assertSupportedEncoding(CharEncoding.ISO_8859_1);\n+            this.assertSupportedEncoding(CharEncoding.US_ASCII);\n+            this.assertSupportedEncoding(CharEncoding.UTF_8);\n+        } else {\n+            this.warn(\"Java 1.2 tests not run since the current version is \" + SystemUtils.JAVA_VERSION);\n+        }\n+    }\n+\n+    void warn(String msg) {\n+        System.err.println(msg);\n+    }\n+}\n--- a/src/test/org/apache/commons/lang/LangTestSuite.java\n+++ b/src/test/org/apache/commons/lang/LangTestSuite.java\n  * @author Stephen Colebourne\n  * @author <a href=\"mailto:ridesmet@users.sourceforge.net\">Ringo De Smet</a>\n  * @author Matthew Hawthorne\n- * @version $Id: LangTestSuite.java,v 1.28 2004/09/05 00:56:31 bayard Exp $\n+ * @version $Id: LangTestSuite.java,v 1.29 2004/10/02 01:46:30 bayard Exp $\n  */\n public class LangTestSuite extends TestCase {\n     \n         suite.addTest(ArrayUtilsAddTest.suite());\n         suite.addTest(BitFieldTest.suite());\n         suite.addTest(BooleanUtilsTest.suite());\n+        suite.addTest(CharEncodingTest.suite());\n         suite.addTest(CharRangeTest.suite());\n         suite.addTest(CharSetTest.suite());\n         suite.addTest(CharSetUtilsTest.suite());", "timestamp": 1096681590, "metainfo": ""}