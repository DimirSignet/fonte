{"sha": "776f9803e3e501bdda387ddd9c537fc835741222", "log": "Hide NPE from ArrayUtils as IAE   ", "commit": "\n--- a/src/java/org/apache/commons/lang/BooleanUtils.java\n+++ b/src/java/org/apache/commons/lang/BooleanUtils.java\n  * @author Stephen Colebourne\n  * @author Matthew Hawthorne\n  * @since 2.0\n- * @version $Id: BooleanUtils.java,v 1.10 2003/07/31 22:30:07 scolebourne Exp $\n+ * @version $Id: BooleanUtils.java,v 1.11 2003/07/31 23:55:57 scolebourne Exp $\n  */\n public class BooleanUtils {\n \n      * \n      * @param array  an array of <code>Boolean<code>s\n      * @return <code>true</code> if the xor is successful.\n-     * @throws NullPointerException if <code>array</code> contains a <code>null</code>\n      * @throws IllegalArgumentException if <code>array</code> is <code>null</code>\n      * @throws IllegalArgumentException if <code>array</code> is empty.\n+     * @throws IllegalArgumentException if <code>array</code> contains a <code>null</code>\n      */\n     public static Boolean xor(Boolean[] array) {\n-        return (xor(ArrayUtils.toPrimitive(array)) ? Boolean.TRUE : Boolean.FALSE);\n+        if (array == null) {\n+            throw new IllegalArgumentException(\"The Array must not be null\");\n+        } else if (array.length == 0) {\n+            throw new IllegalArgumentException(\"Array is empty\");\n+        }\n+        boolean[] primitive = null;\n+        try {\n+            primitive = ArrayUtils.toPrimitive(array);\n+        } catch (NullPointerException ex) {\n+            throw new IllegalArgumentException(\"The array must not conatin any null elements\");\n+        }\n+        return (xor(primitive) ? Boolean.TRUE : Boolean.FALSE);\n     }\n \n }\n--- a/src/test/org/apache/commons/lang/BooleanUtilsTest.java\n+++ b/src/test/org/apache/commons/lang/BooleanUtilsTest.java\n  *\n  * @author Stephen Colebourne\n  * @author Matthew Hawthorne\n- * @version $Id: BooleanUtilsTest.java,v 1.5 2003/07/30 22:21:39 scolebourne Exp $\n+ * @version $Id: BooleanUtilsTest.java,v 1.6 2003/07/31 23:55:57 scolebourne Exp $\n  */\n public class BooleanUtilsTest extends TestCase {\n \n             fail(\"Exception was not thrown for empty input.\");\n         } catch (IllegalArgumentException ex) {}\n     }\n+    \n+    public void testXor_object_nullElementInput() {\n+        try {\n+            BooleanUtils.xor(new Boolean[] {null});\n+            fail(\"Exception was not thrown for null element input.\");\n+        } catch (IllegalArgumentException ex) {}\n+    }\n \n     public void testXor_object_validInput_2items() {\n         assertTrue(\n                         Boolean.TRUE,\n                         Boolean.TRUE })\n                 .booleanValue());\n+                \n     }\n \n }", "timestamp": 1059695757, "metainfo": ""}